function kR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W_={exports:{}},yd={},H_={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),NR=Symbol.for("react.portal"),DR=Symbol.for("react.fragment"),MR=Symbol.for("react.strict_mode"),VR=Symbol.for("react.profiler"),jR=Symbol.for("react.provider"),OR=Symbol.for("react.context"),LR=Symbol.for("react.forward_ref"),FR=Symbol.for("react.suspense"),BR=Symbol.for("react.memo"),UR=Symbol.for("react.lazy"),D0=Symbol.iterator;function zR(t){return t===null||typeof t!="object"?null:(t=D0&&t[D0]||t["@@iterator"],typeof t=="function"?t:null)}var q_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K_=Object.assign,G_={};function Io(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||q_}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q_(){}Q_.prototype=Io.prototype;function Km(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||q_}var Gm=Km.prototype=new Q_;Gm.constructor=Km;K_(Gm,Io.prototype);Gm.isPureReactComponent=!0;var M0=Array.isArray,Y_=Object.prototype.hasOwnProperty,Qm={current:null},X_={key:!0,ref:!0,__self:!0,__source:!0};function J_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Y_.call(e,r)&&!X_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Pl,type:t,key:i,ref:o,props:s,_owner:Qm.current}}function $R(t,e){return{$$typeof:Pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pl}function WR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V0=/\/+/g;function Fh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WR(""+t.key):e.toString(36)}function $c(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pl:case NR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Fh(o,0):r,M0(s)?(n="",t!=null&&(n=t.replace(V0,"$&/")+"/"),$c(s,e,n,"",function(c){return c})):s!=null&&(Ym(s)&&(s=$R(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(V0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",M0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Fh(i,a);o+=$c(i,e,n,l,s)}else if(l=zR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Fh(i,a++),o+=$c(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hc(t,e,n){if(t==null)return t;var r=[],s=0;return $c(t,r,"","",function(i){return e.call(n,i,s++)}),r}function HR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},Wc={transition:null},qR={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:Qm};function Z_(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:hc,forEach:function(t,e,n){hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hc(t,function(){e++}),e},toArray:function(t){return hc(t,function(e){return e})||[]},only:function(t){if(!Ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Io;he.Fragment=DR;he.Profiler=VR;he.PureComponent=Km;he.StrictMode=MR;he.Suspense=FR;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;he.act=Z_;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Y_.call(e,l)&&!X_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Pl,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:OR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jR,_context:t},t.Consumer=t};he.createElement=J_;he.createFactory=function(t){var e=J_.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:LR,render:t}};he.isValidElement=Ym;he.lazy=function(t){return{$$typeof:UR,_payload:{_status:-1,_result:t},_init:HR}};he.memo=function(t,e){return{$$typeof:BR,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};he.unstable_act=Z_;he.useCallback=function(t,e){return $t.current.useCallback(t,e)};he.useContext=function(t){return $t.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};he.useEffect=function(t,e){return $t.current.useEffect(t,e)};he.useId=function(){return $t.current.useId()};he.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return $t.current.useMemo(t,e)};he.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};he.useRef=function(t){return $t.current.useRef(t)};he.useState=function(t){return $t.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return $t.current.useTransition()};he.version="18.3.1";H_.exports=he;var v=H_.exports;const Ur=$_(v),eE=kR({__proto__:null,default:Ur},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR=v,GR=Symbol.for("react.element"),QR=Symbol.for("react.fragment"),YR=Object.prototype.hasOwnProperty,XR=KR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JR={key:!0,ref:!0,__self:!0,__source:!0};function tE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YR.call(e,r)&&!JR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:GR,type:t,key:i,ref:o,props:s,_owner:XR.current}}yd.Fragment=QR;yd.jsx=tE;yd.jsxs=tE;W_.exports=yd;var p=W_.exports,nE={exports:{}},fn={},rE={exports:{}},sE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var Y=L.length;L.push(z);e:for(;0<Y;){var ie=Y-1>>>1,ge=L[ie];if(0<s(ge,z))L[ie]=z,L[Y]=ge,Y=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],Y=L.pop();if(Y!==z){L[0]=Y;e:for(var ie=0,ge=L.length,Ie=ge>>>1;ie<Ie;){var Ge=2*(ie+1)-1,ut=L[Ge],ot=Ge+1,ee=L[ot];if(0>s(ut,Y))ot<ge&&0>s(ee,ut)?(L[ie]=ee,L[ot]=Y,ie=ot):(L[ie]=ut,L[Ge]=Y,ie=Ge);else if(ot<ge&&0>s(ee,Y))L[ie]=ee,L[ot]=Y,ie=ot;else break e}}return z}function s(L,z){var Y=L.sortIndex-z.sortIndex;return Y!==0?Y:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,E=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=L)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function A(L){if(w=!1,S(L),!E)if(n(l)!==null)E=!0,J(k);else{var z=n(c);z!==null&&q(A,z.startTime-L)}}function k(L,z){E=!1,w&&(w=!1,y(C),C=-1),g=!0;var Y=f;try{for(S(z),h=n(l);h!==null&&(!(h.expirationTime>z)||L&&!D());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var ge=ie(h.expirationTime<=z);z=t.unstable_now(),typeof ge=="function"?h.callback=ge:h===n(l)&&r(l),S(z)}else r(l);h=n(l)}if(h!==null)var Ie=!0;else{var Ge=n(c);Ge!==null&&q(A,Ge.startTime-z),Ie=!1}return Ie}finally{h=null,f=Y,g=!1}}var V=!1,I=null,C=-1,P=5,R=-1;function D(){return!(t.unstable_now()-R<P)}function M(){if(I!==null){var L=t.unstable_now();R=L;var z=!0;try{z=I(!0,L)}finally{z?N():(V=!1,I=null)}}else V=!1}var N;if(typeof x=="function")N=function(){x(M)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ue=Z.port2;Z.port1.onmessage=M,N=function(){ue.postMessage(null)}}else N=function(){T(M,0)};function J(L){I=L,V||(V=!0,N())}function q(L,z){C=T(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,J(k))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Y=f;f=z;try{return L()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=f;f=L;try{return z()}finally{f=Y}},t.unstable_scheduleCallback=function(L,z,Y){var ie=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,L){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,L={id:d++,callback:z,priorityLevel:L,startTime:Y,expirationTime:ge,sortIndex:-1},Y>ie?(L.sortIndex=Y,e(c,L),n(l)===null&&L===n(c)&&(w?(y(C),C=-1):w=!0,q(A,Y-ie))):(L.sortIndex=ge,e(l,L),E||g||(E=!0,J(k))),L},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(L){var z=f;return function(){var Y=f;f=z;try{return L.apply(this,arguments)}finally{f=Y}}}})(sE);rE.exports=sE;var ZR=rE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek=v,dn=ZR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iE=new Set,qa={};function hi(t,e){oo(t,e),oo(t+"Capture",e)}function oo(t,e){for(qa[t]=e,t=0;t<e.length;t++)iE.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,tk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j0={},O0={};function nk(t){return Gf.call(O0,t)?!0:Gf.call(j0,t)?!1:tk.test(t)?O0[t]=!0:(j0[t]=!0,!1)}function rk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sk(t,e,n,r){if(e===null||typeof e>"u"||rk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);Et[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);Et[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xm,Jm);Et[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zm(t,e,n,r){var s=Et.hasOwnProperty(e)?Et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sk(e,n,s,r)&&(n=null),r||s===null?nk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nr=ek.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),oE=Symbol.for("react.provider"),aE=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),Xf=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),lE=Symbol.for("react.offscreen"),L0=Symbol.iterator;function na(t){return t===null||typeof t!="object"?null:(t=L0&&t[L0]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Bh;function ga(t){if(Bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bh=e&&e[1]||""}return`
`+Bh+t}var Uh=!1;function zh(t,e){if(!t||Uh)return"";Uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Uh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ga(t):""}function ik(t){switch(t.tag){case 5:return ga(t.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 2:case 15:return t=zh(t.type,!1),t;case 11:return t=zh(t.type.render,!1),t;case 1:return t=zh(t.type,!0),t;default:return""}}function Jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case Ni:return"Portal";case Qf:return"Profiler";case eg:return"StrictMode";case Yf:return"Suspense";case Xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aE:return(t.displayName||"Context")+".Consumer";case oE:return(t._context.displayName||"Context")+".Provider";case tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ng:return e=t.displayName||null,e!==null?e:Jf(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return Jf(t(e))}catch{}}return null}function ok(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jf(e);case 8:return e===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ak(t){var e=cE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pc(t){t._valueTracker||(t._valueTracker=ak(t))}function uE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zf(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function F0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dE(t,e){e=e.checked,e!=null&&Zm(t,"checked",e,!1)}function ep(t,e){dE(t,e);var n=hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&tp(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tp(t,e,n){(e!=="number"||mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ya=Array.isArray;function Qi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function np(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ya(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function hE(t,e){var n=hs(e.value),r=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function z0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mc,pE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lk=["Webkit","ms","Moz","O"];Object.keys(Aa).forEach(function(t){lk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Aa[e]=Aa[t]})});function mE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Aa.hasOwnProperty(t)&&Aa[t]?(""+e).trim():e+"px"}function gE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ck=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sp(t,e){if(e){if(ck[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=null;function rg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ap=null,Yi=null,Xi=null;function $0(t){if(t=Nl(t)){if(typeof ap!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ed(e),ap(t.stateNode,t.type,e))}}function yE(t){Yi?Xi?Xi.push(t):Xi=[t]:Yi=t}function vE(){if(Yi){var t=Yi,e=Xi;if(Xi=Yi=null,$0(t),e)for(t=0;t<e.length;t++)$0(e[t])}}function wE(t,e){return t(e)}function xE(){}var $h=!1;function _E(t,e,n){if($h)return t(e,n);$h=!0;try{return wE(t,e,n)}finally{$h=!1,(Yi!==null||Xi!==null)&&(xE(),vE())}}function Ga(t,e){var n=t.stateNode;if(n===null)return null;var r=Ed(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var lp=!1;if(xr)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){lp=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{lp=!1}function uk(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Pa=!1,gu=null,yu=!1,cp=null,dk={onError:function(t){Pa=!0,gu=t}};function hk(t,e,n,r,s,i,o,a,l){Pa=!1,gu=null,uk.apply(dk,arguments)}function fk(t,e,n,r,s,i,o,a,l){if(hk.apply(this,arguments),Pa){if(Pa){var c=gu;Pa=!1,gu=null}else throw Error(U(198));yu||(yu=!0,cp=c)}}function fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W0(t){if(fi(t)!==t)throw Error(U(188))}function pk(t){var e=t.alternate;if(!e){if(e=fi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return W0(s),t;if(i===r)return W0(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function TE(t){return t=pk(t),t!==null?SE(t):null}function SE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SE(t);if(e!==null)return e;t=t.sibling}return null}var CE=dn.unstable_scheduleCallback,H0=dn.unstable_cancelCallback,mk=dn.unstable_shouldYield,gk=dn.unstable_requestPaint,tt=dn.unstable_now,yk=dn.unstable_getCurrentPriorityLevel,sg=dn.unstable_ImmediatePriority,IE=dn.unstable_UserBlockingPriority,vu=dn.unstable_NormalPriority,vk=dn.unstable_LowPriority,bE=dn.unstable_IdlePriority,vd=null,Yn=null;function wk(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(vd,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:Ek,xk=Math.log,_k=Math.LN2;function Ek(t){return t>>>=0,t===0?32:31-(xk(t)/_k|0)|0}var gc=64,yc=4194304;function va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=va(a):(i&=o,i!==0&&(r=va(i)))}else o=n&~s,o!==0?r=va(o):i!==0&&(r=va(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),s=1<<n,r|=t[n],e&=~s;return r}function Tk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-jn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Tk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function up(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AE(){var t=gc;return gc<<=1,!(gc&4194240)&&(gc=64),t}function Wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function Ck(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function PE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RE,og,kE,NE,DE,dp=!1,vc=[],Jr=null,Zr=null,es=null,Qa=new Map,Ya=new Map,qr=[],Ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(e.pointerId)}}function sa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Nl(e),e!==null&&og(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bk(t,e,n,r,s){switch(e){case"focusin":return Jr=sa(Jr,t,e,n,r,s),!0;case"dragenter":return Zr=sa(Zr,t,e,n,r,s),!0;case"mouseover":return es=sa(es,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qa.set(i,sa(Qa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ya.set(i,sa(Ya.get(i)||null,t,e,n,r,s)),!0}return!1}function ME(t){var e=Us(t.target);if(e!==null){var n=fi(e);if(n!==null){if(e=n.tag,e===13){if(e=EE(n),e!==null){t.blockedOn=e,DE(t.priority,function(){kE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);op=r,n.target.dispatchEvent(r),op=null}else return e=Nl(n),e!==null&&og(e),t.blockedOn=n,!1;e.shift()}return!0}function K0(t,e,n){Hc(t)&&n.delete(e)}function Ak(){dp=!1,Jr!==null&&Hc(Jr)&&(Jr=null),Zr!==null&&Hc(Zr)&&(Zr=null),es!==null&&Hc(es)&&(es=null),Qa.forEach(K0),Ya.forEach(K0)}function ia(t,e){t.blockedOn===e&&(t.blockedOn=null,dp||(dp=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,Ak)))}function Xa(t){function e(s){return ia(s,t)}if(0<vc.length){ia(vc[0],t);for(var n=1;n<vc.length;n++){var r=vc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&ia(Jr,t),Zr!==null&&ia(Zr,t),es!==null&&ia(es,t),Qa.forEach(e),Ya.forEach(e),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)ME(n),n.blockedOn===null&&qr.shift()}var Ji=Nr.ReactCurrentBatchConfig,xu=!0;function Pk(t,e,n,r){var s=Ae,i=Ji.transition;Ji.transition=null;try{Ae=1,ag(t,e,n,r)}finally{Ae=s,Ji.transition=i}}function Rk(t,e,n,r){var s=Ae,i=Ji.transition;Ji.transition=null;try{Ae=4,ag(t,e,n,r)}finally{Ae=s,Ji.transition=i}}function ag(t,e,n,r){if(xu){var s=hp(t,e,n,r);if(s===null)ef(t,e,r,_u,n),q0(t,r);else if(bk(s,t,e,n,r))r.stopPropagation();else if(q0(t,r),e&4&&-1<Ik.indexOf(t)){for(;s!==null;){var i=Nl(s);if(i!==null&&RE(i),i=hp(t,e,n,r),i===null&&ef(t,e,r,_u,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ef(t,e,r,null,n)}}var _u=null;function hp(t,e,n,r){if(_u=null,t=rg(r),t=Us(t),t!==null)if(e=fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _u=t,null}function VE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yk()){case sg:return 1;case IE:return 4;case vu:case vk:return 16;case bE:return 536870912;default:return 16}default:return 16}}var Gr=null,lg=null,qc=null;function jE(){if(qc)return qc;var t,e=lg,n=e.length,r,s="value"in Gr?Gr.value:Gr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qc=s.slice(t,1<r?1-r:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wc(){return!0}function G0(){return!1}function pn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wc:G0,this.isPropagationStopped=G0,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),e}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=pn(bo),kl=He({},bo,{view:0,detail:0}),kk=pn(kl),Hh,qh,oa,wd=He({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Hh=t.screenX-oa.screenX,qh=t.screenY-oa.screenY):qh=Hh=0,oa=t),Hh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),Q0=pn(wd),Nk=He({},wd,{dataTransfer:0}),Dk=pn(Nk),Mk=He({},kl,{relatedTarget:0}),Kh=pn(Mk),Vk=He({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),jk=pn(Vk),Ok=He({},bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lk=pn(Ok),Fk=He({},bo,{data:0}),Y0=pn(Fk),Bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zk[t])?!!e[t]:!1}function ug(){return $k}var Wk=He({},kl,{key:function(t){if(t.key){var e=Bk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hk=pn(Wk),qk=He({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=pn(qk),Kk=He({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),Gk=pn(Kk),Qk=He({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yk=pn(Qk),Xk=He({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jk=pn(Xk),Zk=[9,13,27,32],dg=xr&&"CompositionEvent"in window,Ra=null;xr&&"documentMode"in document&&(Ra=document.documentMode);var e2=xr&&"TextEvent"in window&&!Ra,OE=xr&&(!dg||Ra&&8<Ra&&11>=Ra),J0=" ",Z0=!1;function LE(t,e){switch(t){case"keyup":return Zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mi=!1;function t2(t,e){switch(t){case"compositionend":return FE(e);case"keypress":return e.which!==32?null:(Z0=!0,J0);case"textInput":return t=e.data,t===J0&&Z0?null:t;default:return null}}function n2(t,e){if(Mi)return t==="compositionend"||!dg&&LE(t,e)?(t=jE(),qc=lg=Gr=null,Mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OE&&e.locale!=="ko"?null:e.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r2[t.type]:e==="textarea"}function BE(t,e,n,r){yE(r),e=Eu(e,"onChange"),0<e.length&&(n=new cg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ka=null,Ja=null;function s2(t){XE(t,0)}function xd(t){var e=Oi(t);if(uE(e))return t}function i2(t,e){if(t==="change")return e}var UE=!1;if(xr){var Gh;if(xr){var Qh="oninput"in document;if(!Qh){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),Qh=typeof tw.oninput=="function"}Gh=Qh}else Gh=!1;UE=Gh&&(!document.documentMode||9<document.documentMode)}function nw(){ka&&(ka.detachEvent("onpropertychange",zE),Ja=ka=null)}function zE(t){if(t.propertyName==="value"&&xd(Ja)){var e=[];BE(e,Ja,t,rg(t)),_E(s2,e)}}function o2(t,e,n){t==="focusin"?(nw(),ka=e,Ja=n,ka.attachEvent("onpropertychange",zE)):t==="focusout"&&nw()}function a2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(Ja)}function l2(t,e){if(t==="click")return xd(e)}function c2(t,e){if(t==="input"||t==="change")return xd(e)}function u2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:u2;function Za(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gf.call(e,s)||!Ln(t[s],e[s]))return!1}return!0}function rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sw(t,e){var n=rw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function $E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WE(){for(var t=window,e=mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mu(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d2(t){var e=WE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$E(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=sw(n,i);var o=sw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h2=xr&&"documentMode"in document&&11>=document.documentMode,Vi=null,fp=null,Na=null,pp=!1;function iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pp||Vi==null||Vi!==mu(r)||(r=Vi,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&Za(Na,r)||(Na=r,r=Eu(fp,"onSelect"),0<r.length&&(e=new cg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vi)))}function xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ji={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},Yh={},HE={};xr&&(HE=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function _d(t){if(Yh[t])return Yh[t];if(!ji[t])return t;var e=ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HE)return Yh[t]=e[n];return t}var qE=_d("animationend"),KE=_d("animationiteration"),GE=_d("animationstart"),QE=_d("transitionend"),YE=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){YE.set(t,e),hi(e,[t])}for(var Xh=0;Xh<ow.length;Xh++){var Jh=ow[Xh],f2=Jh.toLowerCase(),p2=Jh[0].toUpperCase()+Jh.slice(1);Ts(f2,"on"+p2)}Ts(qE,"onAnimationEnd");Ts(KE,"onAnimationIteration");Ts(GE,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(QE,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function aw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fk(r,e,void 0,t),t.currentTarget=null}function XE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;aw(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;aw(s,a,c),i=l}}}if(yu)throw t=cp,yu=!1,cp=null,t}function je(t,e){var n=e[wp];n===void 0&&(n=e[wp]=new Set);var r=t+"__bubble";n.has(r)||(JE(e,t,2,!1),n.add(r))}function Zh(t,e,n){var r=0;e&&(r|=4),JE(n,t,r,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function el(t){if(!t[_c]){t[_c]=!0,iE.forEach(function(n){n!=="selectionchange"&&(m2.has(n)||Zh(n,!1,t),Zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_c]||(e[_c]=!0,Zh("selectionchange",!1,e))}}function JE(t,e,n,r){switch(VE(e)){case 1:var s=Pk;break;case 4:s=Rk;break;default:s=ag}n=s.bind(null,e,n,t),s=void 0,!lp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ef(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Us(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}_E(function(){var c=i,d=rg(n),h=[];e:{var f=YE.get(t);if(f!==void 0){var g=cg,E=t;switch(t){case"keypress":if(Kc(n)===0)break e;case"keydown":case"keyup":g=Hk;break;case"focusin":E="focus",g=Kh;break;case"focusout":E="blur",g=Kh;break;case"beforeblur":case"afterblur":g=Kh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Gk;break;case qE:case KE:case GE:g=jk;break;case QE:g=Yk;break;case"scroll":g=kk;break;case"wheel":g=Jk;break;case"copy":case"cut":case"paste":g=Lk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=X0}var w=(e&4)!==0,T=!w&&t==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var x=c,S;x!==null;){S=x;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,y!==null&&(A=Ga(x,y),A!=null&&w.push(tl(x,A,S)))),T)break;x=x.return}0<w.length&&(f=new g(f,E,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==op&&(E=n.relatedTarget||n.fromElement)&&(Us(E)||E[_r]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?Us(E):null,E!==null&&(T=fi(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=c),g!==E)){if(w=Q0,A="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=X0,A="onPointerLeave",y="onPointerEnter",x="pointer"),T=g==null?f:Oi(g),S=E==null?f:Oi(E),f=new w(A,x+"leave",g,n,d),f.target=T,f.relatedTarget=S,A=null,Us(d)===c&&(w=new w(y,x+"enter",E,n,d),w.target=S,w.relatedTarget=T,A=w),T=A,g&&E)t:{for(w=g,y=E,x=0,S=w;S;S=Si(S))x++;for(S=0,A=y;A;A=Si(A))S++;for(;0<x-S;)w=Si(w),x--;for(;0<S-x;)y=Si(y),S--;for(;x--;){if(w===y||y!==null&&w===y.alternate)break t;w=Si(w),y=Si(y)}w=null}else w=null;g!==null&&lw(h,f,g,w,!1),E!==null&&T!==null&&lw(h,T,E,w,!0)}}e:{if(f=c?Oi(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=i2;else if(ew(f))if(UE)k=c2;else{k=a2;var V=o2}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=l2);if(k&&(k=k(t,c))){BE(h,k,n,d);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&tp(f,"number",f.value)}switch(V=c?Oi(c):window,t){case"focusin":(ew(V)||V.contentEditable==="true")&&(Vi=V,fp=c,Na=null);break;case"focusout":Na=fp=Vi=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,iw(h,n,d);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":iw(h,n,d)}var I;if(dg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Mi?LE(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(OE&&n.locale!=="ko"&&(Mi||C!=="onCompositionStart"?C==="onCompositionEnd"&&Mi&&(I=jE()):(Gr=d,lg="value"in Gr?Gr.value:Gr.textContent,Mi=!0)),V=Eu(c,C),0<V.length&&(C=new Y0(C,t,null,n,d),h.push({event:C,listeners:V}),I?C.data=I:(I=FE(n),I!==null&&(C.data=I)))),(I=e2?t2(t,n):n2(t,n))&&(c=Eu(c,"onBeforeInput"),0<c.length&&(d=new Y0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}XE(h,e)})}function tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ga(t,n),i!=null&&r.unshift(tl(t,i,s)),i=Ga(t,e),i!=null&&r.push(tl(t,i,s))),t=t.return}return r}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ga(n,i),l!=null&&o.unshift(tl(n,l,a))):s||(l=Ga(n,i),l!=null&&o.push(tl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function cw(t){return(typeof t=="string"?t:""+t).replace(g2,`
`).replace(y2,"")}function Ec(t,e,n){if(e=cw(e),cw(t)!==e&&n)throw Error(U(425))}function Tu(){}var mp=null,gp=null;function yp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vp=typeof setTimeout=="function"?setTimeout:void 0,v2=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(t){return uw.resolve(null).then(t).catch(x2)}:vp;function x2(t){setTimeout(function(){throw t})}function tf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Xa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xa(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ao,nl="__reactProps$"+Ao,_r="__reactContainer$"+Ao,wp="__reactEvents$"+Ao,_2="__reactListeners$"+Ao,E2="__reactHandles$"+Ao;function Us(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dw(t);t!==null;){if(n=t[Gn])return n;t=dw(t)}return e}t=n,n=t.parentNode}return null}function Nl(t){return t=t[Gn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ed(t){return t[nl]||null}var xp=[],Li=-1;function Ss(t){return{current:t}}function Fe(t){0>Li||(t.current=xp[Li],xp[Li]=null,Li--)}function Ne(t,e){Li++,xp[Li]=t.current,t.current=e}var fs={},Ot=Ss(fs),Qt=Ss(!1),Xs=fs;function ao(t,e){var n=t.type.contextTypes;if(!n)return fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(t){return t=t.childContextTypes,t!=null}function Su(){Fe(Qt),Fe(Ot)}function hw(t,e,n){if(Ot.current!==fs)throw Error(U(168));Ne(Ot,e),Ne(Qt,n)}function ZE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,ok(t)||"Unknown",s));return He({},n,r)}function Cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,Xs=Ot.current,Ne(Ot,t),Ne(Qt,Qt.current),!0}function fw(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=ZE(t,e,Xs),r.__reactInternalMemoizedMergedChildContext=t,Fe(Qt),Fe(Ot),Ne(Ot,t)):Fe(Qt),Ne(Qt,n)}var fr=null,Td=!1,nf=!1;function eT(t){fr===null?fr=[t]:fr.push(t)}function T2(t){Td=!0,eT(t)}function Cs(){if(!nf&&fr!==null){nf=!0;var t=0,e=Ae;try{var n=fr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Td=!1}catch(s){throw fr!==null&&(fr=fr.slice(t+1)),CE(sg,Cs),s}finally{Ae=e,nf=!1}}return null}var Fi=[],Bi=0,Iu=null,bu=0,vn=[],wn=0,Js=null,pr=1,mr="";function Vs(t,e){Fi[Bi++]=bu,Fi[Bi++]=Iu,Iu=t,bu=e}function tT(t,e,n){vn[wn++]=pr,vn[wn++]=mr,vn[wn++]=Js,Js=t;var r=pr;t=mr;var s=32-jn(r)-1;r&=~(1<<s),n+=1;var i=32-jn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pr=1<<32-jn(e)+s|n<<s|r,mr=i+t}else pr=1<<i|n<<s|r,mr=t}function fg(t){t.return!==null&&(Vs(t,1),tT(t,1,0))}function pg(t){for(;t===Iu;)Iu=Fi[--Bi],Fi[Bi]=null,bu=Fi[--Bi],Fi[Bi]=null;for(;t===Js;)Js=vn[--wn],vn[wn]=null,mr=vn[--wn],vn[wn]=null,pr=vn[--wn],vn[wn]=null}var ln=null,on=null,Ue=!1,Mn=null;function nT(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,on=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Js!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,on=null,!0):!1;default:return!1}}function _p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ep(t){if(Ue){var e=on;if(e){var n=e;if(!pw(t,e)){if(_p(t))throw Error(U(418));e=ts(n.nextSibling);var r=ln;e&&pw(t,e)?nT(r,n):(t.flags=t.flags&-4097|2,Ue=!1,ln=t)}}else{if(_p(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ue=!1,ln=t}}}function mw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Tc(t){if(t!==ln)return!1;if(!Ue)return mw(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yp(t.type,t.memoizedProps)),e&&(e=on)){if(_p(t))throw rT(),Error(U(418));for(;e;)nT(t,e),e=ts(e.nextSibling)}if(mw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=ln?ts(t.stateNode.nextSibling):null;return!0}function rT(){for(var t=on;t;)t=ts(t.nextSibling)}function lo(){on=ln=null,Ue=!1}function mg(t){Mn===null?Mn=[t]:Mn.push(t)}var S2=Nr.ReactCurrentBatchConfig;function aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Sc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gw(t){var e=t._init;return e(t._payload)}function sT(t){function e(y,x){if(t){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=is(y,x),y.index=0,y.sibling=null,y}function i(y,x,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=2,x):S):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,S,A){return x===null||x.tag!==6?(x=uf(S,y.mode,A),x.return=y,x):(x=s(x,S),x.return=y,x)}function l(y,x,S,A){var k=S.type;return k===Di?d(y,x,S.props.children,A,S.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Wr&&gw(k)===x.type)?(A=s(x,S.props),A.ref=aa(y,x,S),A.return=y,A):(A=eu(S.type,S.key,S.props,null,y.mode,A),A.ref=aa(y,x,S),A.return=y,A)}function c(y,x,S,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=df(S,y.mode,A),x.return=y,x):(x=s(x,S.children||[]),x.return=y,x)}function d(y,x,S,A,k){return x===null||x.tag!==7?(x=Gs(S,y.mode,A,k),x.return=y,x):(x=s(x,S),x.return=y,x)}function h(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=uf(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fc:return S=eu(x.type,x.key,x.props,null,y.mode,S),S.ref=aa(y,null,x),S.return=y,S;case Ni:return x=df(x,y.mode,S),x.return=y,x;case Wr:var A=x._init;return h(y,A(x._payload),S)}if(ya(x)||na(x))return x=Gs(x,y.mode,S,null),x.return=y,x;Sc(y,x)}return null}function f(y,x,S,A){var k=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(y,x,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case fc:return S.key===k?l(y,x,S,A):null;case Ni:return S.key===k?c(y,x,S,A):null;case Wr:return k=S._init,f(y,x,k(S._payload),A)}if(ya(S)||na(S))return k!==null?null:d(y,x,S,A,null);Sc(y,S)}return null}function g(y,x,S,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(S)||null,a(x,y,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case fc:return y=y.get(A.key===null?S:A.key)||null,l(x,y,A,k);case Ni:return y=y.get(A.key===null?S:A.key)||null,c(x,y,A,k);case Wr:var V=A._init;return g(y,x,S,V(A._payload),k)}if(ya(A)||na(A))return y=y.get(S)||null,d(x,y,A,k,null);Sc(x,A)}return null}function E(y,x,S,A){for(var k=null,V=null,I=x,C=x=0,P=null;I!==null&&C<S.length;C++){I.index>C?(P=I,I=null):P=I.sibling;var R=f(y,I,S[C],A);if(R===null){I===null&&(I=P);break}t&&I&&R.alternate===null&&e(y,I),x=i(R,x,C),V===null?k=R:V.sibling=R,V=R,I=P}if(C===S.length)return n(y,I),Ue&&Vs(y,C),k;if(I===null){for(;C<S.length;C++)I=h(y,S[C],A),I!==null&&(x=i(I,x,C),V===null?k=I:V.sibling=I,V=I);return Ue&&Vs(y,C),k}for(I=r(y,I);C<S.length;C++)P=g(I,y,C,S[C],A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?C:P.key),x=i(P,x,C),V===null?k=P:V.sibling=P,V=P);return t&&I.forEach(function(D){return e(y,D)}),Ue&&Vs(y,C),k}function w(y,x,S,A){var k=na(S);if(typeof k!="function")throw Error(U(150));if(S=k.call(S),S==null)throw Error(U(151));for(var V=k=null,I=x,C=x=0,P=null,R=S.next();I!==null&&!R.done;C++,R=S.next()){I.index>C?(P=I,I=null):P=I.sibling;var D=f(y,I,R.value,A);if(D===null){I===null&&(I=P);break}t&&I&&D.alternate===null&&e(y,I),x=i(D,x,C),V===null?k=D:V.sibling=D,V=D,I=P}if(R.done)return n(y,I),Ue&&Vs(y,C),k;if(I===null){for(;!R.done;C++,R=S.next())R=h(y,R.value,A),R!==null&&(x=i(R,x,C),V===null?k=R:V.sibling=R,V=R);return Ue&&Vs(y,C),k}for(I=r(y,I);!R.done;C++,R=S.next())R=g(I,y,C,R.value,A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?C:R.key),x=i(R,x,C),V===null?k=R:V.sibling=R,V=R);return t&&I.forEach(function(M){return e(y,M)}),Ue&&Vs(y,C),k}function T(y,x,S,A){if(typeof S=="object"&&S!==null&&S.type===Di&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case fc:e:{for(var k=S.key,V=x;V!==null;){if(V.key===k){if(k=S.type,k===Di){if(V.tag===7){n(y,V.sibling),x=s(V,S.props.children),x.return=y,y=x;break e}}else if(V.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Wr&&gw(k)===V.type){n(y,V.sibling),x=s(V,S.props),x.ref=aa(y,V,S),x.return=y,y=x;break e}n(y,V);break}else e(y,V);V=V.sibling}S.type===Di?(x=Gs(S.props.children,y.mode,A,S.key),x.return=y,y=x):(A=eu(S.type,S.key,S.props,null,y.mode,A),A.ref=aa(y,x,S),A.return=y,y=A)}return o(y);case Ni:e:{for(V=S.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),x=s(x,S.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=df(S,y.mode,A),x.return=y,y=x}return o(y);case Wr:return V=S._init,T(y,x,V(S._payload),A)}if(ya(S))return E(y,x,S,A);if(na(S))return w(y,x,S,A);Sc(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,S),x.return=y,y=x):(n(y,x),x=uf(S,y.mode,A),x.return=y,y=x),o(y)):n(y,x)}return T}var co=sT(!0),iT=sT(!1),Au=Ss(null),Pu=null,Ui=null,gg=null;function yg(){gg=Ui=Pu=null}function vg(t){var e=Au.current;Fe(Au),t._currentValue=e}function Tp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zi(t,e){Pu=t,gg=Ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(gg!==t)if(t={context:t,memoizedValue:e,next:null},Ui===null){if(Pu===null)throw Error(U(308));Ui=t,Pu.dependencies={lanes:0,firstContext:t}}else Ui=Ui.next=t;return e}var zs=null;function wg(t){zs===null?zs=[t]:zs.push(t)}function oT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,wg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hr=!1;function xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Er(t,n)}return s=r.interleaved,s===null?(e.next=e,wg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Er(t,n)}function Gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}function yw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ru(t,e,n,r){var s=t.updateQueue;Hr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,w=a;switch(f=e,g=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){h=E.call(g,h,f);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,f=typeof E=="function"?E.call(g,h,f):E,f==null)break e;h=He({},h,f);break e;case 2:Hr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ei|=o,t.lanes=o,t.memoizedState=h}}function vw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Dl={},Xn=Ss(Dl),rl=Ss(Dl),sl=Ss(Dl);function $s(t){if(t===Dl)throw Error(U(174));return t}function _g(t,e){switch(Ne(sl,e),Ne(rl,t),Ne(Xn,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rp(e,t)}Fe(Xn),Ne(Xn,e)}function uo(){Fe(Xn),Fe(rl),Fe(sl)}function lT(t){$s(sl.current);var e=$s(Xn.current),n=rp(e,t.type);e!==n&&(Ne(rl,t),Ne(Xn,n))}function Eg(t){rl.current===t&&(Fe(Xn),Fe(rl))}var ze=Ss(0);function ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rf=[];function Tg(){for(var t=0;t<rf.length;t++)rf[t]._workInProgressVersionPrimary=null;rf.length=0}var Qc=Nr.ReactCurrentDispatcher,sf=Nr.ReactCurrentBatchConfig,Zs=0,We=null,lt=null,ft=null,Nu=!1,Da=!1,il=0,C2=0;function At(){throw Error(U(321))}function Sg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function Cg(t,e,n,r,s,i){if(Zs=i,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qc.current=t===null||t.memoizedState===null?P2:R2,t=n(r,s),Da){i=0;do{if(Da=!1,il=0,25<=i)throw Error(U(301));i+=1,ft=lt=null,e.updateQueue=null,Qc.current=k2,t=n(r,s)}while(Da)}if(Qc.current=Du,e=lt!==null&&lt.next!==null,Zs=0,ft=lt=We=null,Nu=!1,e)throw Error(U(300));return t}function Ig(){var t=il!==0;return il=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?We.memoizedState=ft=t:ft=ft.next=t,ft}function bn(){if(lt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=ft===null?We.memoizedState:ft.next;if(e!==null)ft=e,lt=t;else{if(t===null)throw Error(U(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?We.memoizedState=ft=t:ft=ft.next=t}return ft}function ol(t,e){return typeof e=="function"?e(t):e}function of(t){var e=bn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=lt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Zs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,We.lanes|=d,ei|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ln(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,We.lanes|=i,ei|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function af(t){var e=bn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ln(i,e.memoizedState)||(Gt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function cT(){}function uT(t,e){var n=We,r=bn(),s=e(),i=!Ln(r.memoizedState,s);if(i&&(r.memoizedState=s,Gt=!0),r=r.queue,bg(fT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,al(9,hT.bind(null,n,r,s,e),void 0,null),pt===null)throw Error(U(349));Zs&30||dT(n,e,s)}return s}function dT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hT(t,e,n,r){e.value=n,e.getSnapshot=r,pT(e)&&mT(t)}function fT(t,e,n){return n(function(){pT(e)&&mT(t)})}function pT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function mT(t){var e=Er(t,1);e!==null&&On(e,t,1,-1)}function ww(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:t},e.queue=t,t=t.dispatch=A2.bind(null,We,t),[e.memoizedState,t]}function al(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gT(){return bn().memoizedState}function Yc(t,e,n,r){var s=Kn();We.flags|=t,s.memoizedState=al(1|e,n,void 0,r===void 0?null:r)}function Sd(t,e,n,r){var s=bn();r=r===void 0?null:r;var i=void 0;if(lt!==null){var o=lt.memoizedState;if(i=o.destroy,r!==null&&Sg(r,o.deps)){s.memoizedState=al(e,n,i,r);return}}We.flags|=t,s.memoizedState=al(1|e,n,i,r)}function xw(t,e){return Yc(8390656,8,t,e)}function bg(t,e){return Sd(2048,8,t,e)}function yT(t,e){return Sd(4,2,t,e)}function vT(t,e){return Sd(4,4,t,e)}function wT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xT(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4,4,wT.bind(null,e,t),n)}function Ag(){}function _T(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ET(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TT(t,e,n){return Zs&21?(Ln(n,e)||(n=AE(),We.lanes|=n,ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function I2(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=sf.transition;sf.transition={};try{t(!1),e()}finally{Ae=n,sf.transition=r}}function ST(){return bn().memoizedState}function b2(t,e,n){var r=ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CT(t))IT(e,n);else if(n=oT(t,e,n,r),n!==null){var s=Ut();On(n,t,r,s),bT(n,e,r)}}function A2(t,e,n){var r=ss(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CT(t))IT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ln(a,o)){var l=e.interleaved;l===null?(s.next=s,wg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=oT(t,e,s,r),n!==null&&(s=Ut(),On(n,t,r,s),bT(n,e,r))}}function CT(t){var e=t.alternate;return t===We||e!==null&&e===We}function IT(t,e){Da=Nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}var Du={readContext:In,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},P2={readContext:In,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:xw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yc(4194308,4,wT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b2.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:ww,useDebugValue:Ag,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=ww(!1),e=t[0];return t=I2.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=Kn();if(Ue){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),pt===null)throw Error(U(349));Zs&30||dT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,xw(fT.bind(null,r,i,t),[t]),r.flags|=2048,al(9,hT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kn(),e=pt.identifierPrefix;if(Ue){var n=mr,r=pr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=C2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R2={readContext:In,useCallback:_T,useContext:In,useEffect:bg,useImperativeHandle:xT,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:ET,useReducer:of,useRef:gT,useState:function(){return of(ol)},useDebugValue:Ag,useDeferredValue:function(t){var e=bn();return TT(e,lt.memoizedState,t)},useTransition:function(){var t=of(ol)[0],e=bn().memoizedState;return[t,e]},useMutableSource:cT,useSyncExternalStore:uT,useId:ST,unstable_isNewReconciler:!1},k2={readContext:In,useCallback:_T,useContext:In,useEffect:bg,useImperativeHandle:xT,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:ET,useReducer:af,useRef:gT,useState:function(){return af(ol)},useDebugValue:Ag,useDeferredValue:function(t){var e=bn();return lt===null?e.memoizedState=t:TT(e,lt.memoizedState,t)},useTransition:function(){var t=af(ol)[0],e=bn().memoizedState;return[t,e]},useMutableSource:cT,useSyncExternalStore:uT,useId:ST,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cd={isMounted:function(t){return(t=t._reactInternals)?fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),s=ss(t),i=gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ns(t,i,s),e!==null&&(On(e,t,s,r),Gc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),s=ss(t),i=gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ns(t,i,s),e!==null&&(On(e,t,s,r),Gc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ss(t),s=gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ns(t,s,r),e!==null&&(On(e,t,r,n),Gc(e,t,r))}};function _w(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Za(n,r)||!Za(s,i):!0}function AT(t,e,n){var r=!1,s=fs,i=e.contextType;return typeof i=="object"&&i!==null?i=In(i):(s=Yt(e)?Xs:Ot.current,r=e.contextTypes,i=(r=r!=null)?ao(t,s):fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ew(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cd.enqueueReplaceState(e,e.state,null)}function Cp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},xg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=In(i):(i=Yt(e)?Xs:Ot.current,s.context=ao(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cd.enqueueReplaceState(s,s.state,null),Ru(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ho(t,e){try{var n="",r=e;do n+=ik(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N2=typeof WeakMap=="function"?WeakMap:Map;function PT(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vu||(Vu=!0,jp=r),Ip(t,e)},n}function RT(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ip(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ip(t,e),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=q2.bind(null,t,e,n),e.then(t,t))}function Sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var D2=Nr.ReactCurrentOwner,Gt=!1;function Bt(t,e,n,r){e.child=t===null?iT(e,null,n,r):co(e,t.child,n,r)}function Iw(t,e,n,r,s){n=n.render;var i=e.ref;return Zi(e,s),r=Cg(t,e,n,r,i,s),n=Ig(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tr(t,e,s)):(Ue&&n&&fg(e),e.flags|=1,Bt(t,e,r,s),e.child)}function bw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!jg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kT(t,e,i,r,s)):(t=eu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Za,n(o,r)&&t.ref===e.ref)return Tr(t,e,s)}return e.flags|=1,t=is(i,r),t.ref=e.ref,t.return=e,e.child=t}function kT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Za(i,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Tr(t,e,s)}return bp(t,e,n,r,s)}function NT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne($i,nn),nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne($i,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne($i,nn),nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ne($i,nn),nn|=r;return Bt(t,e,s,n),e.child}function DT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bp(t,e,n,r,s){var i=Yt(n)?Xs:Ot.current;return i=ao(e,i),Zi(e,s),n=Cg(t,e,n,r,i,s),r=Ig(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tr(t,e,s)):(Ue&&r&&fg(e),e.flags|=1,Bt(t,e,n,s),e.child)}function Aw(t,e,n,r,s){if(Yt(n)){var i=!0;Cu(e)}else i=!1;if(Zi(e,s),e.stateNode===null)Xc(t,e),AT(e,n,r),Cp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=In(c):(c=Yt(n)?Xs:Ot.current,c=ao(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ew(e,o,r,c),Hr=!1;var f=e.memoizedState;o.state=f,Ru(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Qt.current||Hr?(typeof d=="function"&&(Sp(e,n,d,r),l=e.memoizedState),(a=Hr||_w(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Yt(n)?Xs:Ot.current,l=ao(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ew(e,o,r,l),Hr=!1,f=e.memoizedState,o.state=f,Ru(e,r,o,s);var E=e.memoizedState;a!==h||f!==E||Qt.current||Hr?(typeof g=="function"&&(Sp(e,n,g,r),E=e.memoizedState),(c=Hr||_w(e,n,c,r,f,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ap(t,e,n,r,i,s)}function Ap(t,e,n,r,s,i){DT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&fw(e,n,!1),Tr(t,e,i);r=e.stateNode,D2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=co(e,t.child,null,i),e.child=co(e,null,a,i)):Bt(t,e,a,i),e.memoizedState=r.state,s&&fw(e,n,!0),e.child}function MT(t){var e=t.stateNode;e.pendingContext?hw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hw(t,e.context,!1),_g(t,e.containerInfo)}function Pw(t,e,n,r,s){return lo(),mg(s),e.flags|=256,Bt(t,e,n,r),e.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function VT(t,e,n){var r=e.pendingProps,s=ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ne(ze,s&1),t===null)return Ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ad(o,r,0,null),t=Gs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rp(n),e.memoizedState=Pp,t):Pg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return M2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=is(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=is(a,i):(i=Gs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Pp,r}return i=t.child,t=i.sibling,r=is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pg(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cc(t,e,n,r){return r!==null&&mg(r),co(e,t.child,null,n),t=Pg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=lf(Error(U(422))),Cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ad({mode:"visible",children:r.children},s,0,null),i=Gs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&co(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=Pp,i);if(!(e.mode&1))return Cc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=lf(i,r,void 0),Cc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Er(t,s),On(r,t,s,-1))}return Vg(),r=lf(Error(U(421))),Cc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=K2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,on=ts(s.nextSibling),ln=e,Ue=!0,Mn=null,t!==null&&(vn[wn++]=pr,vn[wn++]=mr,vn[wn++]=Js,pr=t.id,mr=t.overflow,Js=e),e=Pg(e,r.children),e.flags|=4096,e)}function Rw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tp(t.return,e,n)}function cf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Bt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rw(t,n,e);else if(t.tag===19)Rw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ku(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),cf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ku(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}cf(e,!0,n,null,i);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V2(t,e,n){switch(e.tag){case 3:MT(e),lo();break;case 5:lT(e);break;case 1:Yt(e.type)&&Cu(e);break;case 4:_g(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ne(Au,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?VT(t,e,n):(Ne(ze,ze.current&1),t=Tr(t,e,n),t!==null?t.sibling:null);Ne(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,NT(t,e,n)}return Tr(t,e,n)}var OT,kp,LT,FT;OT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kp=function(){};LT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$s(Xn.current);var i=null;switch(n){case"input":s=Zf(t,s),r=Zf(t,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=np(t,s),r=np(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tu)}sp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};FT=function(t,e,n,r){n!==r&&(e.flags|=4)};function la(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j2(t,e,n){var r=e.pendingProps;switch(pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Yt(e.type)&&Su(),Pt(e),null;case 3:return r=e.stateNode,uo(),Fe(Qt),Fe(Ot),Tg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mn!==null&&(Fp(Mn),Mn=null))),kp(t,e),Pt(e),null;case 5:Eg(e);var s=$s(sl.current);if(n=e.type,t!==null&&e.stateNode!=null)LT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Pt(e),null}if(t=$s(Xn.current),Tc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gn]=e,r[nl]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<wa.length;s++)je(wa[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":F0(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":U0(r,i),je("invalid",r)}sp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),s=["children",""+a]):qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":pc(r),B0(r,i,!0);break;case"textarea":pc(r),z0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Tu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[nl]=r,OT(t,e,!1,!1),e.stateNode=t;e:{switch(o=ip(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<wa.length;s++)je(wa[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":F0(t,r),s=Zf(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),je("invalid",t);break;case"textarea":U0(t,r),s=np(t,r),je("invalid",t);break;default:s=r}sp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ka(t,l):typeof l=="number"&&Ka(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",t):l!=null&&Zm(t,i,l,o))}switch(n){case"input":pc(t),B0(t,r,!1);break;case"textarea":pc(t),z0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)FT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=$s(sl.current),$s(Xn.current),Tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(i=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return Pt(e),null;case 13:if(Fe(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&on!==null&&e.mode&1&&!(e.flags&128))rT(),lo(),e.flags|=98560,i=!1;else if(i=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Gn]=e}else lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Mn!==null&&(Fp(Mn),Mn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?ct===0&&(ct=3):Vg())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return uo(),kp(t,e),t===null&&el(e.stateNode.containerInfo),Pt(e),null;case 10:return vg(e.type._context),Pt(e),null;case 17:return Yt(e.type)&&Su(),Pt(e),null;case 19:if(Fe(ze),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)la(i,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ku(t),o!==null){for(e.flags|=128,la(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(ze,ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>fo&&(e.flags|=128,r=!0,la(i,!1),e.lanes=4194304)}else{if(!r)if(t=ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),la(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return Pt(e),null}else 2*tt()-i.renderingStartTime>fo&&n!==1073741824&&(e.flags|=128,r=!0,la(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,n=ze.current,Ne(ze,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function O2(t,e){switch(pg(e),e.tag){case 1:return Yt(e.type)&&Su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uo(),Fe(Qt),Fe(Ot),Tg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Eg(e),null;case 13:if(Fe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(ze),null;case 4:return uo(),null;case 10:return vg(e.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var Ic=!1,Dt=!1,L2=typeof WeakSet=="function"?WeakSet:Set,G=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function Np(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var kw=!1;function F2(t,e){if(mp=xu,t=WE(),hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gp={focusedElem:t,selectionRange:n},xu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,T=E.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:Nn(e.type,w),T);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(A){Xe(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return E=kw,kw=!1,E}function Ma(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Np(e,n,i)}s=s.next}while(s!==r)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BT(t){var e=t.alternate;e!==null&&(t.alternate=null,BT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[nl],delete e[wp],delete e[_2],delete e[E2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UT(t){return t.tag===5||t.tag===3||t.tag===4}function Nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tu));else if(r!==4&&(t=t.child,t!==null))for(Mp(t,e,n),t=t.sibling;t!==null;)Mp(t,e,n),t=t.sibling}function Vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vp(t,e,n),t=t.sibling;t!==null;)Vp(t,e,n),t=t.sibling}var gt=null,Dn=!1;function Or(t,e,n){for(n=n.child;n!==null;)zT(t,e,n),n=n.sibling}function zT(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(vd,n)}catch{}switch(n.tag){case 5:Dt||zi(n,e);case 6:var r=gt,s=Dn;gt=null,Or(t,e,n),gt=r,Dn=s,gt!==null&&(Dn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Dn?(t=gt,n=n.stateNode,t.nodeType===8?tf(t.parentNode,n):t.nodeType===1&&tf(t,n),Xa(t)):tf(gt,n.stateNode));break;case 4:r=gt,s=Dn,gt=n.stateNode.containerInfo,Dn=!0,Or(t,e,n),gt=r,Dn=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Np(n,e,o),s=s.next}while(s!==r)}Or(t,e,n);break;case 1:if(!Dt&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,e,a)}Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Or(t,e,n),Dt=r):Or(t,e,n);break;default:Or(t,e,n)}}function Dw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L2),e.forEach(function(r){var s=G2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,Dn=!1;break e;case 3:gt=a.stateNode.containerInfo,Dn=!0;break e;case 4:gt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(gt===null)throw Error(U(160));zT(i,o,s),gt=null,Dn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Xe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$T(e,t),e=e.sibling}function $T(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),qn(t),r&4){try{Ma(3,t,t.return),Id(3,t)}catch(w){Xe(t,t.return,w)}try{Ma(5,t,t.return)}catch(w){Xe(t,t.return,w)}}break;case 1:Pn(e,t),qn(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(Pn(e,t),qn(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var s=t.stateNode;try{Ka(s,"")}catch(w){Xe(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dE(s,i),ip(a,o);var c=ip(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gE(s,h):d==="dangerouslySetInnerHTML"?pE(s,h):d==="children"?Ka(s,h):Zm(s,d,h,c)}switch(a){case"input":ep(s,i);break;case"textarea":hE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Qi(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Qi(s,!!i.multiple,i.defaultValue,!0):Qi(s,!!i.multiple,i.multiple?[]:"",!1))}s[nl]=i}catch(w){Xe(t,t.return,w)}}break;case 6:if(Pn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Xe(t,t.return,w)}}break;case 3:if(Pn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xa(e.containerInfo)}catch(w){Xe(t,t.return,w)}break;case 4:Pn(e,t),qn(t);break;case 13:Pn(e,t),qn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ng=tt())),r&4&&Dw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(c=Dt)||d,Pn(e,t),Dt=c):Pn(e,t),qn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ma(4,f,f.return);break;case 1:zi(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(w){Xe(r,n,w)}}break;case 5:zi(f,f.return);break;case 22:if(f.memoizedState!==null){Vw(h);continue}}g!==null?(g.return=f,G=g):Vw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mE("display",o))}catch(w){Xe(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Xe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pn(e,t),qn(t),r&4&&Dw(t);break;case 21:break;default:Pn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UT(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ka(s,""),r.flags&=-33);var i=Nw(t);Vp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Nw(t);Mp(t,a,o);break;default:throw Error(U(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B2(t,e,n){G=t,WT(t)}function WT(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ic;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Dt;a=Ic;var c=Dt;if(Ic=o,(Dt=l)&&!c)for(G=s;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?jw(s):l!==null?(l.return=o,G=l):jw(s);for(;i!==null;)G=i,WT(i),i=i.sibling;G=s,Ic=a,Dt=c}Mw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Mw(t)}}function Mw(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||Id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Dt||e.flags&512&&Dp(e)}catch(f){Xe(e,e.return,f)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Vw(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function jw(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(l){Xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Xe(e,s,l)}}var i=e.return;try{Dp(e)}catch(l){Xe(e,i,l)}break;case 5:var o=e.return;try{Dp(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var U2=Math.ceil,Mu=Nr.ReactCurrentDispatcher,Rg=Nr.ReactCurrentOwner,Sn=Nr.ReactCurrentBatchConfig,_e=0,pt=null,rt=null,xt=0,nn=0,$i=Ss(0),ct=0,ll=null,ei=0,bd=0,kg=0,Va=null,Ht=null,Ng=0,fo=1/0,hr=null,Vu=!1,jp=null,rs=null,bc=!1,Qr=null,ju=0,ja=0,Op=null,Jc=-1,Zc=0;function Ut(){return _e&6?tt():Jc!==-1?Jc:Jc=tt()}function ss(t){return t.mode&1?_e&2&&xt!==0?xt&-xt:S2.transition!==null?(Zc===0&&(Zc=AE()),Zc):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:VE(t.type)),t):1}function On(t,e,n,r){if(50<ja)throw ja=0,Op=null,Error(U(185));Rl(t,n,r),(!(_e&2)||t!==pt)&&(t===pt&&(!(_e&2)&&(bd|=n),ct===4&&Kr(t,xt)),Xt(t,r),n===1&&_e===0&&!(e.mode&1)&&(fo=tt()+500,Td&&Cs()))}function Xt(t,e){var n=t.callbackNode;Sk(t,e);var r=wu(t,t===pt?xt:0);if(r===0)n!==null&&H0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&H0(n),e===1)t.tag===0?T2(Ow.bind(null,t)):eT(Ow.bind(null,t)),w2(function(){!(_e&6)&&Cs()}),n=null;else{switch(PE(r)){case 1:n=sg;break;case 4:n=IE;break;case 16:n=vu;break;case 536870912:n=bE;break;default:n=vu}n=JT(n,HT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HT(t,e){if(Jc=-1,Zc=0,_e&6)throw Error(U(327));var n=t.callbackNode;if(eo()&&t.callbackNode!==n)return null;var r=wu(t,t===pt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ou(t,r);else{e=r;var s=_e;_e|=2;var i=KT();(pt!==t||xt!==e)&&(hr=null,fo=tt()+500,Ks(t,e));do try{W2();break}catch(a){qT(t,a)}while(!0);yg(),Mu.current=i,_e=s,rt!==null?e=0:(pt=null,xt=0,e=ct)}if(e!==0){if(e===2&&(s=up(t),s!==0&&(r=s,e=Lp(t,s))),e===1)throw n=ll,Ks(t,0),Kr(t,r),Xt(t,tt()),n;if(e===6)Kr(t,r);else{if(s=t.current.alternate,!(r&30)&&!z2(s)&&(e=Ou(t,r),e===2&&(i=up(t),i!==0&&(r=i,e=Lp(t,i))),e===1))throw n=ll,Ks(t,0),Kr(t,r),Xt(t,tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:js(t,Ht,hr);break;case 3:if(Kr(t,r),(r&130023424)===r&&(e=Ng+500-tt(),10<e)){if(wu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vp(js.bind(null,t,Ht,hr),e);break}js(t,Ht,hr);break;case 4:if(Kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-jn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U2(r/1960))-r,10<r){t.timeoutHandle=vp(js.bind(null,t,Ht,hr),r);break}js(t,Ht,hr);break;case 5:js(t,Ht,hr);break;default:throw Error(U(329))}}}return Xt(t,tt()),t.callbackNode===n?HT.bind(null,t):null}function Lp(t,e){var n=Va;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=Ou(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&Fp(e)),t}function Fp(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ln(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~kg,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function Ow(t){if(_e&6)throw Error(U(327));eo();var e=wu(t,0);if(!(e&1))return Xt(t,tt()),null;var n=Ou(t,e);if(t.tag!==0&&n===2){var r=up(t);r!==0&&(e=r,n=Lp(t,r))}if(n===1)throw n=ll,Ks(t,0),Kr(t,e),Xt(t,tt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,Ht,hr),Xt(t,tt()),null}function Dg(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(fo=tt()+500,Td&&Cs())}}function ti(t){Qr!==null&&Qr.tag===0&&!(_e&6)&&eo();var e=_e;_e|=1;var n=Sn.transition,r=Ae;try{if(Sn.transition=null,Ae=1,t)return t()}finally{Ae=r,Sn.transition=n,_e=e,!(_e&6)&&Cs()}}function Mg(){nn=$i.current,Fe($i)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v2(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Su();break;case 3:uo(),Fe(Qt),Fe(Ot),Tg();break;case 5:Eg(r);break;case 4:uo();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:vg(r.type._context);break;case 22:case 23:Mg()}n=n.return}if(pt=t,rt=t=is(t.current,null),xt=nn=e,ct=0,ll=null,kg=bd=ei=0,Ht=Va=null,zs!==null){for(e=0;e<zs.length;e++)if(n=zs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}zs=null}return t}function qT(t,e){do{var n=rt;try{if(yg(),Qc.current=Du,Nu){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nu=!1}if(Zs=0,ft=lt=We=null,Da=!1,il=0,Rg.current=null,n===null||n.return===null){ct=1,ll=e,rt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Sw(o);if(g!==null){g.flags&=-257,Cw(g,o,a,i,e),g.mode&1&&Tw(i,c,e),e=g,l=c;var E=e.updateQueue;if(E===null){var w=new Set;w.add(l),e.updateQueue=w}else E.add(l);break e}else{if(!(e&1)){Tw(i,c,e),Vg();break e}l=Error(U(426))}}else if(Ue&&a.mode&1){var T=Sw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Cw(T,o,a,i,e),mg(ho(l,a));break e}}i=l=ho(l,a),ct!==4&&(ct=2),Va===null?Va=[i]:Va.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=PT(i,l,e);yw(i,y);break e;case 1:a=l;var x=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(rs===null||!rs.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=RT(i,a,e);yw(i,A);break e}}i=i.return}while(i!==null)}QT(n)}catch(k){e=k,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function KT(){var t=Mu.current;return Mu.current=Du,t===null?Du:t}function Vg(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||!(ei&268435455)&&!(bd&268435455)||Kr(pt,xt)}function Ou(t,e){var n=_e;_e|=2;var r=KT();(pt!==t||xt!==e)&&(hr=null,Ks(t,e));do try{$2();break}catch(s){qT(t,s)}while(!0);if(yg(),_e=n,Mu.current=r,rt!==null)throw Error(U(261));return pt=null,xt=0,ct}function $2(){for(;rt!==null;)GT(rt)}function W2(){for(;rt!==null&&!mk();)GT(rt)}function GT(t){var e=XT(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?QT(t):rt=e,Rg.current=null}function QT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O2(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,rt=null;return}}else if(n=j2(n,e,nn),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ct===0&&(ct=5)}function js(t,e,n){var r=Ae,s=Sn.transition;try{Sn.transition=null,Ae=1,H2(t,e,n,r)}finally{Sn.transition=s,Ae=r}return null}function H2(t,e,n,r){do eo();while(Qr!==null);if(_e&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ck(t,i),t===pt&&(rt=pt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bc||(bc=!0,JT(vu,function(){return eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Sn.transition,Sn.transition=null;var o=Ae;Ae=1;var a=_e;_e|=4,Rg.current=null,F2(t,n),$T(n,t),d2(gp),xu=!!mp,gp=mp=null,t.current=n,B2(n),gk(),_e=a,Ae=o,Sn.transition=i}else t.current=n;if(bc&&(bc=!1,Qr=t,ju=s),i=t.pendingLanes,i===0&&(rs=null),wk(n.stateNode),Xt(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vu)throw Vu=!1,t=jp,jp=null,t;return ju&1&&t.tag!==0&&eo(),i=t.pendingLanes,i&1?t===Op?ja++:(ja=0,Op=t):ja=0,Cs(),null}function eo(){if(Qr!==null){var t=PE(ju),e=Sn.transition,n=Ae;try{if(Sn.transition=null,Ae=16>t?16:t,Qr===null)var r=!1;else{if(t=Qr,Qr=null,ju=0,_e&6)throw Error(U(331));var s=_e;for(_e|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Ma(8,d,i)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,g=d.return;if(BT(d),d===c){G=null;break}if(f!==null){f.return=g,G=f;break}G=g}}}var E=i.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ma(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,G=y;break e}G=i.return}}var x=t.current;for(G=x;G!==null;){o=G;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,G=S;else e:for(o=x;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Id(9,a)}}catch(k){Xe(a,a.return,k)}if(a===o){G=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,G=A;break e}G=a.return}}if(_e=s,Cs(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(vd,t)}catch{}r=!0}return r}finally{Ae=n,Sn.transition=e}}return!1}function Lw(t,e,n){e=ho(n,e),e=PT(t,e,1),t=ns(t,e,1),e=Ut(),t!==null&&(Rl(t,1,e),Xt(t,e))}function Xe(t,e,n){if(t.tag===3)Lw(t,t,n);else for(;e!==null;){if(e.tag===3){Lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=ho(n,t),t=RT(e,t,1),e=ns(e,t,1),t=Ut(),e!==null&&(Rl(e,1,t),Xt(e,t));break}}e=e.return}}function q2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(xt&n)===n&&(ct===4||ct===3&&(xt&130023424)===xt&&500>tt()-Ng?Ks(t,0):kg|=n),Xt(t,e)}function YT(t,e){e===0&&(t.mode&1?(e=yc,yc<<=1,!(yc&130023424)&&(yc=4194304)):e=1);var n=Ut();t=Er(t,e),t!==null&&(Rl(t,e,n),Xt(t,n))}function K2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YT(t,n)}function G2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),YT(t,n)}var XT;XT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,V2(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Ue&&e.flags&1048576&&tT(e,bu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xc(t,e),t=e.pendingProps;var s=ao(e,Ot.current);Zi(e,n),s=Cg(null,e,r,t,s,n);var i=Ig();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(i=!0,Cu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xg(e),s.updater=Cd,e.stateNode=s,s._reactInternals=e,Cp(e,r,t,n),e=Ap(null,e,r,!0,i,n)):(e.tag=0,Ue&&i&&fg(e),Bt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Y2(r),t=Nn(r,t),s){case 0:e=bp(null,e,r,t,n);break e;case 1:e=Aw(null,e,r,t,n);break e;case 11:e=Iw(null,e,r,t,n);break e;case 14:e=bw(null,e,r,Nn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),bp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),Aw(t,e,r,s,n);case 3:e:{if(MT(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,aT(t,e),Ru(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ho(Error(U(423)),e),e=Pw(t,e,r,n,s);break e}else if(r!==s){s=ho(Error(U(424)),e),e=Pw(t,e,r,n,s);break e}else for(on=ts(e.stateNode.containerInfo.firstChild),ln=e,Ue=!0,Mn=null,n=iT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===s){e=Tr(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return lT(e),t===null&&Ep(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yp(r,s)?o=null:i!==null&&yp(r,i)&&(e.flags|=32),DT(t,e),Bt(t,e,o,n),e.child;case 6:return t===null&&Ep(e),null;case 13:return VT(t,e,n);case 4:return _g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=co(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),Iw(t,e,r,s,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ne(Au,r._currentValue),r._currentValue=o,i!==null)if(Ln(i.value,o)){if(i.children===s.children&&!Qt.current){e=Tr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Bt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Zi(e,n),s=In(s),r=r(s),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,s=Nn(r,e.pendingProps),s=Nn(r.type,s),bw(t,e,r,s,n);case 15:return kT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),Xc(t,e),e.tag=1,Yt(r)?(t=!0,Cu(e)):t=!1,Zi(e,n),AT(e,r,s),Cp(e,r,s,n),Ap(null,e,r,!0,t,n);case 19:return jT(t,e,n);case 22:return NT(t,e,n)}throw Error(U(156,e.tag))};function JT(t,e){return CE(t,e)}function Q2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new Q2(t,e,n,r)}function jg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y2(t){if(typeof t=="function")return jg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tg)return 11;if(t===ng)return 14}return 2}function is(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")jg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Di:return Gs(n.children,s,i,e);case eg:o=8,s|=8;break;case Qf:return t=En(12,n,e,s|2),t.elementType=Qf,t.lanes=i,t;case Yf:return t=En(13,n,e,s),t.elementType=Yf,t.lanes=i,t;case Xf:return t=En(19,n,e,s),t.elementType=Xf,t.lanes=i,t;case lE:return Ad(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oE:o=10;break e;case aE:o=9;break e;case tg:o=11;break e;case ng:o=14;break e;case Wr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=En(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gs(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=En(22,t,r,e),t.elementType=lE,t.lanes=n,t.stateNode={isHidden:!1},t}function uf(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function df(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Og(t,e,n,r,s,i,o,a,l){return t=new X2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=En(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(i),t}function J2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZT(t){if(!t)return fs;t=t._reactInternals;e:{if(fi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Yt(n))return ZE(t,n,e)}return e}function eS(t,e,n,r,s,i,o,a,l){return t=Og(n,r,!0,t,s,i,o,a,l),t.context=ZT(null),n=t.current,r=Ut(),s=ss(n),i=gr(r,s),i.callback=e??null,ns(n,i,s),t.current.lanes=s,Rl(t,s,r),Xt(t,r),t}function Pd(t,e,n,r){var s=e.current,i=Ut(),o=ss(s);return n=ZT(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ns(s,e,o),t!==null&&(On(t,s,o,i),Gc(t,s,o)),o}function Lu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lg(t,e){Fw(t,e),(t=t.alternate)&&Fw(t,e)}function Z2(){return null}var tS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fg(t){this._internalRoot=t}Rd.prototype.render=Fg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Pd(t,e,null,null)};Rd.prototype.unmount=Fg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ti(function(){Pd(null,t,null,null)}),e[_r]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=NE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&ME(t)}};function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bw(){}function eN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Lu(o);i.call(c)}}var o=eS(e,r,t,0,null,!1,!1,"",Bw);return t._reactRootContainer=o,t[_r]=o.current,el(t.nodeType===8?t.parentNode:t),ti(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Lu(l);a.call(c)}}var l=Og(t,0,!1,null,null,!1,!1,"",Bw);return t._reactRootContainer=l,t[_r]=l.current,el(t.nodeType===8?t.parentNode:t),ti(function(){Pd(e,l,n,r)}),l}function Nd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Lu(o);a.call(l)}}Pd(e,o,t,s)}else o=eN(n,e,t,s,r);return Lu(o)}RE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=va(e.pendingLanes);n!==0&&(ig(e,n|1),Xt(e,tt()),!(_e&6)&&(fo=tt()+500,Cs()))}break;case 13:ti(function(){var r=Er(t,1);if(r!==null){var s=Ut();On(r,t,1,s)}}),Lg(t,1)}};og=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Ut();On(e,t,134217728,n)}Lg(t,134217728)}};kE=function(t){if(t.tag===13){var e=ss(t),n=Er(t,e);if(n!==null){var r=Ut();On(n,t,e,r)}Lg(t,e)}};NE=function(){return Ae};DE=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};ap=function(t,e,n){switch(e){case"input":if(ep(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ed(r);if(!s)throw Error(U(90));uE(r),ep(r,s)}}}break;case"textarea":hE(t,n);break;case"select":e=n.value,e!=null&&Qi(t,!!n.multiple,e,!1)}};wE=Dg;xE=ti;var tN={usingClientEntryPoint:!1,Events:[Nl,Oi,Ed,yE,vE,Dg]},ca={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nN={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TE(t),t===null?null:t.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance||Z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{vd=Ac.inject(nN),Yn=Ac}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tN;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(e))throw Error(U(200));return J2(t,e,null,n)};fn.createRoot=function(t,e){if(!Bg(t))throw Error(U(299));var n=!1,r="",s=tS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Og(t,1,!1,null,null,n,!1,r,s),t[_r]=e.current,el(t.nodeType===8?t.parentNode:t),new Fg(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=TE(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return ti(t)};fn.hydrate=function(t,e,n){if(!kd(e))throw Error(U(200));return Nd(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Bg(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eS(e,null,t,1,n??null,s,!1,i,o),t[_r]=e.current,el(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rd(e)};fn.render=function(t,e,n){if(!kd(e))throw Error(U(200));return Nd(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!kd(t))throw Error(U(40));return t._reactRootContainer?(ti(function(){Nd(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};fn.unstable_batchedUpdates=Dg;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kd(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Nd(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function nS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nS)}catch(t){console.error(t)}}nS(),nE.exports=fn;var Po=nE.exports;const rN=$_(Po);var rS,Uw=Po;rS=Uw.createRoot,Uw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));const zw="popstate";function sN(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Bp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Fu(s)}return oN(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iN(){return Math.random().toString(36).substr(2,8)}function $w(t,e){return{usr:t.state,key:t.key,idx:e}}function Bp(t,e,n,r){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ro(e):e,{state:n,key:e&&e.key||r||iN()})}function Fu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oN(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Yr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(cl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Yr.Pop;let T=d(),y=T==null?null:T-c;c=T,l&&l({action:a,location:w.location,delta:y})}function f(T,y){a=Yr.Push;let x=Bp(w.location,T,y);c=d()+1;let S=$w(x,c),A=w.createHref(x);try{o.pushState(S,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(A)}i&&l&&l({action:a,location:w.location,delta:1})}function g(T,y){a=Yr.Replace;let x=Bp(w.location,T,y);c=d();let S=$w(x,c),A=w.createHref(x);o.replaceState(S,"",A),i&&l&&l({action:a,location:w.location,delta:0})}function E(T){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof T=="string"?T:Fu(T);return x=x.replace(/ $/,"%20"),it(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let w={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(zw,h),l=T,()=>{s.removeEventListener(zw,h),l=null}},createHref(T){return e(s,T)},createURL:E,encodeLocation(T){let y=E(T);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(T){return o.go(T)}};return w}var Ww;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ww||(Ww={}));function aN(t,e,n){return n===void 0&&(n="/"),lN(t,e,n,!1)}function lN(t,e,n,r){let s=typeof e=="string"?Ro(e):e,i=Ug(s.pathname||"/",n);if(i==null)return null;let o=iS(t);cN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=xN(i);a=vN(o[l],c,r)}return a}function iS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=os([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),iS(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:gN(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of oS(i.path))s(i,o,l)}),e}function oS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=oS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uN=/^:[\w-]+$/,dN=3,hN=2,fN=1,pN=10,mN=-2,Hw=t=>t==="*";function gN(t,e){let n=t.split("/"),r=n.length;return n.some(Hw)&&(r+=mN),e&&(r+=hN),n.filter(s=>!Hw(s)).reduce((s,i)=>s+(uN.test(i)?dN:i===""?fN:pN),r)}function yN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vN(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=qw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=qw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:os([i,h.pathname]),pathnameBase:SN(os([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=os([i,h.pathnameBase]))}return o}function qw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const E=a[h];return g&&!E?c[f]=void 0:c[f]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function wN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ug(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _N(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ro(t):t;return{pathname:n?n.startsWith("/")?n:EN(n,e):e,search:CN(r),hash:IN(s)}}function EN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aS(t,e){let n=TN(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ro(t):(s=cl({},t),it(!s.pathname||!s.pathname.includes("?"),hf("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),hf("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),hf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=_N(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const os=t=>t.join("/").replace(/\/\/+/g,"/"),SN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cS=["post","put","patch","delete"];new Set(cS);const AN=["get",...cS];new Set(AN);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}const zg=v.createContext(null),PN=v.createContext(null),pi=v.createContext(null),Dd=v.createContext(null),mi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),uS=v.createContext(null);function RN(t,e){let{relative:n}=e===void 0?{}:e;Ml()||it(!1);let{basename:r,navigator:s}=v.useContext(pi),{hash:i,pathname:o,search:a}=hS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:os([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ml(){return v.useContext(Dd)!=null}function Md(){return Ml()||it(!1),v.useContext(Dd).location}function dS(t){v.useContext(pi).static||v.useLayoutEffect(t)}function $g(){let{isDataRoute:t}=v.useContext(mi);return t?$N():kN()}function kN(){Ml()||it(!1);let t=v.useContext(zg),{basename:e,future:n,navigator:r}=v.useContext(pi),{matches:s}=v.useContext(mi),{pathname:i}=Md(),o=JSON.stringify(aS(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return dS(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=lS(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:os([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function hS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(pi),{matches:s}=v.useContext(mi),{pathname:i}=Md(),o=JSON.stringify(aS(s,r.v7_relativeSplatPath));return v.useMemo(()=>lS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function NN(t,e){return DN(t,e)}function DN(t,e,n,r){Ml()||it(!1);let{navigator:s,static:i}=v.useContext(pi),{matches:o}=v.useContext(mi),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Md(),h;if(e){var f;let y=typeof e=="string"?Ro(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||it(!1),h=y}else h=d;let g=h.pathname||"/",E=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=!i&&n&&n.matches&&n.matches.length>0?n.matches:aN(t,{pathname:E}),T=LN(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:os([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:os([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&T?v.createElement(Dd.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Yr.Pop}},T):T}function MN(){let t=zN(),e=bN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const VN=v.createElement(MN,null);class jN extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(mi.Provider,{value:this.props.routeContext},v.createElement(uS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ON(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(zg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(mi.Provider,{value:e},r)}function LN(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:g}=n,E=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,E=!1,w=null,T=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||VN,l&&(c<0&&f===0?(E=!0,T=null):c===f&&(E=!0,T=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),x=()=>{let S;return g?S=w:E?S=T:h.route.Component?S=v.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,v.createElement(ON,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(jN,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var fS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fS||{}),Bu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bu||{});function FN(t){let e=v.useContext(zg);return e||it(!1),e}function BN(t){let e=v.useContext(PN);return e||it(!1),e}function UN(t){let e=v.useContext(mi);return e||it(!1),e}function pS(t){let e=UN(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function zN(){var t;let e=v.useContext(uS),n=BN(Bu.UseRouteError),r=pS(Bu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $N(){let{router:t}=FN(fS.UseNavigateStable),e=pS(Bu.UseNavigateStable),n=v.useRef(!1);return dS(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ul({fromRouteId:e},i)))},[t,e])}function WN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tu(t){it(!1)}function HN(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Yr.Pop,navigator:i,static:o=!1,future:a}=t;Ml()&&it(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:ul({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ro(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:E="default"}=r,w=v.useMemo(()=>{let T=Ug(d,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:g,key:E},navigationType:s}},[l,d,h,f,g,E,s]);return w==null?null:v.createElement(pi.Provider,{value:c},v.createElement(Dd.Provider,{children:n,value:w}))}function qN(t){let{children:e,location:n}=t;return NN(Up(e),n)}new Promise(()=>{});function Up(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Up(r.props.children,i));return}r.type!==tu&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Up(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function KN(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function GN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QN(t,e){return t.button===0&&(!e||e==="_self")&&!GN(t)}const YN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XN="6";try{window.__reactRouterVersion=XN}catch{}const JN="startTransition",Kw=eE[JN];function ZN(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=sN({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&Kw?Kw(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>WN(r),[r]),v.createElement(HN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const eD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$p=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=KN(e,YN),{basename:g}=v.useContext(pi),E,w=!1;if(typeof c=="string"&&tD.test(c)&&(E=c,eD))try{let S=new URL(window.location.href),A=c.startsWith("//")?new URL(S.protocol+c):new URL(c),k=Ug(A.pathname,g);A.origin===S.origin&&k!=null?c=k+A.search+A.hash:w=!0}catch{}let T=RN(c,{relative:s}),y=nD(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function x(S){r&&r(S),S.defaultPrevented||y(S)}return v.createElement("a",zp({},f,{href:E||T,onClick:w||i?r:x,ref:n,target:l}))});var Gw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gw||(Gw={}));var Qw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qw||(Qw={}));function nD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=$g(),c=Md(),d=hS(t,{relative:o});return v.useCallback(h=>{if(QN(h,n)){h.preventDefault();let f=r!==void 0?r:Fu(c)===Fu(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}var Yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},gS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new sD;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iD=function(t){const e=mS(t);return gS.encodeByteArray(e,!0)},Uu=function(t){return iD(t).replace(/\./g,"")},oD=function(t){try{return gS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=()=>aD().__FIREBASE_DEFAULTS__,cD=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oD(t[1]);return e&&JSON.parse(e)},Wg=()=>{try{return lD()||cD()||uD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dD=t=>{var e,n;return(n=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hD=t=>{const e=dD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yS=()=>{var t;return(t=Wg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uu(JSON.stringify(n)),Uu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gD(){var t;const e=(t=Wg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return!gD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vD(){try{return typeof indexedDB=="object"}catch{return!1}}function wD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="FirebaseError";class ko extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xD,Object.setPrototypeOf(this,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vS.prototype.create)}}class vS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_D(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ko(s,a,r)}}function _D(t,e){return t.replace(ED,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ED=/\{\$([^}]+)}/g;function Wp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Xw(i)&&Xw(o)){if(!Wp(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){return t&&t._delegate?t._delegate:t}class dl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CD(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SD(t){return t===Os?void 0:t}function CD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const bD={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},AD=xe.INFO,PD={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},RD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=PD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wS{constructor(e){this.name=e,this._logLevel=AD,this._logHandler=RD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const kD=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function ND(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xS=new WeakMap,Hp=new WeakMap,_S=new WeakMap,ff=new WeakMap,Hg=new WeakMap;function MD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(as(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xS.set(n,t)}).catch(()=>{}),Hg.set(e,t),e}function VD(t){if(Hp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hp.set(t,e)}let qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){qp=t(qp)}function OD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pf(this),e,...n);return _S.set(r,e.sort?e.sort():[e]),as(r)}:DD().includes(t)?function(...e){return t.apply(pf(this),e),as(xS.get(this))}:function(...e){return as(t.apply(pf(this),e))}}function LD(t){return typeof t=="function"?OD(t):(t instanceof IDBTransaction&&VD(t),kD(t,ND())?new Proxy(t,qp):t)}function as(t){if(t instanceof IDBRequest)return MD(t);if(ff.has(t))return ff.get(t);const e=LD(t);return e!==t&&(ff.set(t,e),Hg.set(e,t)),e}const pf=t=>Hg.get(t);function FD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=as(o);return r&&o.addEventListener("upgradeneeded",l=>{r(as(o.result),l.oldVersion,l.newVersion,as(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const BD=["get","getKey","getAll","getAllKeys","count"],UD=["put","add","delete","clear"],mf=new Map;function ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=UD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||BD.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return mf.set(e,i),i}jD(t=>({...t,get:(e,n,r)=>ex(e,n)||t.get(e,n,r),has:(e,n)=>!!ex(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($D(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $D(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kp="@firebase/app",tx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new wS("@firebase/app"),WD="@firebase/app-compat",HD="@firebase/analytics-compat",qD="@firebase/analytics",KD="@firebase/app-check-compat",GD="@firebase/app-check",QD="@firebase/auth",YD="@firebase/auth-compat",XD="@firebase/database",JD="@firebase/data-connect",ZD="@firebase/database-compat",eM="@firebase/functions",tM="@firebase/functions-compat",nM="@firebase/installations",rM="@firebase/installations-compat",sM="@firebase/messaging",iM="@firebase/messaging-compat",oM="@firebase/performance",aM="@firebase/performance-compat",lM="@firebase/remote-config",cM="@firebase/remote-config-compat",uM="@firebase/storage",dM="@firebase/storage-compat",hM="@firebase/firestore",fM="@firebase/vertexai-preview",pM="@firebase/firestore-compat",mM="firebase",gM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="[DEFAULT]",yM={[Kp]:"fire-core",[WD]:"fire-core-compat",[qD]:"fire-analytics",[HD]:"fire-analytics-compat",[GD]:"fire-app-check",[KD]:"fire-app-check-compat",[QD]:"fire-auth",[YD]:"fire-auth-compat",[XD]:"fire-rtdb",[JD]:"fire-data-connect",[ZD]:"fire-rtdb-compat",[eM]:"fire-fn",[tM]:"fire-fn-compat",[nM]:"fire-iid",[rM]:"fire-iid-compat",[sM]:"fire-fcm",[iM]:"fire-fcm-compat",[oM]:"fire-perf",[aM]:"fire-perf-compat",[lM]:"fire-rc",[cM]:"fire-rc-compat",[uM]:"fire-gcs",[dM]:"fire-gcs-compat",[hM]:"fire-fst",[pM]:"fire-fst-compat",[fM]:"fire-vertex","fire-js":"fire-js",[mM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map,vM=new Map,Qp=new Map;function nx(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $u(t){const e=t.name;if(Qp.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,t);for(const n of zu.values())nx(n,t);for(const n of vM.values())nx(n,t);return!0}function wM(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new vS("app","Firebase",xM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=gM;function ES(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(n||(n=yS()),!n)throw ls.create("no-options");const i=zu.get(s);if(i){if(Wp(n,i.options)&&Wp(r,i.config))return i;throw ls.create("duplicate-app",{appName:s})}const o=new ID(s);for(const l of Qp.values())o.addComponent(l);const a=new _M(n,r,o);return zu.set(s,a),a}function TM(t=Gp){const e=zu.get(t);if(!e&&t===Gp&&yS())return ES();if(!e)throw ls.create("no-app",{appName:t});return e}function to(t,e,n){var r;let s=(r=yM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}$u(new dl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebase-heartbeat-database",CM=1,hl="firebase-heartbeat-store";let gf=null;function TS(){return gf||(gf=FD(SM,CM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),gf}async function IM(t){try{const n=(await TS()).transaction(hl),r=await n.objectStore(hl).get(SS(t));return await n.done,r}catch(e){if(e instanceof ko)Sr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function rx(t,e){try{const r=(await TS()).transaction(hl,"readwrite");await r.objectStore(hl).put(e,SS(t)),await r.done}catch(n){if(n instanceof ko)Sr.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function SS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=1024,AM=30*24*60*60*1e3;class PM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=AM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sx(),{heartbeatsToSend:r,unsentEntries:s}=RM(this._heartbeatsCache.heartbeats),i=Uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sr.warn(n),""}}}function sx(){return new Date().toISOString().substring(0,10)}function RM(t,e=bM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ix(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ix(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vD()?wD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ix(t){return Uu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){$u(new dl("platform-logger",e=>new zD(e),"PRIVATE")),$u(new dl("heartbeat",e=>new PM(e),"PRIVATE")),to(Kp,tx,t),to(Kp,tx,"esm2017"),to("fire-js","")}NM("");var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,CS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function P(){}P.prototype=C.prototype,I.D=C.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(R,D,M){for(var N=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)N[Z-2]=arguments[Z];return C.prototype[D].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,P){P||(P=0);var R=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)R[D]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(D=0;16>D;++D)R[D]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=I.g[0],P=I.g[1],D=I.g[2];var M=I.g[3],N=C+(M^P&(D^M))+R[0]+3614090360&4294967295;C=P+(N<<7&4294967295|N>>>25),N=M+(D^C&(P^D))+R[1]+3905402710&4294967295,M=C+(N<<12&4294967295|N>>>20),N=D+(P^M&(C^P))+R[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(C^D&(M^C))+R[3]+3250441966&4294967295,P=D+(N<<22&4294967295|N>>>10),N=C+(M^P&(D^M))+R[4]+4118548399&4294967295,C=P+(N<<7&4294967295|N>>>25),N=M+(D^C&(P^D))+R[5]+1200080426&4294967295,M=C+(N<<12&4294967295|N>>>20),N=D+(P^M&(C^P))+R[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(C^D&(M^C))+R[7]+4249261313&4294967295,P=D+(N<<22&4294967295|N>>>10),N=C+(M^P&(D^M))+R[8]+1770035416&4294967295,C=P+(N<<7&4294967295|N>>>25),N=M+(D^C&(P^D))+R[9]+2336552879&4294967295,M=C+(N<<12&4294967295|N>>>20),N=D+(P^M&(C^P))+R[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(C^D&(M^C))+R[11]+2304563134&4294967295,P=D+(N<<22&4294967295|N>>>10),N=C+(M^P&(D^M))+R[12]+1804603682&4294967295,C=P+(N<<7&4294967295|N>>>25),N=M+(D^C&(P^D))+R[13]+4254626195&4294967295,M=C+(N<<12&4294967295|N>>>20),N=D+(P^M&(C^P))+R[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(C^D&(M^C))+R[15]+1236535329&4294967295,P=D+(N<<22&4294967295|N>>>10),N=C+(D^M&(P^D))+R[1]+4129170786&4294967295,C=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(C^P))+R[6]+3225465664&4294967295,M=C+(N<<9&4294967295|N>>>23),N=D+(C^P&(M^C))+R[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^C&(D^M))+R[0]+3921069994&4294967295,P=D+(N<<20&4294967295|N>>>12),N=C+(D^M&(P^D))+R[5]+3593408605&4294967295,C=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(C^P))+R[10]+38016083&4294967295,M=C+(N<<9&4294967295|N>>>23),N=D+(C^P&(M^C))+R[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^C&(D^M))+R[4]+3889429448&4294967295,P=D+(N<<20&4294967295|N>>>12),N=C+(D^M&(P^D))+R[9]+568446438&4294967295,C=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(C^P))+R[14]+3275163606&4294967295,M=C+(N<<9&4294967295|N>>>23),N=D+(C^P&(M^C))+R[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^C&(D^M))+R[8]+1163531501&4294967295,P=D+(N<<20&4294967295|N>>>12),N=C+(D^M&(P^D))+R[13]+2850285829&4294967295,C=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(C^P))+R[2]+4243563512&4294967295,M=C+(N<<9&4294967295|N>>>23),N=D+(C^P&(M^C))+R[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^C&(D^M))+R[12]+2368359562&4294967295,P=D+(N<<20&4294967295|N>>>12),N=C+(P^D^M)+R[5]+4294588738&4294967295,C=P+(N<<4&4294967295|N>>>28),N=M+(C^P^D)+R[8]+2272392833&4294967295,M=C+(N<<11&4294967295|N>>>21),N=D+(M^C^P)+R[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^C)+R[14]+4259657740&4294967295,P=D+(N<<23&4294967295|N>>>9),N=C+(P^D^M)+R[1]+2763975236&4294967295,C=P+(N<<4&4294967295|N>>>28),N=M+(C^P^D)+R[4]+1272893353&4294967295,M=C+(N<<11&4294967295|N>>>21),N=D+(M^C^P)+R[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^C)+R[10]+3200236656&4294967295,P=D+(N<<23&4294967295|N>>>9),N=C+(P^D^M)+R[13]+681279174&4294967295,C=P+(N<<4&4294967295|N>>>28),N=M+(C^P^D)+R[0]+3936430074&4294967295,M=C+(N<<11&4294967295|N>>>21),N=D+(M^C^P)+R[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^C)+R[6]+76029189&4294967295,P=D+(N<<23&4294967295|N>>>9),N=C+(P^D^M)+R[9]+3654602809&4294967295,C=P+(N<<4&4294967295|N>>>28),N=M+(C^P^D)+R[12]+3873151461&4294967295,M=C+(N<<11&4294967295|N>>>21),N=D+(M^C^P)+R[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^C)+R[2]+3299628645&4294967295,P=D+(N<<23&4294967295|N>>>9),N=C+(D^(P|~M))+R[0]+4096336452&4294967295,C=P+(N<<6&4294967295|N>>>26),N=M+(P^(C|~D))+R[7]+1126891415&4294967295,M=C+(N<<10&4294967295|N>>>22),N=D+(C^(M|~P))+R[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~C))+R[5]+4237533241&4294967295,P=D+(N<<21&4294967295|N>>>11),N=C+(D^(P|~M))+R[12]+1700485571&4294967295,C=P+(N<<6&4294967295|N>>>26),N=M+(P^(C|~D))+R[3]+2399980690&4294967295,M=C+(N<<10&4294967295|N>>>22),N=D+(C^(M|~P))+R[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~C))+R[1]+2240044497&4294967295,P=D+(N<<21&4294967295|N>>>11),N=C+(D^(P|~M))+R[8]+1873313359&4294967295,C=P+(N<<6&4294967295|N>>>26),N=M+(P^(C|~D))+R[15]+4264355552&4294967295,M=C+(N<<10&4294967295|N>>>22),N=D+(C^(M|~P))+R[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~C))+R[13]+1309151649&4294967295,P=D+(N<<21&4294967295|N>>>11),N=C+(D^(P|~M))+R[4]+4149444226&4294967295,C=P+(N<<6&4294967295|N>>>26),N=M+(P^(C|~D))+R[11]+3174756917&4294967295,M=C+(N<<10&4294967295|N>>>22),N=D+(C^(M|~P))+R[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~C))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var P=C-this.blockSize,R=this.B,D=this.h,M=0;M<C;){if(D==0)for(;M<=P;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<C;)if(R[D++]=I.charCodeAt(M++),D==this.blockSize){s(this,R),D=0;break}}else for(;M<C;)if(R[D++]=I[M++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var P=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=P&255,P/=256;for(this.u(I),I=Array(16),C=P=0;4>C;++C)for(var R=0;32>R;R+=8)I[P++]=this.g[C]>>>R&255;return I};function i(I,C){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=C(I)}function o(I,C){this.h=C;for(var P=[],R=!0,D=I.length-1;0<=D;D--){var M=I[D]|0;R&&M==C||(P[D]=M,R=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?i(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return T(c(-I));for(var C=[],P=1,R=0;I>=P;R++)C[R]=I/P|0,P*=4294967296;return new o(C,0)}function d(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return T(d(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(C,8)),R=h,D=0;D<I.length;D+=8){var M=Math.min(8,I.length-D),N=parseInt(I.substring(D,D+M),C);8>M?(M=c(Math.pow(C,M)),R=R.j(M).add(c(N))):(R=R.j(P),R=R.add(c(N)))}return R}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var I=0,C=1,P=0;P<this.g.length;P++){var R=this.i(P);I+=(0<=R?R:4294967296+R)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(w(this))return"-"+T(this).toString(I);for(var C=c(Math.pow(I,6)),P=this,R="";;){var D=A(P,C).g;P=y(P,D.j(C));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=D,E(P))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=y(this,I),w(I)?-1:E(I)?0:1};function T(I){for(var C=I.g.length,P=[],R=0;R<C;R++)P[R]=~I.g[R];return new o(P,~I.h).add(f)}t.abs=function(){return w(this)?T(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),P=[],R=0,D=0;D<=C;D++){var M=R+(this.i(D)&65535)+(I.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);R=N>>>16,M&=65535,N&=65535,P[D]=N<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function y(I,C){return I.add(T(C))}t.j=function(I){if(E(this)||E(I))return h;if(w(this))return w(I)?T(this).j(T(I)):T(T(this).j(I));if(w(I))return T(this.j(T(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var C=this.g.length+I.g.length,P=[],R=0;R<2*C;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<I.g.length;D++){var M=this.i(R)>>>16,N=this.i(R)&65535,Z=I.i(D)>>>16,ue=I.i(D)&65535;P[2*R+2*D]+=N*ue,x(P,2*R+2*D),P[2*R+2*D+1]+=M*ue,x(P,2*R+2*D+1),P[2*R+2*D+1]+=N*Z,x(P,2*R+2*D+1),P[2*R+2*D+2]+=M*Z,x(P,2*R+2*D+2)}for(R=0;R<C;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=C;R<2*C;R++)P[R]=0;return new o(P,0)};function x(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function S(I,C){this.g=I,this.h=C}function A(I,C){if(E(C))throw Error("division by zero");if(E(I))return new S(h,h);if(w(I))return C=A(T(I),C),new S(T(C.g),T(C.h));if(w(C))return C=A(I,T(C)),new S(T(C.g),C.h);if(30<I.g.length){if(w(I)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var P=f,R=C;0>=R.l(I);)P=k(P),R=k(R);var D=V(P,1),M=V(R,1);for(R=V(R,2),P=V(P,2);!E(R);){var N=M.add(R);0>=N.l(I)&&(D=D.add(P),M=N),R=V(R,1),P=V(P,1)}return C=y(I,D.j(C)),new S(D,C)}for(D=h;0<=I.l(C);){for(P=Math.max(1,Math.floor(I.m()/C.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(P),N=M.j(C);w(N)||0<N.l(I);)P-=R,M=c(P),N=M.j(C);E(M)&&(M=f),D=D.add(M),I=y(I,N)}return new S(D,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),P=[],R=0;R<C;R++)P[R]=this.i(R)&I.i(R);return new o(P,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),P=[],R=0;R<C;R++)P[R]=this.i(R)|I.i(R);return new o(P,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),P=[],R=0;R<C;R++)P[R]=this.i(R)^I.i(R);return new o(P,this.h^I.h)};function k(I){for(var C=I.g.length+1,P=[],R=0;R<C;R++)P[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(P,I.h)}function V(I,C){var P=C>>5;C%=32;for(var R=I.g.length-P,D=[],M=0;M<R;M++)D[M]=0<C?I.i(M+P)>>>C|I.i(M+P+1)<<32-C:I.i(M+P);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Qs=o}).apply(typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IS,xa,bS,nu,Yp,AS,PS,RS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var _=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in _))break e;_=_[j]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var _=0,b=!1,j={next:function(){if(!b&&_<u.length){var O=_++;return{value:m(O,u[O]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,_){return u.call.apply(u.bind,arguments)}function h(u,m,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function f(u,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function E(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,j,O){for(var H=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)H[ke-2]=arguments[ke];return m.prototype[j].apply(b,H)}}function w(u){const m=u.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function T(u,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(l(b)){const j=u.length||0,O=b.length||0;u.length=j+O;for(let H=0;H<O;H++)u[j+H]=b[H]}else u.push(b)}}class y{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function I(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function C(u){const m={};for(const _ in u)m[_]=u[_];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,m){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)u[_]=b[_];for(let O=0;O<P.length;O++)_=P[O],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function D(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function M(u){a.setTimeout(()=>{throw u},0)}function N(){var u=z;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Z{constructor(){this.h=this.g=null}add(m,_){const b=ue.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ue=new y(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let q,L=!1,z=new Z,Y=()=>{const u=a.Promise.resolve(void 0);q=()=>{u.then(ie)}};var ie=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){M(_)}var m=ue;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}L=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return u}();function ut(u,m){if(Ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(k){e:{try{A(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ot[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ut.aa.h.call(this)}}E(ut,Ie);var ot={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Je(u,m,_,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=j,this.key=++Ce,this.da=this.fa=!1}function $(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,_,b,j){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var H=re(u,m,b,j);return-1<H?(m=u[H],_||(m.fa=!1)):(m=new Je(m,this.src,O,!!b,j),m.fa=_,u.push(m)),m};function K(u,m){var _=m.type;if(_ in u.g){var b=u.g[_],j=Array.prototype.indexOf.call(b,m,void 0),O;(O=0<=j)&&Array.prototype.splice.call(b,j,1),O&&($(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function re(u,m,_,b){for(var j=0;j<u.length;++j){var O=u[j];if(!O.da&&O.listener==m&&O.capture==!!_&&O.ha==b)return j}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),dt={};function St(u,m,_,b,j){if(Array.isArray(m)){for(var O=0;O<m.length;O++)St(u,m[O],_,b,j);return null}return _=Ov(_),u&&u[ee]?u.K(m,_,c(b)?!!b.capture:!!b,j):ar(u,m,_,!1,b,j)}function ar(u,m,_,b,j,O){if(!m)throw Error("Invalid event type");var H=c(j)?!!j.capture:!!j,ke=_h(u);if(ke||(u[fe]=ke=new W(u)),_=ke.add(m,_,b,H,O),_.proxy)return _;if(b=Dr(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)Ge||(j=H),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(jv(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Dr(){function u(_){return m.call(u.src,u.listener,_)}const m=sR;return u}function lr(u,m,_,b,j){if(Array.isArray(m))for(var O=0;O<m.length;O++)lr(u,m[O],_,b,j);else b=c(b)?!!b.capture:!!b,_=Ov(_),u&&u[ee]?(u=u.i,m=String(m).toString(),m in u.g&&(O=u.g[m],_=re(O,_,b,j),-1<_&&($(O[_]),Array.prototype.splice.call(O,_,1),O.length==0&&(delete u.g[m],u.h--)))):u&&(u=_h(u))&&(m=u.g[m.toString()],u=-1,m&&(u=re(m,_,b,j)),(_=-1<u?m[u]:null)&&xh(_))}function xh(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ee])K(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(jv(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=_h(m))?(K(_,u),_.h==0&&(_.src=null,m[fe]=null)):$(u)}}}function jv(u){return u in dt?dt[u]:dt[u]="on"+u}function sR(u,m){if(u.da)u=!0;else{m=new ut(m,this);var _=u.listener,b=u.ha||u.src;u.fa&&xh(u),u=_.call(b,m)}return u}function _h(u){return u=u[fe],u instanceof W?u:null}var Eh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ov(u){return typeof u=="function"?u:(u[Eh]||(u[Eh]=function(m){return u.handleEvent(m)}),u[Eh])}function Ct(){ge.call(this),this.i=new W(this),this.M=this,this.F=null}E(Ct,ge),Ct.prototype[ee]=!0,Ct.prototype.removeEventListener=function(u,m,_,b){lr(this,u,m,_,b)};function Lt(u,m){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new Ie(m,u);else if(m instanceof Ie)m.target=m.target||u;else{var j=m;m=new Ie(b,u),R(m,j)}if(j=!0,_)for(var O=_.length-1;0<=O;O--){var H=m.g=_[O];j=Yl(H,b,!0,m)&&j}if(H=m.g=u,j=Yl(H,b,!0,m)&&j,j=Yl(H,b,!1,m)&&j,_)for(O=0;O<_.length;O++)H=m.g=_[O],j=Yl(H,b,!1,m)&&j}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],b=0;b<_.length;b++)$(_[b]);delete u.g[m],u.h--}}this.F=null},Ct.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},Ct.prototype.L=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function Yl(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,O=0;O<m.length;++O){var H=m[O];if(H&&!H.da&&H.capture==_){var ke=H.listener,mt=H.ha||H.src;H.fa&&K(u.i,H),j=ke.call(mt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Lv(u,m,_){if(typeof u=="function")_&&(u=f(u,_));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Fv(u){u.g=Lv(()=>{u.g=null,u.i&&(u.i=!1,Fv(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class iR extends ge{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $o(u){ge.call(this),this.h=u,this.g={}}E($o,ge);var Bv=[];function Uv(u){V(u.g,function(m,_){this.g.hasOwnProperty(_)&&xh(m)},u),u.g={}}$o.prototype.N=function(){$o.aa.N.call(this),Uv(this)},$o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Th=a.JSON.stringify,oR=a.JSON.parse,aR=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Sh(){}Sh.prototype.h=null;function zv(u){return u.h||(u.h=u.i())}function $v(){}var Wo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ch(){Ie.call(this,"d")}E(Ch,Ie);function Ih(){Ie.call(this,"c")}E(Ih,Ie);var Rs={},Wv=null;function Xl(){return Wv=Wv||new Ct}Rs.La="serverreachability";function Hv(u){Ie.call(this,Rs.La,u)}E(Hv,Ie);function Ho(u){const m=Xl();Lt(m,new Hv(m))}Rs.STAT_EVENT="statevent";function qv(u,m){Ie.call(this,Rs.STAT_EVENT,u),this.stat=m}E(qv,Ie);function Ft(u){const m=Xl();Lt(m,new qv(m,u))}Rs.Ma="timingevent";function Kv(u,m){Ie.call(this,Rs.Ma,u),this.size=m}E(Kv,Ie);function qo(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Ko(){this.g=!0}Ko.prototype.xa=function(){this.g=!1};function lR(u,m,_,b,j,O){u.info(function(){if(u.g)if(O)for(var H="",ke=O.split("&"),mt=0;mt<ke.length;mt++){var Ee=ke[mt].split("=");if(1<Ee.length){var It=Ee[0];Ee=Ee[1];var bt=It.split("_");H=2<=bt.length&&bt[1]=="type"?H+(It+"="+Ee+"&"):H+(It+"=redacted&")}}else H=null;else H=O;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+_+`
`+H})}function cR(u,m,_,b,j,O,H){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+_+`
`+O+" "+H})}function xi(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+dR(u,_)+(b?" "+b:"")})}function uR(u,m){u.info(function(){return"TIMEOUT: "+m})}Ko.prototype.info=function(){};function dR(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var O=j[0];if(O!="noop"&&O!="stop"&&O!="close")for(var H=1;H<j.length;H++)j[H]=""}}}}return Th(_)}catch{return m}}var Jl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bh;function Zl(){}E(Zl,Sh),Zl.prototype.g=function(){return new XMLHttpRequest},Zl.prototype.i=function(){return{}},bh=new Zl;function Mr(u,m,_,b){this.j=u,this.i=m,this.l=_,this.R=b||1,this.U=new $o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}var Yv={},Ah={};function Ph(u,m,_){u.L=1,u.v=rc(cr(m)),u.m=_,u.P=!0,Xv(u,null)}function Xv(u,m){u.F=Date.now(),ec(u),u.A=cr(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),d0(_.i,"t",b),u.C=0,_=u.j.J,u.h=new Qv,u.g=P0(u.j,_?m:null,!u.m),0<u.O&&(u.M=new iR(f(u.Y,u,u.g),u.O)),m=u.U,_=u.g,b=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Bv[0]=j.toString()),j=Bv);for(var O=0;O<j.length;O++){var H=St(_,j[O],b||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ho(),lR(u.i,u.u,u.A,u.l,u.R,u.m)}Mr.prototype.ca=function(u){u=u.target;const m=this.M;m&&ur(u)==3?m.j():this.Y(u)},Mr.prototype.Y=function(u){try{if(u==this.g)e:{const bt=ur(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||v0(this.g)))){this.J||bt!=4||m==7||(m==8||0>=Ti?Ho(3):Ho(2)),Rh(this);var _=this.g.Z();this.X=_;t:if(Jv(this)){var b=v0(this.g);u="";var j=b.length,O=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),Go(this);var H="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(O&&m==j-1)});b.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=_==200,cR(this.i,this.u,this.A,this.l,this.R,bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,mt=this.g;if((ke=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ke)){var Ee=ke;break t}}Ee=null}if(_=Ee)xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kh(this,_);else{this.o=!1,this.s=3,Ft(12),ks(this),Go(this);break e}}if(this.P){_=!0;let An;for(;!this.J&&this.C<H.length;)if(An=hR(this,H),An==Ah){bt==4&&(this.s=4,Ft(14),_=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Yv){this.s=4,Ft(15),xi(this.i,this.l,H,"[Invalid Chunk]"),_=!1;break}else xi(this.i,this.l,An,null),kh(this,An);if(Jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||H.length!=0||this.h.h||(this.s=1,Ft(16),_=!1),this.o=this.o&&_,!_)xi(this.i,this.l,H,"[Invalid Chunked Response]"),ks(this),Go(this);else if(0<H.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Oh(It),It.M=!0,Ft(11))}}else xi(this.i,this.l,H,null),kh(this,H);bt==4&&ks(this),this.o&&!this.J&&(bt==4?C0(this.j,this):(this.o=!1,ec(this)))}else PR(this.g),_==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),ks(this),Go(this)}}}catch{}finally{}};function Jv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function hR(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Ah:(_=Number(m.substring(_,b)),isNaN(_)?Yv:(b+=1,b+_>m.length?Ah:(m=m.slice(b,b+_),u.C=b+_,m)))}Mr.prototype.cancel=function(){this.J=!0,ks(this)};function ec(u){u.S=Date.now()+u.I,Zv(u,u.I)}function Zv(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qo(f(u.ba,u),m)}function Rh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Mr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(uR(this.i,this.A),this.L!=2&&(Ho(),Ft(17)),ks(this),this.s=2,Go(this)):Zv(this,this.S-u)};function Go(u){u.j.G==0||u.J||C0(u.j,u)}function ks(u){Rh(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Uv(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function kh(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Nh(_.h,u))){if(!u.K&&Nh(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)cc(_),ac(_);else break e;jh(_),Ft(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=qo(f(_.Za,_),6e3));if(1>=n0(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ds(_,11)}else if((u.K||_.g==u)&&cc(_),!x(m))for(j=_.Da.g.parse(m),m=0;m<j.length;m++){let Ee=j[m];if(_.T=Ee[0],Ee=Ee[1],_.G==2)if(Ee[0]=="c"){_.K=Ee[1],_.ia=Ee[2];const It=Ee[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const bt=Ee[4];bt!=null&&(_.Aa=bt,_.j.info("SVER="+_.Aa));const Ti=Ee[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(b=1.5*Ti,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const An=u.g;if(An){const dc=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dc){var O=b.h;O.g||dc.indexOf("spdy")==-1&&dc.indexOf("quic")==-1&&dc.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Dh(O,O.h),O.h=null))}if(b.D){const Lh=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Lh&&(b.ya=Lh,Me(b.I,b.D,Lh))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var H=u;if(b.qa=A0(b,b.J?b.ia:null,b.W),H.K){r0(b.h,H);var ke=H,mt=b.L;mt&&(ke.I=mt),ke.B&&(Rh(ke),ec(ke)),b.g=H}else T0(b);0<_.i.length&&lc(_)}else Ee[0]!="stop"&&Ee[0]!="close"||Ds(_,7);else _.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ds(_,7):Vh(_):Ee[0]!="noop"&&_.l&&_.l.ta(Ee),_.v=0)}}Ho(4)}catch{}}var fR=class{constructor(u,m){this.g=u,this.map=m}};function e0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function n0(u){return u.h?1:u.g?u.g.size:0}function Nh(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dh(u,m){u.g?u.g.add(m):u.h=m}function r0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}e0.prototype.cancel=function(){if(this.i=s0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function s0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return w(u.i)}function pR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],_=u.length,b=0;b<_;b++)m.push(u[b]);return m}m=[],_=0;for(b in u)m[_++]=u[b];return m}function mR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const b in u)m[_++]=b;return m}}}function i0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=mR(u),b=pR(u),j=b.length,O=0;O<j;O++)m.call(void 0,b[O],_&&_[O],u)}var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gR(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),j=null;if(0<=b){var O=u[_].substring(0,b);j=u[_].substring(b+1)}else O=u[_];m(O,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ns(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ns){this.h=u.h,tc(this,u.j),this.o=u.o,this.g=u.g,nc(this,u.s),this.l=u.l;var m=u.i,_=new Xo;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),a0(this,_),this.m=u.m}else u&&(m=String(u).match(o0))?(this.h=!1,tc(this,m[1]||"",!0),this.o=Qo(m[2]||""),this.g=Qo(m[3]||"",!0),nc(this,m[4]),this.l=Qo(m[5]||"",!0),a0(this,m[6]||"",!0),this.m=Qo(m[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}Ns.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yo(m,l0,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yo(m,l0,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Yo(_,_.charAt(0)=="/"?wR:vR,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Yo(_,_R)),u.join("")};function cr(u){return new Ns(u)}function tc(u,m,_){u.j=_?Qo(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function nc(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function a0(u,m,_){m instanceof Xo?(u.i=m,ER(u.i,u.h)):(_||(m=Yo(m,xR)),u.i=new Xo(m,u.h))}function Me(u,m,_){u.i.set(m,_)}function rc(u){return Me(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Qo(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yo(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,yR),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var l0=/[#\/\?@]/g,vR=/[#\?:]/g,wR=/[#\?]/g,xR=/[#\?@]/g,_R=/#/g;function Xo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Vr(u){u.g||(u.g=new Map,u.h=0,u.i&&gR(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Xo.prototype,t.add=function(u,m){Vr(this),this.i=null,u=_i(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function c0(u,m){Vr(u),m=_i(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function u0(u,m){return Vr(u),m=_i(u,m),u.g.has(m)}t.forEach=function(u,m){Vr(this),this.g.forEach(function(_,b){_.forEach(function(j){u.call(m,j,b,this)},this)},this)},t.na=function(){Vr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const j=u[b];for(let O=0;O<j.length;O++)_.push(m[b])}return _},t.V=function(u){Vr(this);let m=[];if(typeof u=="string")u0(this,u)&&(m=m.concat(this.g.get(_i(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},t.set=function(u,m){return Vr(this),this.i=null,u=_i(this,u),u0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function d0(u,m,_){c0(u,m),0<_.length&&(u.i=null,u.g.set(_i(u,m),w(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const O=encodeURIComponent(String(b)),H=this.V(b);for(b=0;b<H.length;b++){var j=O;H[b]!==""&&(j+="="+encodeURIComponent(String(H[b]))),u.push(j)}}return this.i=u.join("&")};function _i(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ER(u,m){m&&!u.j&&(Vr(u),u.i=null,u.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(c0(this,b),d0(this,j,_))},u)),u.j=m}function TR(u,m){const _=new Ko;if(a.Image){const b=new Image;b.onload=g(jr,_,"TestLoadImage: loaded",!0,m,b),b.onerror=g(jr,_,"TestLoadImage: error",!1,m,b),b.onabort=g(jr,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=g(jr,_,"TestLoadImage: timeout",!1,m,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function SR(u,m){const _=new Ko,b=new AbortController,j=setTimeout(()=>{b.abort(),jr(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(O=>{clearTimeout(j),O.ok?jr(_,"TestPingServer: ok",!0,m):jr(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),jr(_,"TestPingServer: error",!1,m)})}function jr(u,m,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function CR(){this.g=new aR}function IR(u,m,_){const b=_||"";try{i0(u,function(j,O){let H=j;c(j)&&(H=Th(j)),m.push(b+O+"="+encodeURIComponent(H))})}catch(j){throw m.push(b+"type="+encodeURIComponent("_badmap")),j}}function sc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(sc,Sh),sc.prototype.g=function(){return new ic(this.l,this.j)},sc.prototype.i=function(u){return function(){return u}}({});function ic(u,m){Ct.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ic,Ct),t=ic.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;h0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function h0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Jo(this):Zo(this),this.readyState==3&&h0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Jo(this))},t.Qa=function(u){this.g&&(this.response=u,Jo(this))},t.ga=function(){this.g&&Jo(this)};function Jo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zo(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Zo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function f0(u){let m="";return V(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function Mh(u,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=f0(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Me(u,m,_))}function Qe(u){Ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Qe,Ct);var bR=/^https?$/i,AR=["POST","PUT"];t=Qe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bh.g(),this.v=this.o?zv(this.o):zv(bh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(O){p0(this,O);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const O of b.keys())_.set(O,b.get(O));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(O=>O.toLowerCase()=="content-type"),j=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AR,m,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,H]of _)this.g.setRequestHeader(O,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y0(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){p0(this,O)}};function p0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,m0(u),oc(u)}function m0(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Lt(this,"complete"),Lt(this,"abort"),oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g0(this):this.bb())},t.bb=function(){g0(this)};function g0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ur(u)!=4||u.Z()!=2)){if(u.u&&ur(u)==4)Lv(u.Ea,0,u);else if(Lt(u,"readystatechange"),ur(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=H===0){var j=String(u.D).match(o0)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),b=!bR.test(j?j.toLowerCase():"")}_=b}if(_)Lt(u,"complete"),Lt(u,"success");else{u.m=6;try{var O=2<ur(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",m0(u)}}finally{oc(u)}}}}function oc(u,m){if(u.g){y0(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Lt(u,"ready");try{_.onreadystatechange=b}catch{}}}function y0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ur(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),oR(m)}};function v0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function PR(u){const m={};u=(u.g&&2<=ur(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var _=D(u[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const O=m[j]||[];m[j]=O,O.push(_)}I(m,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function w0(u){this.Aa=0,this.i=[],this.j=new Ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,u),this.cb=ea("retryDelaySeedMs",1e4,u),this.Wa=ea("forwardChannelMaxRetries",2,u),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new e0(u&&u.concurrentRequestLimit),this.Da=new CR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w0.prototype,t.la=8,t.G=1,t.connect=function(u,m,_,b){Ft(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=A0(this,null,this.W),lc(this)};function Vh(u){if(x0(u),u.G==3){var m=u.U++,_=cr(u.I);if(Me(_,"SID",u.K),Me(_,"RID",m),Me(_,"TYPE","terminate"),ta(u,_),m=new Mr(u,u.j,m),m.L=2,m.v=rc(cr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=P0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ec(m)}b0(u)}function ac(u){u.g&&(Oh(u),u.g.cancel(),u.g=null)}function x0(u){ac(u),u.u&&(a.clearTimeout(u.u),u.u=null),cc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function lc(u){if(!t0(u.h)&&!u.s){u.s=!0;var m=u.Ga;q||Y(),L||(q(),L=!0),z.add(m,u),u.B=0}}function RR(u,m){return n0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qo(f(u.Ga,u,m),I0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Mr(this,this.j,u);let O=this.o;if(this.S&&(O?(O=C(O),R(O,this.S)):O=this.S),this.m!==null||this.O||(j.H=O,O=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=E0(this,j,m),_=cr(this.I),Me(_,"RID",u),Me(_,"CVER",22),this.D&&Me(_,"X-HTTP-Session-Id",this.D),ta(this,_),O&&(this.O?m="headers="+encodeURIComponent(String(f0(O)))+"&"+m:this.m&&Mh(_,this.m,O)),Dh(this.h,j),this.Ua&&Me(_,"TYPE","init"),this.P?(Me(_,"$req",m),Me(_,"SID","null"),j.T=!0,Ph(j,_,null)):Ph(j,_,m),this.G=2}}else this.G==3&&(u?_0(this,u):this.i.length==0||t0(this.h)||_0(this))};function _0(u,m){var _;m?_=m.l:_=u.U++;const b=cr(u.I);Me(b,"SID",u.K),Me(b,"RID",_),Me(b,"AID",u.T),ta(u,b),u.m&&u.o&&Mh(b,u.m,u.o),_=new Mr(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=E0(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Dh(u.h,_),Ph(_,b,m)}function ta(u,m){u.H&&V(u.H,function(_,b){Me(m,b,_)}),u.l&&i0({},function(_,b){Me(m,b,_)})}function E0(u,m,_){_=Math.min(u.i.length,_);var b=u.l?f(u.l.Na,u.l,u):null;e:{var j=u.i;let O=-1;for(;;){const H=["count="+_];O==-1?0<_?(O=j[0].g,H.push("ofs="+O)):O=0:H.push("ofs="+O);let ke=!0;for(let mt=0;mt<_;mt++){let Ee=j[mt].g;const It=j[mt].map;if(Ee-=O,0>Ee)O=Math.max(0,j[mt].g-100),ke=!1;else try{IR(It,H,"req"+Ee+"_")}catch{b&&b(It)}}if(ke){b=H.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,b}function T0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;q||Y(),L||(q(),L=!0),z.add(m,u),u.v=0}}function jh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qo(f(u.Fa,u),I0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,S0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qo(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),ac(this),S0(this))};function Oh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function S0(u){u.g=new Mr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cr(u.qa);Me(m,"RID","rpc"),Me(m,"SID",u.K),Me(m,"AID",u.T),Me(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Me(m,"TO",u.ja),Me(m,"TYPE","xmlhttp"),ta(u,m),u.m&&u.o&&Mh(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=rc(cr(m)),_.m=null,_.P=!0,Xv(_,u)}t.Za=function(){this.C!=null&&(this.C=null,ac(this),jh(this),Ft(19))};function cc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function C0(u,m){var _=null;if(u.g==m){cc(u),Oh(u),u.g=null;var b=2}else if(Nh(u.h,m))_=m.D,r0(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;b=Xl(),Lt(b,new Kv(b,_)),lc(u)}else T0(u);else if(j=m.s,j==3||j==0&&0<m.X||!(b==1&&RR(u,m)||b==2&&jh(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),j){case 1:Ds(u,5);break;case 4:Ds(u,10);break;case 3:Ds(u,6);break;default:Ds(u,2)}}}function I0(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ds(u,m){if(u.j.info("Error code "+m),m==2){var _=f(u.fb,u),b=u.Xa;const j=!b;b=new Ns(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tc(b,"https"),rc(b),j?TR(b.toString(),_):SR(b.toString(),_)}else Ft(2);u.G=0,u.l&&u.l.sa(m),b0(u),x0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function b0(u){if(u.G=0,u.ka=[],u.l){const m=s0(u.h);(m.length!=0||u.i.length!=0)&&(T(u.ka,m),T(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function A0(u,m,_){var b=_ instanceof Ns?cr(_):new Ns(_);if(b.g!="")m&&(b.g=m+"."+b.g),nc(b,b.s);else{var j=a.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var O=new Ns(null);b&&tc(O,b),m&&(O.g=m),j&&nc(O,j),_&&(O.l=_),b=O}return _=u.D,m=u.ya,_&&m&&Me(b,_,m),Me(b,"VER",u.la),ta(u,b),b}function P0(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Qe(new sc({eb:_})):new Qe(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R0(){}t=R0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uc(){}uc.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ct.call(this),this.g=new w0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!x(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ei(this)}E(tn,Ct),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vh(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Th(u),u=_);m.i.push(new fR(m.Ya++,u)),m.G==3&&lc(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vh(this.g),delete this.g,tn.aa.N.call(this)};function k0(u){Ch.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(k0,Ch);function N0(){Ih.call(this),this.status=1}E(N0,Ih);function Ei(u){this.g=u}E(Ei,R0),Ei.prototype.ua=function(){Lt(this.g,"a")},Ei.prototype.ta=function(u){Lt(this.g,new k0(u))},Ei.prototype.sa=function(u){Lt(this.g,new N0)},Ei.prototype.ra=function(){Lt(this.g,"b")},uc.prototype.createWebChannel=uc.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,RS=function(){return new uc},PS=function(){return Xl()},AS=Rs,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jl.NO_ERROR=0,Jl.TIMEOUT=8,Jl.HTTP_ERROR=6,nu=Jl,Gv.COMPLETE="complete",bS=Gv,$v.EventType=Wo,Wo.OPEN="a",Wo.CLOSE="b",Wo.ERROR="c",Wo.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,xa=$v,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,IS=Qe}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const ax="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new wS("@firebase/firestore");function ua(){return ni.logLevel}function X(t,...e){if(ni.logLevel<=xe.DEBUG){const n=e.map(qg);ni.debug(`Firestore (${No}): ${t}`,...n)}}function Cr(t,...e){if(ni.logLevel<=xe.ERROR){const n=e.map(qg);ni.error(`Firestore (${No}): ${t}`,...n)}}function po(t,...e){if(ni.logLevel<=xe.WARN){const n=e.map(qg);ni.warn(`Firestore (${No}): ${t}`,...n)}}function qg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function Pe(t,e){t||se()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends ko{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class MM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VM{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new kS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new Nt(e)}}class jM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pe(this.o===void 0);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new LM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=BM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function mo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new de(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new de(0,0))}static max(){return new oe(new de(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends fl{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const UM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends fl{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return UM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Le.fromString(e))}static fromName(e){return new te(Le.fromString(e).popFirst(5))}static empty(){return new te(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Le(e.slice()))}}function zM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new de(n+1,0):new de(n,r));return new ps(s,te.empty(),e)}function $M(t){return new ps(t.readTime,t.key,-1)}class ps{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ps(oe.min(),te.empty(),-1)}static max(){return new ps(oe.max(),te.empty(),-1)}}function WM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==HM)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function KM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kg.oe=-1;function Vd(t){return t==null}function Wu(t){return t===0&&1/t==-1/0}function GM(t){return typeof t=="number"&&Number.isInteger(t)&&!Wu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cx(this.data.getIterator())}getIteratorFrom(e){return new cx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class cx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new an([])}unionWith(e){let n=new _t(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MS("Invalid base64 string: "+i):i}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const QM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=QM.exec(t);if(Pe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ri(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qg(t){const e=t.mapValue.fields.__previous_value__;return Gg(e)?Qg(e):e}function pl(t){const e=ms(t.mapValue.fields.__local_write_time__.timestampValue);return new de(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ml{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:JM(t)?9007199254740991:XM(t)?10:11:se()}function rr(t,e){if(t===e)return!0;const n=si(t);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pl(t).isEqual(pl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ms(s.timestampValue),a=ms(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ri(s.bytesValue).isEqual(ri(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return et(s.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(s.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return et(s.integerValue)===et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=et(s.doubleValue),a=et(i.doubleValue);return o===a?Wu(o)===Wu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mo(t.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(lx(o)!==lx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!rr(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function gl(t,e){return(t.values||[]).find(n=>rr(n,e))!==void 0}function go(t,e){if(t===e)return 0;const n=si(t),r=si(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=et(i.integerValue||i.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ux(t.timestampValue,e.timestampValue);case 4:return ux(pl(t),pl(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ri(i),l=ri(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Te(a[c],l[c]);if(d!==0)return d}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Te(et(i.latitude),et(o.latitude));return a!==0?a:Te(et(i.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=Te(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:dx(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===kc.mapValue&&o===kc.mapValue)return 0;if(i===kc.mapValue)return 1;if(o===kc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Te(l[h],d[h]);if(f!==0)return f;const g=go(a[l[h]],c[d[h]]);if(g!==0)return g}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function ux(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=ms(t),r=ms(e),s=Te(n.seconds,r.seconds);return s!==0?s:Te(n.nanos,r.nanos)}function dx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=go(n[s],r[s]);if(i)return i}return Te(n.length,r.length)}function yo(t){return Xp(t)}function Xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Xp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Xp(n.fields[o])}`;return s+"}"}(t.mapValue):se()}function hx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jp(t){return!!t&&"integerValue"in t}function Yg(t){return!!t&&"arrayValue"in t}function fx(t){return!!t&&"nullValue"in t}function px(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ru(t){return!!t&&"mapValue"in t}function XM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Oa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oa(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Oa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ru(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){gi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Kt(Oa(this.value))}}function VS(t){const e=[];return gi(t.fields,(n,r)=>{const s=new wt([n]);if(ru(r)){const i=VS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,oe.min(),oe.min(),oe.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,oe.min(),oe.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,oe.min(),oe.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.position=e,this.inclusive=n}}function mx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=go(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function gx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class st extends jS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tV(e,n,r):n==="array-contains"?new sV(e,r):n==="in"?new iV(e,r):n==="not-in"?new oV(e,r):n==="array-contains-any"?new aV(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nV(e,r):new rV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(go(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends jS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fn(e,n)}matches(e){return OS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function OS(t){return t.op==="and"}function LS(t){return eV(t)&&OS(t)}function eV(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function Zp(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+yo(t.value);if(LS(t))return t.filters.map(e=>Zp(e)).join(",");{const e=t.filters.map(n=>Zp(n)).join(",");return`${t.op}(${e})`}}function FS(t,e){return t instanceof st?function(r,s){return s instanceof st&&r.op===s.op&&r.field.isEqual(s.field)&&rr(r.value,s.value)}(t,e):t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&FS(o,s.filters[a]),!0):!1}(t,e):void se()}function BS(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(BS).join(" ,")+"}"}(t):"Filter"}class tV extends st{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class nV extends st{constructor(e,n){super(e,"in",n),this.keys=US("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rV extends st{constructor(e,n){super(e,"not-in",n),this.keys=US("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function US(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class sV extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yg(n)&&gl(n.arrayValue,this.value)}}class iV extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gl(this.value.arrayValue,n)}}class oV extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gl(this.value.arrayValue,n)}}class aV extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function yx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new lV(t,e,n,r,s,i,o)}function Xg(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yo(r)).join(",")),e.ue=n}return e.ue}function Jg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gx(t.startAt,e.startAt)&&gx(t.endAt,e.endAt)}function em(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cV(t,e,n,r,s,i,o,a){return new Ol(t,e,n,r,s,i,o,a)}function jd(t){return new Ol(t)}function vx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zS(t){return t.collectionGroup!==null}function La(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new qu(i,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new qu(wt.keyField(),r))}return e.ce}function Jn(t){const e=ae(t);return e.le||(e.le=uV(e,La(t))),e.le}function uV(t,e){if(t.limitType==="F")return yx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new qu(s.field,i)});const n=t.endAt?new Hu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hu(t.startAt.position,t.startAt.inclusive):null;return yx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tm(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nm(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Od(t,e){return Jg(Jn(t),Jn(e))&&t.limitType===e.limitType}function $S(t){return`${Xg(Jn(t))}|lt:${t.limitType}`}function Pi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>BS(s)).join(", ")}]`),Vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>yo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>yo(s)).join(",")),`Target(${r})`}(Jn(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of La(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=mx(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,La(r),s)||r.endAt&&!function(o,a,l){const c=mx(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,La(r),s))}(t,e)}function dV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WS(t){return(e,n)=>{let r=!1;for(const s of La(t)){const i=hV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function hV(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?go(l,c):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return DS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new qe(te.comparator);function Ir(){return fV}const HS=new qe(te.comparator);function _a(...t){let e=HS;for(const n of t)e=e.insert(n.key,n);return e}function qS(t){let e=HS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return Fa()}function KS(){return Fa()}function Fa(){return new Do(t=>t.toString(),(t,e)=>t.isEqual(e))}const pV=new qe(te.comparator),mV=new _t(te.comparator);function me(...t){let e=mV;for(const n of t)e=e.add(n);return e}const gV=new _t(Te);function yV(){return gV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function GS(t){return{integerValue:""+t}}function vV(t,e){return GM(e)?GS(e):Zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function wV(t,e,n){return t instanceof Ku?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Gg(i)&&(i=Qg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof yl?YS(t,e):t instanceof vl?XS(t,e):function(s,i){const o=QS(s,i),a=wx(o)+wx(s.Pe);return Jp(o)&&Jp(s.Pe)?GS(a):Zg(s.serializer,a)}(t,e)}function xV(t,e,n){return t instanceof yl?YS(t,e):t instanceof vl?XS(t,e):n}function QS(t,e){return t instanceof Gu?function(r){return Jp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ku extends Fd{}class yl extends Fd{constructor(e){super(),this.elements=e}}function YS(t,e){const n=JS(e);for(const r of t.elements)n.some(s=>rr(s,r))||n.push(r);return{arrayValue:{values:n}}}class vl extends Fd{constructor(e){super(),this.elements=e}}function XS(t,e){let n=JS(e);for(const r of t.elements)n=n.filter(s=>!rr(s,r));return{arrayValue:{values:n}}}class Gu extends Fd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function wx(t){return et(t.integerValue||t.doubleValue)}function JS(t){return Yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _V(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yl&&s instanceof yl||r instanceof vl&&s instanceof vl?mo(r.elements,s.elements,rr):r instanceof Gu&&s instanceof Gu?rr(r.Pe,s.Pe):r instanceof Ku&&s instanceof Ku}(t.transform,e.transform)}class EV{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function su(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function ZS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ey(t.key,Cn.none()):new Ll(t.key,t.data,Cn.none());{const n=t.data,r=Kt.empty();let s=new _t(wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Is(t.key,r,new an(s.toArray()),Cn.none())}}function TV(t,e,n){t instanceof Ll?function(s,i,o){const a=s.value.clone(),l=_x(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Is?function(s,i,o){if(!su(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=_x(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(eC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ba(t,e,n,r){return t instanceof Ll?function(i,o,a,l){if(!su(i.precondition,o))return a;const c=i.value.clone(),d=Ex(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Is?function(i,o,a,l){if(!su(i.precondition,o))return a;const c=Ex(i.fieldTransforms,l,o),d=o.data;return d.setAll(eC(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return su(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function SV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=QS(r.transform,s||null);i!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,i))}return n||null}function xx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mo(r,s,(i,o)=>_V(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends Bd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Is extends Bd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function eC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _x(t,e,n){const r=new Map;Pe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,xV(o,a,n[s]))}return r}function Ex(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,wV(i,o,e))}return r}class ey extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CV extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&TV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=ZS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,r)=>xx(n,r))&&mo(this.baseMutations,e.baseMutations,(n,r)=>xx(n,r))}}class ty{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length);let s=function(){return pV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ty(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,ve;function PV(t){switch(t){default:return se();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function tC(t){if(t===void 0)return Cr("GRPC error has no .code"),F.UNKNOWN;switch(t){case nt.OK:return F.OK;case nt.CANCELLED:return F.CANCELLED;case nt.UNKNOWN:return F.UNKNOWN;case nt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case nt.INTERNAL:return F.INTERNAL;case nt.UNAVAILABLE:return F.UNAVAILABLE;case nt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case nt.NOT_FOUND:return F.NOT_FOUND;case nt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case nt.ABORTED:return F.ABORTED;case nt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case nt.DATA_LOSS:return F.DATA_LOSS;default:return se()}}(ve=nt||(nt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new Qs([4294967295,4294967295],0);function Tx(t){const e=RV().encode(t),n=new CS;return n.update(e),new Uint8Array(n.digest())}function Sx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([s,i],0)]}class ny{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ea(`Invalid padding: ${n}`);if(r<0)throw new Ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qs.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Qs.fromNumber(r)));return s.compare(kV)===1&&(s=new Qs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Tx(e),[r,s]=Sx(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ny(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Tx(e),[r,s]=Sx(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ud(oe.min(),s,new qe(Te),Ir(),me())}}class Fl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fl(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class nC{constructor(e,n){this.targetId=e,this.me=n}}class rC{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Cx{constructor(){this.fe=0,this.ge=bx(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se()}}),new Fl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=bx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ir(),this.qe=Ix(),this.Qe=new qe(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(em(i))if(r===0){const o=new te(i.path);this.Ue(n,o,Mt.newNoDocument(o,oe.min()))}else Pe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ri(r).toUint8Array()}catch(l){if(l instanceof MS)return po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ny(o,s,i)}catch(l){return po(l instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&em(a.target)){const l=new te(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Mt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=me();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Ud(e,n,this.Qe,this.ke,r);return this.ke=Ir(),this.qe=Ix(),this.Qe=new qe(Te),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Cx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Cx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ix(){return new qe(te.comparator)}function bx(){return new qe(te.comparator)}const DV={asc:"ASCENDING",desc:"DESCENDING"},MV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VV={and:"AND",or:"OR"};class jV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(t,e){return t.useProto3Json||Vd(e)?e:{value:e}}function Qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OV(t,e){return Qu(t,e.toTimestamp())}function Zn(t){return Pe(!!t),oe.fromTimestamp(function(n){const r=ms(n);return new de(r.seconds,r.nanos)}(t))}function ry(t,e){return sm(t,e).canonicalString()}function sm(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iC(t){const e=Le.fromString(t);return Pe(uC(e)),e}function im(t,e){return ry(t.databaseId,e.path)}function yf(t,e){const n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(aC(n))}function oC(t,e){return ry(t.databaseId,e)}function LV(t){const e=iC(t);return e.length===4?Le.emptyPath():aC(e)}function om(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aC(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ax(t,e,n){return{name:im(t,e),fields:n.value.mapValue.fields}}function FV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Pe(d===void 0||typeof d=="string"),Tt.fromBase64String(d||"")):(Pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:tC(c.code);return new Q(d,c.message||"")}(o);n=new rC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=yf(t,r.document.name),i=Zn(r.document.updateTime),o=r.document.createTime?Zn(r.document.createTime):oe.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new iu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=yf(t,r.document),i=r.readTime?Zn(r.readTime):oe.min(),o=Mt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new iu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=yf(t,r.document),i=r.removedTargetIds||[];n=new iu([],i,s,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new AV(s,i),a=r.targetId;n=new nC(a,o)}}return n}function BV(t,e){let n;if(e instanceof Ll)n={update:Ax(t,e.key,e.value)};else if(e instanceof ey)n={delete:im(t,e.key)};else if(e instanceof Is)n={update:Ax(t,e.key,e.data),updateMask:QV(e.fieldMask)};else{if(!(e instanceof CV))return se();n={verify:im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:OV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(t,e.precondition)),n}function UV(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Zn(s.updateTime):Zn(i);return o.isEqual(oe.min())&&(o=Zn(i)),new EV(o,s.transformResults||[])}(n,e))):[]}function zV(t,e){return{documents:[oC(t,e.path)]}}function $V(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oC(t,s);const i=function(c){if(c.length!==0)return cC(Fn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Ri(f.field),direction:qV(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function WV(t){let e=LV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=lC(h);return f instanceof Fn&&LS(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(E){return new qu(ki(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Vd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new Hu(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new Hu(g,f)}(n.endAt)),cV(e,s,o,i,a,"F",l,c)}function HV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ki(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ki(n.unaryFilter.field);return st.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ki(n.unaryFilter.field);return st.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ki(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return st.create(ki(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>lC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function qV(t){return DV[t]}function KV(t){return MV[t]}function GV(t){return VV[t]}function Ri(t){return{fieldPath:t.canonicalString()}}function ki(t){return wt.fromServerFormat(t.fieldPath)}function cC(t){return t instanceof st?function(n){if(n.op==="=="){if(px(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NAN"}};if(fx(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(px(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NOT_NAN"}};if(fx(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ri(n.field),op:KV(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(s=>cC(s));return r.length===1?r[0]:{compositeFilter:{op:GV(n.op),filters:r}}}(t):se()}function QV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.ct=e}}function XV(t){const e=WV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.un=new ZV}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ps.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class ZV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vo(0)}static kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.changes=new Do(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ba(r.mutation,s,an.empty(),de.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=_a();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ir();const o=Fa(),a=function(){return Fa()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Is)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ba(d.mutation,c,d.mutation.getFieldMask(),de.now())):o.set(c.key,an.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new tj(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fa();let s=new qe((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||an.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||me()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=KS();d.forEach(f=>{if(!i.has(f)){const g=ZS(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ws());let a=-1,l=i;return o.next(c=>B.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,me())).next(d=>({batchId:a,changes:qS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=_a();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=_a();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(h,f){return new Ol(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Mt.newInvalidDocument(d)))});let a=_a();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Ba(d.mutation,c,an.empty(),de.now()),Ld(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zn(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:XV(s.bundledQuery),readTime:Zn(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.overlays=new qe(te.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ws();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ws(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new qe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ws(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ws(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return B.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bV(n,r));let i=this.Ir.get(n);i===void 0&&(i=me(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.Tr=new _t(ht.Er),this.dr=new _t(ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new te(new Le([])),r=new ht(n,e),s=new ht(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new te(new Le([])),r=new ht(n,e),s=new ht(n,e+1);let i=me();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _t(ht.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new ht(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),s=new ht(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Te);return n.forEach(s=>{const i=new ht(s,0),o=new ht(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new ht(new te(i),0);let a=new _t(Te);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,s=>{const i=new ht(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ht(n,0),s=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.Mr=e,this.docs=function(){return new qe(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ir();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||WM($M(d),r)<=0||(s.has(d.key)||Ld(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lj(this)}getSize(e){return B.resolve(this.size)}}class lj extends ej{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.persistence=e,this.Nr=new Do(n=>Xg(n),Jg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sy,this.targetCount=0,this.kr=vo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kg(0),this.Kr=!1,this.Kr=!0,this.$r=new ij,this.referenceDelegate=e(this),this.Ur=new cj(this),this.indexManager=new JV,this.remoteDocumentCache=function(s){return new aj(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YV(n),this.Gr=new rj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new oj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new dj(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class dj extends qM{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Jr=new sy,this.Yr=null}static Zr(e){return new iy(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const s=te.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new oy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yD()?8:KM(mD())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new hj;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(ua()<=xe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Pi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(ua()<=xe.DEBUG&&X("QueryEngine","Query:",Pi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ua()<=xe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Pi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):B.resolve())}Yi(e,n){if(vx(n))return B.resolve(null);let r=Jn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=nm(n,null,"F"),r=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,nm(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return vx(n)||s.isEqual(oe.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?B.resolve(null):(ua()<=xe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pi(n)),this.rs(e,o,n,zM(s,-1)).next(a=>a))})}ts(e,n){let r=new _t(WS(e));return n.forEach((s,i)=>{Ld(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return ua()<=xe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Pi(n)),this.Ji.getDocumentsMatchingQuery(e,n,ps.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new qe(Te),this._s=new Do(i=>Xg(i),Jg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function mj(t,e,n,r){return new pj(t,e,n,r)}async function dC(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=me();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function gj(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let g=B.resolve();return f.forEach(E=>{g=g.next(()=>d.getEntry(l,E)).next(w=>{const T=c.docVersions.get(E);Pe(T!==null),w.version.compareTo(T)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function hC(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yj(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Tt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(w,T,y){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,d)&&a.push(n.Ur.updateTargetData(i,g))});let l=Ir(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(vj(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(oe.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function vj(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ir();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function wj(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xj(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function am(t,e,n){const r=ae(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!jl(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Px(t,e,n){const r=ae(t);let s=oe.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ae(l),f=h._s.get(d);return f!==void 0?B.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(r,o,Jn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:me())).next(a=>(_j(r,dV(e),a),{documents:a,Ts:i})))}function _j(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Rx{constructor(){this.activeTargetIds=yV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ej{constructor(){this.so=new Rx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Rx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function vf(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class Ij extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=vf(),l=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw po("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Sj[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=vf();return new Promise((o,a)=>{const l=new IS;l.setWithCredentials(!0),l.listenOnce(bS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nu.NO_ERROR:const d=l.getResponseJson();X(Rt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case nu.TIMEOUT:X(Rt,`RPC '${e}' ${i} timed out`),a(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const h=l.getStatus();if(X(Rt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const E=function(T){const y=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(g.status);a(new Q(E,g.message))}else a(new Q(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(F.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{X(Rt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);X(Rt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=vf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RS(),a=PS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");X(Rt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const E=new Cj({Io:T=>{g?X(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(X(Rt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),X(Rt,`RPC '${e}' stream ${s} sending:`,T),h.send(T))},To:()=>h.close()}),w=(T,y,x)=>{T.listen(y,S=>{try{x(S)}catch(A){setTimeout(()=>{throw A},0)}})};return w(h,xa.EventType.OPEN,()=>{g||(X(Rt,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),w(h,xa.EventType.CLOSE,()=>{g||(g=!0,X(Rt,`RPC '${e}' stream ${s} transport closed`),E.So())}),w(h,xa.EventType.ERROR,T=>{g||(g=!0,po(Rt,`RPC '${e}' stream ${s} transport errored:`,T),E.So(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),w(h,xa.EventType.MESSAGE,T=>{var y;if(!g){const x=T.data[0];Pe(!!x);const S=x,A=S.error||((y=S[0])===null||y===void 0?void 0:y.error);if(A){X(Rt,`RPC '${e}' stream ${s} received error:`,A);const k=A.status;let V=function(P){const R=nt[P];if(R!==void 0)return tC(R)}(k),I=A.message;V===void 0&&(V=F.INTERNAL,I="Unknown error status: "+k+" with message "+A.message),g=!0,E.So(new Q(V,I)),h.close()}else X(Rt,`RPC '${e}' stream ${s} received:`,x),E.bo(x)}}),w(a,AS.STAT_EVENT,T=>{T.stat===Yp.PROXY?X(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Yp.NOPROXY&&X(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){return new jV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bj extends pC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=FV(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Zn(o.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=om(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=em(l)?{documents:zV(i,l)}:{query:$V(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sC(i,o.resumeToken);const c=rm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Qu(i,o.snapshotVersion.toTimestamp());const c=rm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=HV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=om(this.serializer),n.removeTarget=e,this.a_(n)}}class Aj extends pC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=UV(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=om(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,sm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,sm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Rj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cr(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{yi(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ae(l);c.L_.add(4),await Bl(c),c.q_.set("Unknown"),c.L_.delete(4),await $d(c)}(this))})}),this.q_=new Rj(r,s)}}async function $d(t){if(yi(t))for(const e of t.B_)await e(!0)}async function Bl(t){for(const e of t.B_)await e(!1)}function mC(t,e){const n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),uy(n)?cy(n):Mo(n).r_()&&ly(n,e))}function ay(t,e){const n=ae(t),r=Mo(n);n.N_.delete(e),r.r_()&&gC(n,e),n.N_.size===0&&(r.r_()?r.o_():yi(n)&&n.q_.set("Unknown"))}function ly(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).A_(e)}function gC(t,e){t.Q_.xe(e),Mo(t).R_(e)}function cy(t){t.Q_=new NV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.q_.v_()}function uy(t){return yi(t)&&!Mo(t).n_()&&t.N_.size>0}function yi(t){return ae(t).L_.size===0}function yC(t){t.Q_=void 0}async function Nj(t){t.q_.set("Online")}async function Dj(t){t.N_.forEach((e,n)=>{ly(t,e)})}async function Mj(t,e){yC(t),uy(t)?(t.q_.M_(e),cy(t)):t.q_.set("Unknown")}async function Vj(t,e,n){if(t.q_.set("Online"),e instanceof rC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yu(t,r)}else if(e instanceof iu?t.Q_.Ke(e):e instanceof nC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{const r=await hC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(Tt.EMPTY_BYTE_STRING,d.snapshotVersion)),gC(i,l);const h=new Xr(d.target,l,c,d.sequenceNumber);ly(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Yu(t,r)}}async function Yu(t,e,n){if(!jl(e))throw e;t.L_.add(1),await Bl(t),t.q_.set("Offline"),n||(n=()=>hC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await $d(t)})}function vC(t,e){return e().catch(n=>Yu(t,n,e))}async function Wd(t){const e=ae(t),n=gs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jj(e);)try{const s=await wj(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Oj(e,s)}catch(s){await Yu(e,s)}wC(e)&&xC(e)}function jj(t){return yi(t)&&t.O_.length<10}function Oj(t,e){t.O_.push(e);const n=gs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wC(t){return yi(t)&&!gs(t).n_()&&t.O_.length>0}function xC(t){gs(t).start()}async function Lj(t){gs(t).p_()}async function Fj(t){const e=gs(t);for(const n of t.O_)e.m_(n.mutations)}async function Bj(t,e,n){const r=t.O_.shift(),s=ty.from(r,e,n);await vC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wd(t)}async function Uj(t,e){e&&gs(t).V_&&await async function(r,s){if(function(o){return PV(o)&&o!==F.ABORTED}(s.code)){const i=r.O_.shift();gs(r).s_(),await vC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Wd(r)}}(t,e),wC(t)&&xC(t)}async function Nx(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=yi(n);n.L_.add(3),await Bl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await $d(n)}async function zj(t,e){const n=ae(t);e?(n.L_.delete(2),await $d(n)):e||(n.L_.add(2),await Bl(n),n.q_.set("Unknown"))}function Mo(t){return t.K_||(t.K_=function(n,r,s){const i=ae(n);return i.w_(),new bj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Nj.bind(null,t),Ro:Dj.bind(null,t),mo:Mj.bind(null,t),d_:Vj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),uy(t)?cy(t):t.q_.set("Unknown")):(await t.K_.stop(),yC(t))})),t.K_}function gs(t){return t.U_||(t.U_=function(n,r,s){const i=ae(n);return i.w_(),new Aj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Lj.bind(null,t),mo:Uj.bind(null,t),f_:Fj.bind(null,t),g_:Bj.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Wd(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new dy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),jl(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=_a(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new no(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new no;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.W_=new qe(te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wo{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wo(e,n,no.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Wj{constructor(){this.queries=Mx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=Mx(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}}function Mx(){return new Do(t=>$S(t),Od)}async function fy(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new $j,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=hy(o,`Initialization of query '${Pi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&my(n)}async function py(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Hj(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&my(n)}function qj(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function my(t){t.Y_.forEach(e=>{e.next()})}var lm,Vx;(Vx=lm||(lm={})).ea="default",Vx.Cache="cache";class gy{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.key=e}}class EC{constructor(e){this.key=e}}class Kj{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=WS(e),this.Ra=new no(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Dx,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),g=Ld(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;f&&g?f.data.isEqual(g.data)?E!==w&&(r.track({type:3,doc:g}),T=!0):this.ga(f,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),T=!0):f&&!g&&(r.track({type:1,doc:f}),T=!0,(l||c)&&(a=!0)),T&&(g?(o=o.add(g),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,E){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return w(g)-w(E)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new wo(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new EC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _C(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Gj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qj{constructor(e){this.key=e,this.va=!1}}class Yj{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Do(a=>$S(a),Od),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(te.comparator),this.Na=new Map,this.La=new sy,this.Ba={},this.ka=new Map,this.qa=vo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Xj(t,e,n=!0){const r=AC(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await TC(r,e,n,!0),s}async function Jj(t,e){const n=AC(t);await TC(n,e,!0,!1)}async function TC(t,e,n,r){const s=await xj(t.localStore,Jn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Zj(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&mC(t.remoteStore,s),a}async function Zj(t,e,n,r,s){t.Ka=(h,f,g)=>async function(w,T,y,x){let S=T.view.ma(y);S.ns&&(S=await Px(w.localStore,T.query,!1).then(({documents:I})=>T.view.ma(I,S)));const A=x&&x.targetChanges.get(T.targetId),k=x&&x.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(S,w.isPrimaryClient,A,k);return Ox(w,T.targetId,V.wa),V.snapshot}(t,h,f,g);const i=await Px(t.localStore,e,!0),o=new Kj(e,i.Ts),a=o.ma(i.documents),l=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Ox(t,n,c.wa);const d=new Gj(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function eO(t,e,n){const r=ae(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Od(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await am(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ay(r.remoteStore,s.targetId),cm(r,s.targetId)}).catch(Vl)):(cm(r,s.targetId),await am(r.localStore,s.targetId,!0))}async function tO(t,e){const n=ae(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))}async function nO(t,e,n){const r=cO(t);try{const s=await function(o,a){const l=ae(o),c=de.now(),d=a.reduce((g,E)=>g.add(E.key),me());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Ir(),w=me();return l.cs.getEntries(g,d).next(T=>{E=T,E.forEach((y,x)=>{x.isValidDocument()||(w=w.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(T=>{h=T;const y=[];for(const x of a){const S=SV(x,h.get(x.key).overlayedDocument);S!=null&&y.push(new Is(x.key,S,VS(S.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,y,a)}).next(T=>{f=T;const y=T.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(g,T.batchId,y)})}).then(()=>({batchId:f.batchId,changes:qS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new qe(Te)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ul(r,s.changes),await Wd(r.remoteStore)}catch(s){const i=hy(s,"Failed to persist write");n.reject(i)}}async function SC(t,e){const n=ae(t);try{const r=await yj(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Pe(o.va):s.removedDocuments.size>0&&(Pe(o.va),o.va=!1))}),await Ul(n,r,e)}catch(r){await Vl(r)}}function jx(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&my(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rO(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new qe(te.comparator);o=o.insert(i,Mt.newNoDocument(i,oe.min()));const a=me().add(i),l=new Ud(oe.min(),new Map,new qe(Te),o,a);await SC(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),yy(r)}else await am(r.localStore,e,!1).then(()=>cm(r,e,n)).catch(Vl)}async function sO(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await gj(n.localStore,e);IC(n,r,null),CC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ul(n,s)}catch(s){await Vl(s)}}async function iO(t,e,n){const r=ae(t);try{const s=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Pe(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);IC(r,e,n),CC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ul(r,s)}catch(s){await Vl(s)}}function CC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function IC(t,e,n){const r=ae(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||bC(t,r)})}function bC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ay(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),yy(t))}function Ox(t,e,n){for(const r of n)r instanceof _C?(t.La.addReference(r.key,e),oO(t,r)):r instanceof EC?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||bC(t,r.key)):se()}function oO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),yy(t))}function yy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new te(Le.fromString(e)),r=t.qa.next();t.Na.set(r,new Qj(n)),t.Oa=t.Oa.insert(n,r),mC(t.remoteStore,new Xr(Jn(jd(n.path)),r,"TargetPurposeLimboResolution",Kg.oe))}}async function Ul(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=oy.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,f=>B.forEach(f.$i,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>B.forEach(f.Ui,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!jl(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=d.os.get(f),E=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(f,w)}}}(r.localStore,i))}async function aO(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await dC(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Q(F.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ul(n,r.hs)}}function lO(t,e){const n=ae(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let s=me();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function AC(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rO.bind(null,e),e.Ca.d_=Hj.bind(null,e.eventManager),e.Ca.$a=qj.bind(null,e.eventManager),e}function cO(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iO.bind(null,e),e}class Xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return mj(this.persistence,new fj,e.initialUser,this.serializer)}Ga(e){return new uj(iy.Zr,this.serializer)}Wa(e){return new Ej}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xu.provider={build:()=>new Xu};class um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aO.bind(null,this.syncEngine),await zj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wj}()}createDatastore(e){const n=zd(e.databaseInfo.databaseId),r=function(i){return new Ij(i)}(e.databaseInfo);return function(i,o,a,l){return new Pj(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new kj(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jx(this.syncEngine,n,0),function(){return kx.D()?new kx:new Tj}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new Yj(s,i,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);X("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Bl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nt.UNAUTHENTICATED,this.clientId=NS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dO(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Nx(e.remoteStore,s)),t._onlineComponents=e}async function dO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await xf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await xf(t,new Xu)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await xf(t,new Xu);return t._offlineComponents}async function PC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Lx(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Lx(t,new um))),t._onlineComponents}function hO(t){return PC(t).then(e=>e.syncEngine)}async function Ju(t){const e=await PC(t),n=e.eventManager;return n.onListen=Xj.bind(null,e.syncEngine),n.onUnlisten=eO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tO.bind(null,e.syncEngine),n}function fO(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new vy({next:f=>{d.Za(),o.enqueueAndForget(()=>py(i,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new Q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new Q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new gy(jd(a.path),d,{includeMetadataChanges:!0,_a:!0});return fy(i,h)}(await Ju(t),t.asyncQueue,e,n,r)),r.promise}function pO(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new vy({next:f=>{d.Za(),o.enqueueAndForget(()=>py(i,h)),f.fromCache&&l.source==="server"?c.reject(new Q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new gy(a,d,{includeMetadataChanges:!0,_a:!0});return fy(i,h)}(await Ju(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mO(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bx(t){if(!te.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ux(t){if(te.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DM;switch(r.type){case"firstParty":return new OM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fx.get(n);r&&(X("ComponentProvider","Removing Datastore"),Fx.delete(n),r.terminate())}(this),Promise.resolve()}}function gO(t,e,n,r={}){var s;const i=(t=Jt(t,qd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nt.MOCK_USER;else{a=pD(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nt(c)}t._authCredentials=new MM(new kS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vi(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class cs extends vi{constructor(e,n,r){super(e,n,jd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new te(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Oe(t,e,...n){if(t=nr(t),kC("collection","path",e),t instanceof qd){const r=Le.fromString(e,...n);return Ux(r),new cs(t,null,r)}{if(!(t instanceof jt||t instanceof cs))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Ux(r),new cs(t.firestore,null,r)}}function at(t,e,...n){if(t=nr(t),arguments.length===1&&(e=NS.newId()),kC("doc","path",e),t instanceof qd){const r=Le.fromString(e,...n);return Bx(r),new jt(t,null,new te(r))}{if(!(t instanceof jt||t instanceof cs))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Bx(r),new jt(t.firestore,t instanceof cs?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fC(this,"async_queue_retry"),this.Vu=()=>{const r=wf();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new yr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!jl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=dy.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Wx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class br extends qd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $x,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function yO(t,e){const n=typeof t=="object"?t:TM(),r=typeof t=="string"?t:"(default)",s=wM(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=hD("firestore");i&&gO(s,...i)}return s}function Kd(t){if(t._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vO(t),t._firestoreClient}function vO(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new YM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new uO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(Tt.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=/^__.*__$/;class xO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}class NC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Ey{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DC(this.Cu)&&wO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _O{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zd(e)}Qu(e,n,r,s=!1){return new Ey({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(t){const e=t._freezeSettings(),n=zd(t._databaseId);return new _O(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MC(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Ty("Data must be an object, but it was:",o,r);const a=VC(r,o);let l,c;if(i.merge)l=new an(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=dm(e,h,n);if(!o.contains(f))throw new Q(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);OC(d,f)||d.push(f)}l=new an(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new xO(new Kt(a),l,c)}class Yd extends wy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function EO(t,e,n,r){const s=t.Qu(1,e,n);Ty("Data must be an object, but it was:",s,r);const i=[],o=Kt.empty();gi(r,(l,c)=>{const d=Sy(e,l,n);c=nr(c);const h=s.Nu(d);if(c instanceof Yd)i.push(d);else{const f=zl(c,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new an(i);return new NC(o,a,s.fieldTransforms)}function TO(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[dm(e,r,n)],l=[s];if(i.length%2!=0)throw new Q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(dm(e,i[f])),l.push(i[f+1]);const c=[],d=Kt.empty();for(let f=a.length-1;f>=0;--f)if(!OC(c,a[f])){const g=a[f];let E=l[f];E=nr(E);const w=o.Nu(g);if(E instanceof Yd)c.push(g);else{const T=zl(E,w);T!=null&&(c.push(g),d.set(g,T))}}const h=new an(c);return new NC(d,h,o.fieldTransforms)}function SO(t,e,n,r=!1){return zl(n,t.Qu(r?4:3,e))}function zl(t,e){if(jC(t=nr(t)))return Ty("Unsupported field value:",e,t),VC(t,e);if(t instanceof wy)return function(r,s){if(!DC(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=zl(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=nr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=de.fromDate(r);return{timestampValue:Qu(s.serializer,i)}}if(r instanceof de){const i=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qu(s.serializer,i)}}if(r instanceof xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:sC(s.serializer,r._byteString)};if(r instanceof jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ry(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _y)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Zg(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Hd(r)}`)}(t,e)}function VC(t,e){const n={};return DS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(t,(r,s)=>{const i=zl(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function jC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof de||t instanceof xy||t instanceof xo||t instanceof jt||t instanceof wy||t instanceof _y)}function Ty(t,e,n){if(!jC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Hd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function dm(t,e,n){if((e=nr(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return Sy(t,e);throw Zu("Field path arguments must be of type string or ",t,!1,void 0,n)}const CO=new RegExp("[~\\*/\\[\\]]");function Sy(t,e,n){if(e.search(CO)>=0)throw Zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw Zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q(F.INVALID_ARGUMENT,a+t+l)}function OC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IO extends LC{data(){return super.data()}}function Cy(t,e){return typeof e=="string"?Sy(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class bO extends Iy{}function ii(t,e,...n){let r=[];e instanceof Iy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof by).length,a=i.filter(l=>l instanceof Xd).length;if(o>1||o>0&&a>0)throw new Q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Xd extends bO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xd(e,n,r)}_apply(e){const n=this._parse(e);return BC(e._query,n),new vi(e.firestore,e.converter,tm(e._query,n))}_parse(e){const n=Qd(e.firestore);return function(i,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qx(h,d);const g=[];for(const E of h)g.push(Hx(l,i,E));f={arrayValue:{values:g}}}else f=Hx(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qx(h,d),f=SO(a,o,h,d==="in"||d==="not-in");return st.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oi(t,e,n){const r=e,s=Cy("where",t);return Xd._create(s,r,n)}class by extends Iy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new by(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)BC(o,l),o=tm(o,l)}(e._query,n),new vi(e.firestore,e.converter,tm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hx(t,e,n){if(typeof(n=nr(n))=="string"){if(n==="")throw new Q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zS(e)&&n.indexOf("/")!==-1)throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!te.isDocumentKey(r))throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hx(t,new te(r))}if(n instanceof jt)return hx(t,n._key);throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function qx(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AO{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>et(o.doubleValue));return new _y(i)}convertGeoPoint(e){return new xy(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){const n=ms(e);return new de(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Pe(uC(r));const s=new ml(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Cr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zC extends LC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ou extends zC{data(e={}){return super.data(e)}}class $C{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ta(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ou(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ou(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ta(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ou(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ta(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:PO(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){t=Jt(t,jt);const e=Jt(t.firestore,br);return fO(Kd(e),t._key).then(n=>HC(e,t,n))}class Ay extends AO{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Tn(t){t=Jt(t,vi);const e=Jt(t.firestore,br),n=Kd(e),r=new Ay(e);return FC(t._query),pO(n,t._query).then(s=>new $C(e,r,t,s))}function RO(t,e,n){t=Jt(t,jt);const r=Jt(t.firestore,br),s=UC(t.converter,e);return Zd(r,[MC(Qd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Cn.none())])}function Vn(t,e,n,...r){t=Jt(t,jt);const s=Jt(t.firestore,br),i=Qd(s);let o;return o=typeof(e=nr(e))=="string"||e instanceof Gd?TO(i,"updateDoc",t._key,e,n,r):EO(i,"updateDoc",t._key,e),Zd(s,[o.toMutation(t._key,Cn.exists(!0))])}function Jd(t){return Zd(Jt(t.firestore,br),[new ey(t._key,Cn.none())])}function yn(t,e){const n=Jt(t.firestore,br),r=at(t),s=UC(t.converter,e);return Zd(n,[MC(Qd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function WC(t,...e){var n,r,s;t=nr(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Wx(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Wx(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,d;if(t instanceof jt)c=Jt(t.firestore,br),d=jd(t._key.path),l={next:h=>{e[o]&&e[o](HC(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Jt(t,vi);c=Jt(h.firestore,br),d=h._query;const f=new Ay(c);l={next:g=>{e[o]&&e[o](new $C(c,f,h,g))},error:e[o+1],complete:e[o+2]},FC(t._query)}return function(f,g,E,w){const T=new vy(w),y=new gy(g,T,E);return f.asyncQueue.enqueueAndForget(async()=>fy(await Ju(f),y)),()=>{T.Za(),f.asyncQueue.enqueueAndForget(async()=>py(await Ju(f),y))}}(Kd(c),d,a,l)}function Zd(t,e){return function(r,s){const i=new yr;return r.asyncQueue.enqueueAndForget(async()=>nO(await hO(r),s,i)),i.promise}(Kd(t),e)}function HC(t,e,n){const r=n.docs.get(e._key),s=new Ay(t);return new zC(t,s,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){No=s})(EM),$u(new dl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new br(new VM(r.getProvider("auth-internal")),new FM(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),to(ax,"4.7.3",e),to(ax,"4.7.3","esm2017")})();var kO="firebase",NO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to(kO,NO,"app");const DO={apiKey:"AIzaSyDzLyTPK-kvmPNKKFufD0CTZHTI6NWq3QE",authDomain:"aktwgs-65f34.firebaseapp.com",projectId:"aktwgs-65f34",storageBucket:"aktwgs-65f34.firebasestorage.app",messagingSenderId:"762157998257",appId:"1:762157998257:web:508f6bc6a63e2161ce4290"},MO=ES(DO),le=yO(MO);function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function VO(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function eh(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var y;const{scope:f,children:g,...E}=h,w=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,T=v.useMemo(()=>E,Object.values(E));return p.jsx(w.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(h,f){var w;const g=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,E=v.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,jO(s,...e)]}function jO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function OO(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:g,...E}=h,w=(f==null?void 0:f[t][l])||a,T=v.useMemo(()=>E,Object.values(E));return p.jsx(w.Provider,{value:T,children:g})}function d(h,f){const g=(f==null?void 0:f[t][l])||a,E=v.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,LO(s,...e)]}function LO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function FO(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function qC(...t){return e=>t.forEach(n=>FO(n,e))}function Ke(...t){return v.useCallback(qC(...t),t)}var ai=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(UO);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return p.jsx(hm,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return p.jsx(hm,{...r,ref:e,children:n})});ai.displayName="Slot";var hm=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=$O(n);return v.cloneElement(n,{...zO(r,n.props),ref:e?qC(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});hm.displayName="SlotClone";var BO=({children:t})=>p.jsx(p.Fragment,{children:t});function UO(t){return v.isValidElement(t)&&t.type===BO}function zO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $O(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function KC(t){const e=t+"CollectionProvider",[n,r]=OO(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:w}=g,T=Ur.useRef(null),y=Ur.useRef(new Map).current;return p.jsx(s,{scope:E,itemMap:y,collectionRef:T,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Ur.forwardRef((g,E)=>{const{scope:w,children:T}=g,y=i(a,w),x=Ke(E,y.collectionRef);return p.jsx(ai,{ref:x,children:T})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=Ur.forwardRef((g,E)=>{const{scope:w,children:T,...y}=g,x=Ur.useRef(null),S=Ke(E,x),A=i(c,w);return Ur.useEffect(()=>(A.itemMap.set(x,{ref:x,...y}),()=>void A.itemMap.delete(x))),p.jsx(ai,{[d]:"",ref:S,children:T})});h.displayName=c;function f(g){const E=i(t+"CollectionConsumer",g);return Ur.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const y=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((A,k)=>y.indexOf(A.ref.current)-y.indexOf(k.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function WO(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:g,...E}=h,w=(f==null?void 0:f[t][l])||a,T=v.useMemo(()=>E,Object.values(E));return p.jsx(w.Provider,{value:T,children:g})}function d(h,f){const g=(f==null?void 0:f[t][l])||a,E=v.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,HO(s,...e)]}function HO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var zt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},qO=eE.useId||(()=>{}),KO=0;function us(t){const[e,n]=v.useState(qO());return zt(()=>{t||n(r=>r??String(KO++))},[t]),t||(e?`radix-${e}`:"")}var GO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],we=GO.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ai:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function QO(t,e){t&&Po.flushSync(()=>t.dispatchEvent(e))}function sr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function _o({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=YO({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=sr(n),l=v.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function YO({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=sr(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var XO=v.createContext(void 0);function Py(t){const e=v.useContext(XO);return t||e||"ltr"}var _f="rovingFocusGroup.onEntryFocus",JO={bubbles:!1,cancelable:!0},th="RovingFocusGroup",[fm,GC,ZO]=KC(th),[e4,QC]=WO(th,[ZO]),[t4,n4]=e4(th),YC=v.forwardRef((t,e)=>p.jsx(fm.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(fm.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(r4,{...t,ref:e})})}));YC.displayName=th;var r4=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=v.useRef(null),g=Ke(e,f),E=Py(i),[w=null,T]=_o({prop:o,defaultProp:a,onChange:l}),[y,x]=v.useState(!1),S=sr(c),A=GC(n),k=v.useRef(!1),[V,I]=v.useState(0);return v.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(_f,S),()=>C.removeEventListener(_f,S)},[S]),p.jsx(t4,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:w,onItemFocus:v.useCallback(C=>T(C),[T]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>I(C=>C+1),[]),onFocusableItemRemove:v.useCallback(()=>I(C=>C-1),[]),children:p.jsx(we.div,{tabIndex:y||V===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{k.current=!0}),onFocus:pe(t.onFocus,C=>{const P=!k.current;if(C.target===C.currentTarget&&P&&!y){const R=new CustomEvent(_f,JO);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=A().filter(J=>J.focusable),M=D.find(J=>J.active),N=D.find(J=>J.id===w),ue=[M,N,...D].filter(Boolean).map(J=>J.ref.current);ZC(ue,d)}}k.current=!1}),onBlur:pe(t.onBlur,()=>x(!1))})})}),XC="RovingFocusGroupItem",JC=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=us(),l=i||a,c=n4(XC,n),d=c.currentTabStopId===l,h=GC(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=c;return v.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),p.jsx(fm.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:p.jsx(we.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,E=>{r?c.onItemFocus(l):E.preventDefault()}),onFocus:pe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){c.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const w=o4(E,c.orientation,c.dir);if(w!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let y=h().filter(x=>x.focusable).map(x=>x.ref.current);if(w==="last")y.reverse();else if(w==="prev"||w==="next"){w==="prev"&&y.reverse();const x=y.indexOf(E.currentTarget);y=c.loop?a4(y,x+1):y.slice(x+1)}setTimeout(()=>ZC(y))}})})})});JC.displayName=XC;var s4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function o4(t,e,n){const r=i4(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return s4[r]}function ZC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function a4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var l4=YC,c4=JC;function u4(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Vo=t=>{const{present:e,children:n}=t,r=d4(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Ke(r.ref,h4(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Vo.displayName="Presence";function d4(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=u4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Dc(r.current);i.current=a==="mounted"?c:"none"},[a]),zt(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,g=Dc(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),zt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const w=Dc(r.current).includes(g.animationName);if(g.target===e&&w&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=g=>{g.target===e&&(i.current=Dc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Dc(t){return(t==null?void 0:t.animationName)||"none"}function h4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ry="Tabs",[f4,N$]=eh(Ry,[QC]),eI=QC(),[p4,ky]=f4(Ry),tI=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Py(a),[h,f]=_o({prop:r,onChange:s,defaultProp:i});return p.jsx(p4,{scope:n,baseId:us(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:p.jsx(we.div,{dir:d,"data-orientation":o,...c,ref:e})})});tI.displayName=Ry;var nI="TabsList",rI=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=ky(nI,n),o=eI(n);return p.jsx(l4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});rI.displayName=nI;var sI="TabsTrigger",iI=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=ky(sI,n),a=eI(n),l=lI(o.baseId,r),c=cI(o.baseId,r),d=r===o.value;return p.jsx(c4,{asChild:!0,...a,focusable:!s,active:d,children:p.jsx(we.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:pe(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});iI.displayName=sI;var oI="TabsContent",aI=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=ky(oI,n),l=lI(a.baseId,r),c=cI(a.baseId,r),d=r===a.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(Vo,{present:s||d,children:({present:f})=>p.jsx(we.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});aI.displayName=oI;function lI(t,e){return`${t}-trigger-${e}`}function cI(t,e){return`${t}-content-${e}`}var m4=tI,uI=rI,dI=iI,hI=aI;function fI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function g4(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fI(t))&&(r&&(r+=" "),r+=e);return r}const Ny="-",y4=t=>{const e=w4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ny);return a[0]===""&&a.length!==1&&a.shift(),pI(a,e)||v4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},pI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?pI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ny);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Gx=/^\[(.+)\]$/,v4=t=>{if(Gx.test(t)){const e=Gx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},w4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _4(Object.entries(t.classGroups),n).forEach(([i,o])=>{pm(o,r,i,e)}),r},pm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Qx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(x4(s)){pm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{pm(o,Qx(e,i),n,r)})})},Qx=(t,e)=>{let n=t;return e.split(Ny).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},x4=t=>t.isThemeGetter,_4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,E4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},mI="!",T4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let T=0;T<a.length;T++){let y=a[T];if(c===0){if(y===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(d,T)),d=T+i;continue}if(y==="/"){h=T;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(d),g=f.startsWith(mI),E=g?f.substring(1):f,w=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},S4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},C4=t=>({cache:E4(t.cacheSize),parseClassName:T4(t),...y4(t)}),I4=/\s+/,b4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(I4);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(c);let E=!!g,w=r(E?f.substring(0,g):f);if(!w){if(!E){a=c+(a.length>0?" "+a:a);continue}if(w=r(f),!w){a=c+(a.length>0?" "+a:a);continue}E=!1}const T=S4(d).join(":"),y=h?T+mI:T,x=y+w;if(i.includes(x))continue;i.push(x);const S=s(w,E);for(let A=0;A<S.length;++A){const k=S[A];i.push(y+k)}a=c+(a.length>0?" "+a:a)}return a};function A4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gI(e))&&(r&&(r+=" "),r+=n);return r}const gI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gI(t[r]))&&(n&&(n+=" "),n+=e);return n};function P4(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=C4(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=b4(l,n);return s(l,d),d}return function(){return i(A4.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yI=/^\[(?:([a-z-]+):)?(.+)\]$/i,R4=/^\d+\/\d+$/,k4=new Set(["px","full","screen"]),N4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,V4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dr=t=>ro(t)||k4.has(t)||R4.test(t),Lr=t=>jo(t,"length",W4),ro=t=>!!t&&!Number.isNaN(Number(t)),Ef=t=>jo(t,"number",ro),da=t=>!!t&&Number.isInteger(Number(t)),O4=t=>t.endsWith("%")&&ro(t.slice(0,-1)),ce=t=>yI.test(t),Fr=t=>N4.test(t),L4=new Set(["length","size","percentage"]),F4=t=>jo(t,L4,vI),B4=t=>jo(t,"position",vI),U4=new Set(["image","url"]),z4=t=>jo(t,U4,q4),$4=t=>jo(t,"",H4),ha=()=>!0,jo=(t,e,n)=>{const r=yI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},W4=t=>D4.test(t)&&!M4.test(t),vI=()=>!1,H4=t=>V4.test(t),q4=t=>j4.test(t),K4=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),c=Ve("grayscale"),d=Ve("hueRotate"),h=Ve("invert"),f=Ve("gap"),g=Ve("gradientColorStops"),E=Ve("gradientColorStopPositions"),w=Ve("inset"),T=Ve("margin"),y=Ve("opacity"),x=Ve("padding"),S=Ve("saturate"),A=Ve("scale"),k=Ve("sepia"),V=Ve("skew"),I=Ve("space"),C=Ve("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ce,e],M=()=>[ce,e],N=()=>["",dr,Lr],Z=()=>["auto",ro,ce],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ce],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[ro,ce];return{cacheSize:500,separator:":",theme:{colors:[ha],spacing:[dr,Lr],blur:["none","",Fr,ce],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Fr,ce],borderSpacing:M(),borderWidth:N(),contrast:ie(),grayscale:z(),hueRotate:ie(),invert:z(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[O4,Lr],inset:D(),margin:D(),opacity:ie(),padding:M(),saturate:ie(),scale:ie(),sepia:z(),skew:ie(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Fr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",da,ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",da,ce]}],"grid-cols":[{"grid-cols":[ha]}],"col-start-end":[{col:["auto",{span:["full",da,ce]},ce]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[ha]}],"row-start-end":[{row:["auto",{span:[da,ce]},ce]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Fr]},Fr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fr,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ef]}],"font-family":[{font:[ha]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",ro,Ef]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dr,Lr]}],"underline-offset":[{"underline-offset":["auto",dr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),B4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",F4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},z4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[dr,ce]}],"outline-w":[{outline:[dr,Lr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[dr,Lr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fr,$4]}],"shadow-color":[{shadow:[ha]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Fr,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[da,ce]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[dr,Lr,Ef]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},G4=P4(K4);function Re(...t){return G4(g4(t))}const Dy=v.createContext({});function My(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const nh=v.createContext(null),Vy=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Q4 extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y4({children:t,isPresent:e}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=v.useContext(Vy);return v.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),p.jsx(Q4,{isPresent:e,childRef:r,sizeRef:s,children:v.cloneElement(t,{ref:r})})}const X4=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=My(J4),l=v.useId(),c=v.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=v.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return v.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(Y4,{isPresent:n,children:t})),p.jsx(nh.Provider,{value:d,children:t})};function J4(){return new Map}function wI(t=!0){const e=v.useContext(nh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=v.useId();v.useEffect(()=>{t&&s(i)},[t]);const o=v.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Mc=t=>t.key||"";function Yx(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const jy=typeof window<"u",xI=jy?v.useLayoutEffect:v.useEffect,_I=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=wI(o),c=v.useMemo(()=>Yx(t),[t]),d=o&&!a?[]:c.map(Mc),h=v.useRef(!0),f=v.useRef(c),g=My(()=>new Map),[E,w]=v.useState(c),[T,y]=v.useState(c);xI(()=>{h.current=!1,f.current=c;for(let A=0;A<T.length;A++){const k=Mc(T[A]);d.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[T,d.length,d.join("-")]);const x=[];if(c!==E){let A=[...c];for(let k=0;k<T.length;k++){const V=T[k],I=Mc(V);d.includes(I)||(A.splice(k,0,V),x.push(V))}i==="wait"&&x.length&&(A=x),y(Yx(A)),w(c);return}const{forceRender:S}=v.useContext(Dy);return p.jsx(p.Fragment,{children:T.map(A=>{const k=Mc(A),V=o&&!a?!1:c===T||d.includes(k),I=()=>{if(g.has(k))g.set(k,!0);else return;let C=!0;g.forEach(P=>{P||(C=!1)}),C&&(S==null||S(),y(f.current),o&&(l==null||l()),r&&r())};return p.jsx(X4,{isPresent:V,initial:!h.current||n?void 0:!1,custom:V?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:V?void 0:I,children:A},k)})})},cn=t=>t;let mm=cn;function Oy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Eo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},vr=t=>t*1e3,wr=t=>t/1e3,Z4={skipAnimations:!1,useManualTiming:!1};function eL(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const g=h&&r?e:n;return d&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const Vc=["read","resolveKeyframes","update","preRender","render","postRender"],tL=40;function EI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Vc.reduce((y,x)=>(y[x]=eL(i),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,g=()=>{const y=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,tL),1),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},E=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Vc.reduce((y,x)=>{const S=o[x];return y[x]=(A,k=!1,V=!1)=>(n||E(),S.schedule(A,k,V)),y},{}),cancel:y=>{for(let x=0;x<Vc.length;x++)o[Vc[x]].cancel(y)},state:s,steps:o}}const{schedule:Be,cancel:ys,state:yt,steps:Tf}=EI(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0),TI=v.createContext({strict:!1}),Xx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},To={};for(const t in Xx)To[t]={isEnabled:e=>Xx[t].some(n=>!!e[n])};function nL(t){for(const e in t)To[e]={...To[e],...t[e]}}const rL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rL.has(t)}let SI=t=>!ed(t);function sL(t){t&&(SI=e=>e.startsWith("on")?!ed(e):t(e))}try{sL(require("@emotion/is-prop-valid").default)}catch{}function iL(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(SI(s)||n===!0&&ed(s)||!e&&!ed(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function oL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const rh=v.createContext({});function wl(t){return typeof t=="string"||Array.isArray(t)}function sh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fy=["initial",...Ly];function ih(t){return sh(t.animate)||Fy.some(e=>wl(t[e]))}function CI(t){return!!(ih(t)||t.variants)}function aL(t,e){if(ih(t)){const{initial:n,animate:r}=t;return{initial:n===!1||wl(n)?n:void 0,animate:wl(r)?r:void 0}}return t.inherit!==!1?e:{}}function lL(t){const{initial:e,animate:n}=aL(t,v.useContext(rh));return v.useMemo(()=>({initial:e,animate:n}),[Jx(e),Jx(n)])}function Jx(t){return Array.isArray(t)?t.join(" "):t}const cL=Symbol.for("motionComponentSymbol");function Wi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function uL(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wi(n)&&(n.current=r))},[e])}const By=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dL="framerAppearId",II="data-"+By(dL),{schedule:Uy,cancel:D$}=EI(queueMicrotask,!1),bI=v.createContext({});function hL(t,e,n,r,s){var i,o;const{visualElement:a}=v.useContext(rh),l=v.useContext(TI),c=v.useContext(nh),d=v.useContext(Vy).reducedMotion,h=v.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,g=v.useContext(bI);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&fL(h.current,n,s,g);const E=v.useRef(!1);v.useInsertionEffect(()=>{f&&E.current&&f.update(n,c)});const w=n[II],T=v.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return xI(()=>{f&&(E.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Uy.render(f.render),T.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!T.current&&f.animationState&&f.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,w)}),T.current=!1))}),f}function fL(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Wi(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function AI(t){if(t)return t.options.allowProjection!==!1?t.projection:AI(t.parent)}function pL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&nL(t);function a(c,d){let h;const f={...v.useContext(Vy),...c,layoutId:mL(c)},{isStatic:g}=f,E=lL(c),w=r(c,g);if(!g&&jy){gL();const T=yL(f);h=T.MeasureLayout,E.visualElement=hL(s,w,f,e,T.ProjectionNode)}return p.jsxs(rh.Provider,{value:E,children:[h&&E.visualElement?p.jsx(h,{visualElement:E.visualElement,...f}):null,n(s,c,uL(w,E.visualElement,d),w,g,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=v.forwardRef(a);return l[cL]=s,l}function mL({layoutId:t}){const e=v.useContext(Dy).id;return e&&t!==void 0?e+"-"+t:t}function gL(t,e){v.useContext(TI).strict}function yL(t){const{drag:e,layout:n}=To;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const vL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zy(t){return typeof t!="string"||t.includes("-")?!1:!!(vL.indexOf(t)>-1||/[A-Z]/u.test(t))}function Zx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $y(t,e,n,r){if(typeof e=="function"){const[s,i]=Zx(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Zx(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const gm=t=>Array.isArray(t),wL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xL=t=>gm(t)?t[t.length-1]||0:t,Vt=t=>!!(t&&t.getVelocity);function au(t){const e=Vt(t)?t.get():t;return wL(e)?e.toValue():e}function _L({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:EL(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const PI=t=>(e,n)=>{const r=v.useContext(rh),s=v.useContext(nh),i=()=>_L(t,e,r,s);return n?i():My(i)};function EL(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=au(i[f]);let{initial:o,animate:a}=t;const l=ih(t),c=CI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!sh(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const E=$y(t,f[g]);if(E){const{transitionEnd:w,transition:T,...y}=E;for(const x in y){let S=y[x];if(Array.isArray(S)){const A=d?S.length-1:0;S=S[A]}S!==null&&(s[x]=S)}for(const x in w)s[x]=w[x]}}}return s}const Oo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wi=new Set(Oo),RI=t=>e=>typeof e=="string"&&e.startsWith(t),kI=RI("--"),TL=RI("var(--"),Wy=t=>TL(t)?SL.test(t.split("/*")[0].trim()):!1,SL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,NI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ar=(t,e,n)=>n>e?e:n<t?t:n,Lo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xl={...Lo,transform:t=>Ar(0,1,t)},jc={...Lo,default:1},$l=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zr=$l("deg"),er=$l("%"),ne=$l("px"),CL=$l("vh"),IL=$l("vw"),e1={...er,parse:t=>er.parse(t)/100,transform:t=>er.transform(t*100)},bL={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},AL={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:jc,scaleX:jc,scaleY:jc,scaleZ:jc,skew:zr,skewX:zr,skewY:zr,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:xl,originX:e1,originY:e1,originZ:ne},t1={...Lo,transform:Math.round},Hy={...bL,...AL,zIndex:t1,size:ne,fillOpacity:xl,strokeOpacity:xl,numOctaves:t1},PL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RL=Oo.length;function kL(t,e,n){let r="",s=!0;for(let i=0;i<RL;i++){const o=Oo[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=NI(a,Hy[o]);if(!l){s=!1;const d=PL[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function qy(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(wi.has(l)){o=!0;continue}else if(kI(l)){s[l]=c;continue}else{const d=NI(c,Hy[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=kL(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const NL={offset:"stroke-dashoffset",array:"stroke-dasharray"},DL={offset:"strokeDashoffset",array:"strokeDasharray"};function ML(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?NL:DL;t[i.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[i.array]=`${o} ${a}`}function n1(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function VL(t,e,n){const r=n1(e,t.x,t.width),s=n1(n,t.y,t.height);return`${r} ${s}`}function Ky(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(qy(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:E}=t;f.transform&&(E&&(g.transform=f.transform),delete f.transform),E&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=VL(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&ML(f,o,a,l,!1)}const Gy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),DI=()=>({...Gy(),attrs:{}}),Qy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const VI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jI(t,e,n,r){MI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(VI.has(s)?s:By(s),e.attrs[s])}const td={};function jL(t){Object.assign(td,t)}function OI(t,{layout:e,layoutId:n}){return wi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!td[t]||t==="opacity")}function Yy(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Vt(s[o])||e.style&&Vt(e.style[o])||OI(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function LI(t,e,n){const r=Yy(t,e,n);for(const s in t)if(Vt(t[s])||Vt(e[s])){const i=Oo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function OL(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const r1=["x","y","width","height","cx","cy","r"],LL={useVisualState:PI({scrapeMotionValuesFromProps:LI,createRenderState:DI,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(wi.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<r1.length;a++){const l=r1[a];t[l]!==e[l]&&(o=!0)}o&&Be.read(()=>{OL(n,r),Be.render(()=>{Ky(r,s,Qy(n.tagName),t.transformTemplate),jI(n,r)})})}})},FL={useVisualState:PI({scrapeMotionValuesFromProps:Yy,createRenderState:Gy})};function FI(t,e,n){for(const r in e)!Vt(e[r])&&!OI(r,n)&&(t[r]=e[r])}function BL({transformTemplate:t},e){return v.useMemo(()=>{const n=Gy();return qy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function UL(t,e){const n=t.style||{},r={};return FI(r,n,t),Object.assign(r,BL(t,e)),r}function zL(t,e){const n={},r=UL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function $L(t,e,n,r){const s=v.useMemo(()=>{const i=DI();return Ky(i,e,Qy(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};FI(i,t.style,t),s.style={...i,...s.style}}return s}function WL(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(zy(n)?$L:zL)(r,i,o,n),c=iL(r,typeof n=="string",t),d=n!==v.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=v.useMemo(()=>Vt(h)?h.get():h,[h]);return v.createElement(n,{...d,children:f})}}function HL(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...zy(r)?LL:FL,preloadedFeatures:t,useRender:WL(s),createVisualElement:e,Component:r};return pL(o)}}function BI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function oh(t,e,n){const r=t.getProps();return $y(r,e,n!==void 0?n:r.custom,t)}const qL=Oy(()=>window.ScrollTimeline!==void 0);class KL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(qL()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GL extends KL{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Xy(t,e){return t?t[e]||t.default||t:void 0}const ym=2e4;function UI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ym;)e+=n,r=t.next(e);return e>=ym?1/0:e}function Jy(t){return typeof t=="function"}function s1(t,e){t.timeline=e,t.onfinish=null}const Zy=t=>Array.isArray(t)&&typeof t[0]=="number",QL={linearEasing:void 0};function YL(t,e){const n=Oy(t);return()=>{var r;return(r=QL[e])!==null&&r!==void 0?r:n()}}const nd=YL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Eo(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function $I(t){return!!(typeof t=="function"&&nd()||!t||typeof t=="string"&&(t in vm||nd())||Zy(t)||Array.isArray(t)&&t.every($I))}const Sa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sa([0,.65,.55,1]),circOut:Sa([.55,0,1,.45]),backIn:Sa([.31,.01,.66,-.59]),backOut:Sa([.33,1.53,.69,.99])};function WI(t,e){if(t)return typeof t=="function"&&nd()?zI(t,e):Zy(t)?Sa(t):Array.isArray(t)?t.map(n=>WI(n,e)||vm.easeOut):vm[t]}const Rn={x:!1,y:!1};function HI(){return Rn.x||Rn.y}function XL(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function qI(t,e){const n=XL(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function i1(t){return e=>{e.pointerType==="touch"||HI()||t(e)}}function JL(t,e,n={}){const[r,s,i]=qI(t,n),o=i1(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=i1(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const KI=(t,e)=>e?t===e?!0:KI(t,e.parentElement):!1,ev=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eF(t){return ZL.has(t.tagName)||t.tabIndex!==-1}const Ca=new WeakSet;function o1(t){return e=>{e.key==="Enter"&&t(e)}}function Sf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=o1(()=>{if(Ca.has(n))return;Sf(n,"down");const s=o1(()=>{Sf(n,"up")}),i=()=>Sf(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function a1(t){return ev(t)&&!HI()}function nF(t,e,n={}){const[r,s,i]=qI(t,n),o=a=>{const l=a.currentTarget;if(!a1(a)||Ca.has(l))return;Ca.add(l);const c=e(a),d=(g,E)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!a1(g)||!Ca.has(l))&&(Ca.delete(l),typeof c=="function"&&c(g,{success:E}))},h=g=>{d(g,n.useGlobalTarget||KI(l,g.target))},f=g=>{d(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!eF(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>tF(c,s),s)}),i}function rF(t){return t==="x"||t==="y"?Rn[t]?null:(Rn[t]=!0,()=>{Rn[t]=!1}):Rn.x||Rn.y?null:(Rn.x=Rn.y=!0,()=>{Rn.x=Rn.y=!1})}const GI=new Set(["width","height","top","left","right","bottom",...Oo]);let lu;function sF(){lu=void 0}const tr={now:()=>(lu===void 0&&tr.set(yt.isProcessing||Z4.useManualTiming?yt.timestamp:performance.now()),lu),set:t=>{lu=t,queueMicrotask(sF)}};function tv(t,e){t.indexOf(e)===-1&&t.push(e)}function nv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rv{constructor(){this.subscriptions=[]}add(e){return tv(this.subscriptions,e),()=>nv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function QI(t,e){return e?t*(1e3/e):0}const l1=30,iF=t=>!isNaN(parseFloat(t));class oF{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=tr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>l1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,l1);return QI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new oF(t,e)}function aF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function lF(t,e){const n=oh(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=xL(i[o]);aF(t,o,a)}}function cF(t){return!!(Vt(t)&&t.add)}function wm(t,e){const n=t.getValue("willChange");if(cF(n))return n.add(e)}function YI(t){return t.props[II]}const XI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uF=1e-7,dF=12;function hF(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=XI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>uF&&++a<dF);return o}function Wl(t,e,n,r){if(t===e&&n===r)return cn;const s=i=>hF(i,0,1,t,n);return i=>i===0||i===1?i:XI(s(i),e,r)}const JI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZI=t=>e=>1-t(1-e),eb=Wl(.33,1.53,.69,.99),sv=ZI(eb),tb=JI(sv),nb=t=>(t*=2)<1?.5*sv(t):.5*(2-Math.pow(2,-10*(t-1))),iv=t=>1-Math.sin(Math.acos(t)),rb=ZI(iv),sb=JI(iv),ib=t=>/^0[^.\s]+$/u.test(t);function fF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ib(t):!0}const Ua=t=>Math.round(t*1e5)/1e5,ov=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pF(t){return t==null}const mF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,av=(t,e)=>n=>!!(typeof n=="string"&&mF.test(n)&&n.startsWith(t)||e&&!pF(n)&&Object.prototype.hasOwnProperty.call(n,e)),ob=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(ov);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},gF=t=>Ar(0,255,t),Cf={...Lo,transform:t=>Math.round(gF(t))},Hs={test:av("rgb","red"),parse:ob("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cf.transform(t)+", "+Cf.transform(e)+", "+Cf.transform(n)+", "+Ua(xl.transform(r))+")"};function yF(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const xm={test:av("#"),parse:yF,transform:Hs.transform},Hi={test:av("hsl","hue"),parse:ob("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+er.transform(Ua(e))+", "+er.transform(Ua(n))+", "+Ua(xl.transform(r))+")"},kt={test:t=>Hs.test(t)||xm.test(t)||Hi.test(t),parse:t=>Hs.test(t)?Hs.parse(t):Hi.test(t)?Hi.parse(t):xm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hs.transform(t):Hi.transform(t)},vF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ov))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(vF))===null||n===void 0?void 0:n.length)||0)>0}const ab="number",lb="color",xF="var",_F="var(",c1="${}",EF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function El(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(EF,l=>(kt.test(l)?(r.color.push(i),s.push(lb),n.push(kt.parse(l))):l.startsWith(_F)?(r.var.push(i),s.push(xF),n.push(l)):(r.number.push(i),s.push(ab),n.push(parseFloat(l))),++i,c1)).split(c1);return{values:n,split:a,indexes:r,types:s}}function cb(t){return El(t).values}function ub(t){const{split:e,types:n}=El(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===ab?i+=Ua(s[o]):a===lb?i+=kt.transform(s[o]):i+=s[o]}return i}}const TF=t=>typeof t=="number"?0:t;function SF(t){const e=cb(t);return ub(t)(e.map(TF))}const vs={test:wF,parse:cb,createTransformer:ub,getAnimatableNone:SF},CF=new Set(["brightness","contrast","saturate","opacity"]);function IF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ov)||[];if(!r)return t;const s=n.replace(r,"");let i=CF.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const bF=/\b([a-z-]*)\(.*?\)/gu,_m={...vs,getAnimatableNone:t=>{const e=t.match(bF);return e?e.map(IF).join(" "):t}},AF={...Hy,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:_m,WebkitFilter:_m},lv=t=>AF[t];function db(t,e){let n=lv(t);return n!==_m&&(n=vs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PF=new Set(["auto","none","0"]);function RF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!PF.has(i)&&El(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=db(n,s)}const u1=t=>t===Lo||t===ne,d1=(t,e)=>parseFloat(t.split(", ")[e]),h1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return d1(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?d1(i[1],t):0}},kF=new Set(["x","y","z"]),NF=Oo.filter(t=>!kF.has(t));function DF(t){const e=[];return NF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const So={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:h1(4,13),y:h1(5,14)};So.translateX=So.x;So.translateY=So.y;const Ys=new Set;let Em=!1,Tm=!1;function hb(){if(Tm){const t=Array.from(Ys).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=DF(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Tm=!1,Em=!1,Ys.forEach(t=>t.complete()),Ys.clear()}function fb(){Ys.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Tm=!0)})}function MF(){fb(),hb()}class cv{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ys.add(this),Em||(Em=!0,Be.read(fb),Be.resolveKeyframes(hb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ys.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ys.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),VF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jF(t){const e=VF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function mb(t,e,n=1){const[r,s]=jF(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return pb(o)?parseFloat(o):o}return Wy(s)?mb(s,e,n+1):s}const gb=t=>e=>e.test(t),OF={test:t=>t==="auto",parse:t=>t},yb=[Lo,ne,er,zr,IL,CL,OF],f1=t=>yb.find(gb(t));class vb extends cv{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Wy(c))){const d=mb(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!GI.has(r)||e.length!==2)return;const[s,i]=e,o=f1(s),a=f1(i);if(o!==a)if(u1(o)&&u1(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)fF(e[s])&&r.push(s);r.length&&RF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=So[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=So[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const p1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vs.test(t)||t==="0")&&!t.startsWith("url("));function LF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=p1(s,e),a=p1(i,e);return!o||!a?!1:LF(t)||(n==="spring"||Jy(n))&&r}const BF=t=>t!==null;function ah(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(BF),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const UF=40;class wb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>UF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MF(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=tr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!FF(e,r,s,i))if(o)this.options.duration=0;else{l&&l(ah(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const $e=(t,e,n)=>t+(e-t)*n;function If(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=If(l,a,t+1/3),i=If(l,a,t),o=If(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function rd(t,e){return n=>n>0?e:t}const bf=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},$F=[xm,Hs,Hi],WF=t=>$F.find(e=>e.test(t));function m1(t){const e=WF(t);if(!e)return!1;let n=e.parse(t);return e===Hi&&(n=zF(n)),n}const g1=(t,e)=>{const n=m1(t),r=m1(e);if(!n||!r)return rd(t,e);const s={...n};return i=>(s.red=bf(n.red,r.red,i),s.green=bf(n.green,r.green,i),s.blue=bf(n.blue,r.blue,i),s.alpha=$e(n.alpha,r.alpha,i),Hs.transform(s))},HF=(t,e)=>n=>e(t(n)),Hl=(...t)=>t.reduce(HF),Sm=new Set(["none","hidden"]);function qF(t,e){return Sm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KF(t,e){return n=>$e(t,e,n)}function uv(t){return typeof t=="number"?KF:typeof t=="string"?Wy(t)?rd:kt.test(t)?g1:YF:Array.isArray(t)?xb:typeof t=="object"?kt.test(t)?g1:GF:rd}function xb(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>uv(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function GF(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=uv(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function QF(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const YF=(t,e)=>{const n=vs.createTransformer(e),r=El(t),s=El(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Sm.has(t)&&!s.values.length||Sm.has(e)&&!r.values.length?qF(t,e):Hl(xb(QF(r,s),s.values),n):rd(t,e)};function _b(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$e(t,e,n):uv(t)(t,e)}const XF=5;function Eb(t,e,n){const r=Math.max(e-XF,0);return QI(n-t(r),e-r)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Af=.001;function JF({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:r=Ye.mass}){let s,i,o=1-e;o=Ar(Ye.minDamping,Ye.maxDamping,o),t=Ar(Ye.minDuration,Ye.maxDuration,wr(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,g=Cm(c,o),E=Math.exp(-h);return Af-f/g*E},i=c=>{const h=c*o*t,f=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-h),w=Cm(Math.pow(c,2),o);return(-s(c)+Af>0?-1:1)*((f-g)*E)/w}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Af+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=e3(s,i,a);if(t=vr(t),isNaN(l))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const ZF=12;function e3(t,e,n){let r=n;for(let s=1;s<ZF;s++)r=r-t(r)/e(r);return r}function Cm(t,e){return t*Math.sqrt(1-e*e)}const t3=["duration","bounce"],n3=["stiffness","damping","mass"];function y1(t,e){return e.some(n=>t[n]!==void 0)}function r3(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!y1(t,n3)&&y1(t,t3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ar(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ye.mass,stiffness:s,damping:i}}else{const n=JF(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function Tb(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=r3({...n,velocity:-wr(n.velocity||0)}),E=f||0,w=c/(2*Math.sqrt(l*d)),T=o-i,y=wr(Math.sqrt(l/d)),x=Math.abs(T)<5;r||(r=x?Ye.restSpeed.granular:Ye.restSpeed.default),s||(s=x?Ye.restDelta.granular:Ye.restDelta.default);let S;if(w<1){const k=Cm(y,w);S=V=>{const I=Math.exp(-w*y*V);return o-I*((E+w*y*T)/k*Math.sin(k*V)+T*Math.cos(k*V))}}else if(w===1)S=k=>o-Math.exp(-y*k)*(T+(E+y*T)*k);else{const k=y*Math.sqrt(w*w-1);S=V=>{const I=Math.exp(-w*y*V),C=Math.min(k*V,300);return o-I*((E+w*y*T)*Math.sinh(C)+k*T*Math.cosh(C))/k}}const A={calculatedDuration:g&&h||null,next:k=>{const V=S(k);if(g)a.done=k>=h;else{let I=0;w<1&&(I=k===0?vr(E):Eb(S,k,V));const C=Math.abs(I)<=r,P=Math.abs(o-V)<=s;a.done=C&&P}return a.value=a.done?o:V,a},toString:()=>{const k=Math.min(UI(A),ym),V=zI(I=>A.next(k*I).value,k,30);return k+"ms "+V}};return A}function v1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,E=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let w=n*e;const T=h+w,y=o===void 0?T:o(T);y!==T&&(w=y-h);const x=C=>-w*Math.exp(-C/r),S=C=>y+x(C),A=C=>{const P=x(C),R=S(C);f.done=Math.abs(P)<=c,f.value=f.done?y:R};let k,V;const I=C=>{g(f.value)&&(k=C,V=Tb({keyframes:[f.value,E(f.value)],velocity:Eb(S,C,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return I(0),{calculatedDuration:null,next:C=>{let P=!1;return!V&&k===void 0&&(P=!0,A(C),I(C)),k!==void 0&&C>=k?V.next(C-k):(!P&&A(C),f)}}}const s3=Wl(.42,0,1,1),i3=Wl(0,0,.58,1),Sb=Wl(.42,0,.58,1),o3=t=>Array.isArray(t)&&typeof t[0]!="number",w1={linear:cn,easeIn:s3,easeInOut:Sb,easeOut:i3,circIn:iv,circInOut:sb,circOut:rb,backIn:sv,backInOut:tb,backOut:eb,anticipate:nb},x1=t=>{if(Zy(t)){mm(t.length===4);const[e,n,r,s]=t;return Wl(e,n,r,s)}else if(typeof t=="string")return mm(w1[t]!==void 0),w1[t];return t};function a3(t,e,n){const r=[],s=n||_b,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||cn:e;a=Hl(l,a)}r.push(a)}return r}function l3(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(mm(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=a3(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Eo(t[h],t[h+1],d);return a[h](f)};return n?d=>c(Ar(t[0],t[i-1],d)):c}function c3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Eo(0,e,r);t.push($e(n,1,s))}}function u3(t){const e=[0];return c3(e,t.length-1),e}function d3(t,e){return t.map(n=>n*e)}function h3(t,e){return t.map(()=>e||Sb).splice(0,t.length-1)}function sd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=o3(r)?r.map(x1):x1(r),i={done:!1,value:e[0]},o=d3(n&&n.length===e.length?n:u3(e),t),a=l3(o,e,{ease:Array.isArray(s)?s:h3(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const f3=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Be.update(e,!0),stop:()=>ys(e),now:()=>yt.isProcessing?yt.timestamp:tr.now()}},p3={decay:v1,inertia:v1,tween:sd,keyframes:sd,spring:Tb},m3=t=>t/100;class dv extends wb{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||cv,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Jy(n)?n:p3[n]||sd;let l,c;a!==sd&&typeof e[0]!="number"&&(l=Hl(m3,_b(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=UI(d));const{calculatedDuration:h}=d,f=h+s,g=f*(r+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:E,repeatDelay:w,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,A=i;if(g){const C=Math.min(this.currentTime,d)/h;let P=Math.floor(C),R=C%1;!R&&C>=1&&(R=1),R===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(E==="reverse"?(R=1-R,w&&(R-=w/h)):E==="mirror"&&(A=o)),S=Ar(0,1,R)*h}const k=x?{done:!1,value:l[0]}:A.next(S);a&&(k.value=a(k.value));let{done:V}=k;!x&&c!==null&&(V=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return I&&s!==void 0&&(k.value=ah(l,this.options,s)),T&&T(k.value),I&&this.finish(),k}get duration(){const{resolved:e}=this;return e?wr(e.calculatedDuration):0}get time(){return wr(this.currentTime)}set time(e){e=vr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=f3,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const g3=new Set(["opacity","clipPath","filter","transform"]);function y3(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=WI(a,s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const v3=Oy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),id=10,w3=2e4;function x3(t){return Jy(t.type)||t.type==="spring"||!$I(t.ease)}function _3(t,e){const n=new dv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<w3;)r=n.sample(i),s.push(r.value),i+=id;return{times:void 0,keyframes:s,duration:i-id,ease:"linear"}}const Cb={anticipate:nb,backInOut:tb,circInOut:sb};function E3(t){return t in Cb}class _1 extends wb{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new vb(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&nd()&&E3(i)&&(i=Cb[i]),x3(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:E,...w}=this.options,T=_3(e,w);e=T.keyframes,e.length===1&&(e[1]=e[0]),r=T.duration,s=T.times,i=T.ease,o="keyframes"}const d=y3(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(s1(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(ah(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return wr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return wr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=vr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return cn;const{animation:r}=n;s1(r,e)}return cn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...g}=this.options,E=new dv({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),w=vr(this.time);c.setWithVelocity(E.sample(w-id).value,E.sample(w).value,id)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return v3()&&r&&g3.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const T3={type:"spring",stiffness:500,damping:25,restSpeed:10},S3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),C3={type:"keyframes",duration:.8},I3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b3=(t,{keyframes:e})=>e.length>2?C3:wi.has(t)?t.startsWith("scale")?S3(e[1]):T3:I3;function A3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const hv=(t,e,n,r={},s,i)=>o=>{const a=Xy(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-vr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};A3(a)||(d={...d,...b3(t,d)}),d.duration&&(d.duration=vr(d.duration)),d.repeatDelay&&(d.repeatDelay=vr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=ah(d.keyframes,a);if(f!==void 0)return Be.update(()=>{d.onUpdate(f),d.onComplete()}),new GL([])}return!i&&_1.supports(d)?new _1(d):new dv(d)};function P3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ib(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||d&&P3(d,h))continue;const E={delay:n,...Xy(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const y=YI(t);if(y){const x=window.MotionHandoffAnimation(y,h,Be);x!==null&&(E.startTime=x,w=!0)}}wm(t,h),f.start(hv(h,f,g,t.shouldReduceMotion&&GI.has(h)?{type:!1}:E,t,w));const T=f.animation;T&&c.push(T)}return a&&Promise.all(c).then(()=>{Be.update(()=>{a&&lF(t,a)})}),c}function Im(t,e,n={}){var r;const s=oh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Ib(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return R3(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function R3(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(k3).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Im(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function k3(t,e){return t.sortNodePosition(e)}function N3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Im(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Im(t,e,n);else{const s=typeof e=="function"?oh(t,e,n.custom):e;r=Promise.all(Ib(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const D3=Fy.length;function bb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<D3;n++){const r=Fy[n],s=t.props[r];(wl(s)||s===!1)&&(e[r]=s)}return e}const M3=[...Ly].reverse(),V3=Ly.length;function j3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>N3(t,n,r)))}function O3(t){let e=j3(t),n=E1(),r=!0;const s=l=>(c,d)=>{var h;const f=oh(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:E,...w}=f;c={...c,...w,...E}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=bb(t.parent)||{},h=[],f=new Set;let g={},E=1/0;for(let T=0;T<V3;T++){const y=M3[T],x=n[y],S=c[y]!==void 0?c[y]:d[y],A=wl(S),k=y===l?x.isActive:null;k===!1&&(E=T);let V=S===d[y]&&S!==c[y]&&A;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),x.protectedKeys={...g},!x.isActive&&k===null||!S&&!x.prevProp||sh(S)||typeof S=="boolean")continue;const I=L3(x.prevProp,S);let C=I||y===l&&x.isActive&&!V&&A||T>E&&A,P=!1;const R=Array.isArray(S)?S:[S];let D=R.reduce(s(y),{});k===!1&&(D={});const{prevResolvedValues:M={}}=x,N={...M,...D},Z=q=>{C=!0,f.has(q)&&(P=!0,f.delete(q)),x.needsAnimating[q]=!0;const L=t.getValue(q);L&&(L.liveStyle=!1)};for(const q in N){const L=D[q],z=M[q];if(g.hasOwnProperty(q))continue;let Y=!1;gm(L)&&gm(z)?Y=!BI(L,z):Y=L!==z,Y?L!=null?Z(q):f.add(q):L!==void 0&&f.has(q)?Z(q):x.protectedKeys[q]=!0}x.prevProp=S,x.prevResolvedValues=D,x.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(V&&I)||P)&&h.push(...R.map(q=>({animation:q,options:{type:y}})))}if(f.size){const T={};f.forEach(y=>{const x=t.getBaseTarget(y),S=t.getValue(y);S&&(S.liveStyle=!0),T[y]=x??null}),h.push({animation:T})}let w=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=E1(),r=!0}}}function L3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BI(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E1(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class F3 extends bs{constructor(e){super(e),e.animationState||(e.animationState=O3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let B3=0;class U3 extends bs{constructor(){super(...arguments),this.id=B3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const z3={animation:{Feature:F3},exit:{Feature:U3}};function Tl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ql(t){return{point:{x:t.pageX,y:t.pageY}}}const $3=t=>e=>ev(e)&&t(e,ql(e));function za(t,e,n,r){return Tl(t,e,$3(n),r)}const T1=(t,e)=>Math.abs(t-e);function W3(t,e){const n=T1(t.x,e.x),r=T1(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ab{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Rf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=W3(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:E}=h,{timestamp:w}=yt;this.history.push({...E,timestamp:w});const{onStart:T,onMove:y}=this.handlers;f||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Pf(f,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:E,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Rf(h.type==="pointercancel"?this.lastMoveEventInfo:Pf(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,T),E&&E(h,T)},!ev(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ql(e),a=Pf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=yt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Rf(a,this.history)),this.removeListeners=Hl(za(this.contextWindow,"pointermove",this.handlePointerMove),za(this.contextWindow,"pointerup",this.handlePointerUp),za(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ys(this.updatePoint)}}function Pf(t,e){return e?{point:e(t.point)}:t}function S1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rf({point:t},e){return{point:t,delta:S1(t,Pb(e)),offset:S1(t,H3(e)),velocity:q3(e,.1)}}function H3(t){return t[0]}function Pb(t){return t[t.length-1]}function q3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Pb(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>vr(e)));)n--;if(!r)return{x:0,y:0};const i=wr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Rb=1e-4,K3=1-Rb,G3=1+Rb,kb=.01,Q3=0-kb,Y3=0+kb;function hn(t){return t.max-t.min}function X3(t,e,n){return Math.abs(t-e)<=n}function C1(t,e,n,r=.5){t.origin=r,t.originPoint=$e(e.min,e.max,t.origin),t.scale=hn(n)/hn(e),t.translate=$e(n.min,n.max,t.origin)-t.originPoint,(t.scale>=K3&&t.scale<=G3||isNaN(t.scale))&&(t.scale=1),(t.translate>=Q3&&t.translate<=Y3||isNaN(t.translate))&&(t.translate=0)}function $a(t,e,n,r){C1(t.x,e.x,n.x,r?r.originX:void 0),C1(t.y,e.y,n.y,r?r.originY:void 0)}function I1(t,e,n){t.min=n.min+e.min,t.max=t.min+hn(e)}function J3(t,e,n){I1(t.x,e.x,n.x),I1(t.y,e.y,n.y)}function b1(t,e,n){t.min=e.min-n.min,t.max=t.min+hn(e)}function Wa(t,e,n){b1(t.x,e.x,n.x),b1(t.y,e.y,n.y)}function Z3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$e(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$e(n,t,r.max):Math.min(t,n)),t}function A1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function e9(t,{top:e,left:n,bottom:r,right:s}){return{x:A1(t.x,n,s),y:A1(t.y,e,r)}}function P1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function t9(t,e){return{x:P1(t.x,e.x),y:P1(t.y,e.y)}}function n9(t,e){let n=.5;const r=hn(t),s=hn(e);return s>r?n=Eo(e.min,e.max-r,t.min):r>s&&(n=Eo(t.min,t.max-s,e.min)),Ar(0,1,n)}function r9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bm=.35;function s9(t=bm){return t===!1?t=0:t===!0&&(t=bm),{x:R1(t,"left","right"),y:R1(t,"top","bottom")}}function R1(t,e,n){return{min:k1(t,e),max:k1(t,n)}}function k1(t,e){return typeof t=="number"?t:t[e]||0}const N1=()=>({translate:0,scale:1,origin:0,originPoint:0}),qi=()=>({x:N1(),y:N1()}),D1=()=>({min:0,max:0}),Ze=()=>({x:D1(),y:D1()});function gn(t){return[t("x"),t("y")]}function Nb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function i9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function o9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function kf(t){return t===void 0||t===1}function Am({scale:t,scaleX:e,scaleY:n}){return!kf(t)||!kf(e)||!kf(n)}function Ls(t){return Am(t)||Db(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Db(t){return M1(t.x)||M1(t.y)}function M1(t){return t&&t!=="0%"}function od(t,e,n){const r=t-n,s=e*r;return n+s}function V1(t,e,n,r,s){return s!==void 0&&(t=od(t,s,r)),od(t,n,r)+e}function Pm(t,e=0,n=1,r,s){t.min=V1(t.min,e,n,r,s),t.max=V1(t.max,e,n,r,s)}function Mb(t,{x:e,y:n}){Pm(t.x,e.translate,e.scale,e.originPoint),Pm(t.y,n.translate,n.scale,n.originPoint)}const j1=.999999999999,O1=1.0000000000001;function a9(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Mb(t,o)),r&&Ls(i.latestValues)&&Gi(t,i.latestValues))}e.x<O1&&e.x>j1&&(e.x=1),e.y<O1&&e.y>j1&&(e.y=1)}function Ki(t,e){t.min=t.min+e,t.max=t.max+e}function L1(t,e,n,r,s=.5){const i=$e(t.min,t.max,s);Pm(t,e,n,i,r)}function Gi(t,e){L1(t.x,e.x,e.scaleX,e.scale,e.originX),L1(t.y,e.y,e.scaleY,e.scale,e.originY)}function Vb(t,e){return Nb(o9(t.getBoundingClientRect(),e))}function l9(t,e,n){const r=Vb(t,n),{scroll:s}=e;return s&&(Ki(r.x,s.offset.x),Ki(r.y,s.offset.y)),r}const jb=({current:t})=>t?t.ownerDocument.defaultView:null,c9=new WeakMap;class u9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ql(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:E}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rF(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gn(T=>{let y=this.getAxisMotionValue(T).get()||0;if(er.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[T];S&&(y=hn(S)*(parseFloat(y)/100))}}this.originPoint[T]=y}),E&&Be.postRender(()=>E(d,h)),wm(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:E,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:T}=h;if(g&&this.currentDirection===null){this.currentDirection=d9(T),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>gn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Ab(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:jb(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Be.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Oc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Z3(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Wi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=e9(s.layoutBox,n):this.constraints=!1,this.elastic=s9(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&gn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=r9(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=l9(r,s.root,this.visualElement.getTransformPagePoint());let o=t9(s.layout.layoutBox,i);if(n){const a=n(i9(o));this.hasMutatedConstraints=!!a,a&&(o=Nb(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=gn(d=>{if(!Oc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return wm(this.visualElement,e),r.start(hv(e,r,0,n,this.visualElement,!1))}stopAnimation(){gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gn(n=>{const{drag:r}=this.getProps();if(!Oc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-$e(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};gn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=n9({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gn(o=>{if(!Oc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set($e(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;c9.set(this.visualElement,this);const e=this.visualElement.current,n=za(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Be.read(r);const o=Tl(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(gn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=bm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Oc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function d9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class h9 extends bs{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new u9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const F1=t=>(e,n)=>{t&&Be.postRender(()=>t(e,n))};class f9 extends bs{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new Ab(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:F1(e),onStart:F1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Be.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=za(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function B1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=B1(t,e.target.x),r=B1(t,e.target.y);return`${n}% ${r}%`}},p9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=vs.parse(t);if(s.length>5)return r;const i=vs.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=$e(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class m9 extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;jL(g9),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),cu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Uy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ob(t){const[e,n]=wI(),r=v.useContext(Dy);return p.jsx(m9,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(bI),isPresent:e,safeToRemove:n})}const g9={borderRadius:{...fa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fa,borderTopRightRadius:fa,borderBottomLeftRadius:fa,borderBottomRightRadius:fa,boxShadow:p9};function y9(t,e,n){const r=Vt(t)?t:_l(t);return r.start(hv("",r,e,n)),r.animation}function v9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const w9=(t,e)=>t.depth-e.depth;class x9{constructor(){this.children=[],this.isDirty=!1}add(e){tv(this.children,e),this.isDirty=!0}remove(e){nv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w9),this.isDirty=!1,this.children.forEach(e)}}function _9(t,e){const n=tr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ys(r),t(i-e))};return Be.read(r,!0),()=>ys(r)}const Lb=["TopLeft","TopRight","BottomLeft","BottomRight"],E9=Lb.length,U1=t=>typeof t=="string"?parseFloat(t):t,z1=t=>typeof t=="number"||ne.test(t);function T9(t,e,n,r,s,i){s?(t.opacity=$e(0,n.opacity!==void 0?n.opacity:1,S9(r)),t.opacityExit=$e(e.opacity!==void 0?e.opacity:1,0,C9(r))):i&&(t.opacity=$e(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<E9;o++){const a=`border${Lb[o]}Radius`;let l=$1(e,a),c=$1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||z1(l)===z1(c)?(t[a]=Math.max($e(U1(l),U1(c),r),0),(er.test(c)||er.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=$e(e.rotate||0,n.rotate||0,r))}function $1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const S9=Fb(0,.5,rb),C9=Fb(.5,.95,cn);function Fb(t,e,n){return r=>r<t?0:r>e?1:n(Eo(t,e,r))}function W1(t,e){t.min=e.min,t.max=e.max}function mn(t,e){W1(t.x,e.x),W1(t.y,e.y)}function H1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function q1(t,e,n,r,s){return t-=e,t=od(t,1/n,r),s!==void 0&&(t=od(t,1/s,r)),t}function I9(t,e=0,n=1,r=.5,s,i=t,o=t){if(er.test(e)&&(e=parseFloat(e),e=$e(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=$e(i.min,i.max,r);t===i&&(a-=e),t.min=q1(t.min,e,n,a,s),t.max=q1(t.max,e,n,a,s)}function K1(t,e,[n,r,s],i,o){I9(t,e[n],e[r],e[s],e.scale,i,o)}const b9=["x","scaleX","originX"],A9=["y","scaleY","originY"];function G1(t,e,n,r){K1(t.x,e,b9,n?n.x:void 0,r?r.x:void 0),K1(t.y,e,A9,n?n.y:void 0,r?r.y:void 0)}function Q1(t){return t.translate===0&&t.scale===1}function Bb(t){return Q1(t.x)&&Q1(t.y)}function Y1(t,e){return t.min===e.min&&t.max===e.max}function P9(t,e){return Y1(t.x,e.x)&&Y1(t.y,e.y)}function X1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ub(t,e){return X1(t.x,e.x)&&X1(t.y,e.y)}function J1(t){return hn(t.x)/hn(t.y)}function Z1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class R9{constructor(){this.members=[]}add(e){tv(this.members,e),e.scheduleRender()}remove(e){if(nv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function k9(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Fs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ia=typeof window<"u"&&window.MotionDebug!==void 0,Nf=["","X","Y","Z"],N9={visibility:"hidden"},e_=1e3;let D9=0;function Df(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Be,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zb(r)}function $b({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=D9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ia&&(Fs.totalNodes=Fs.resolvedTargetDeltas=Fs.recalculatedProjection=0),this.nodes.forEach(j9),this.nodes.forEach(U9),this.nodes.forEach(z9),this.nodes.forEach(O9),Ia&&window.MotionDebug.record(Fs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new x9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v9(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=_9(f,250),cu.hasAnimatedSinceResize&&(cu.hasAnimatedSinceResize=!1,this.nodes.forEach(n_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||K9,{onLayoutAnimationStart:T,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!Ub(this.targetLayout,E)||g,S=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const A={...Xy(w,"layout"),onPlay:T,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||n_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t_);return}this.isUpdating||this.nodes.forEach(F9),this.isUpdating=!1,this.nodes.forEach(B9),this.nodes.forEach(M9),this.nodes.forEach(V9),this.clearAllSnapshots();const a=tr.now();yt.delta=Ar(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,Tf.update.process(yt),Tf.preRender.process(yt),Tf.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Uy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L9),this.sharedNodes.forEach(W9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Bb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Ls(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),G9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ze();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Q9))){const{scroll:d}=this.root;d&&(Ki(l.x,d.offset.x),Ki(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Ze();if(mn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&mn(l,o),Ki(l.x,h.offset.x),Ki(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ze();mn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Gi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ls(d.latestValues)&&Gi(l,d.latestValues)}return Ls(this.latestValues)&&Gi(l,this.latestValues),l}removeTransform(o){const a=Ze();mn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ls(c.latestValues))continue;Am(c.latestValues)&&c.updateSnapshot();const d=Ze(),h=c.measurePageBox();mn(d,h),G1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ls(this.latestValues)&&G1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Wa(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),Mb(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Wa(this.relativeTargetOrigin,this.target,g.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ia&&Fs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||Db(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;mn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;a9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ze());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(H1(this.prevProjectionDelta.x,this.projectionDelta.x),H1(this.prevProjectionDelta.y,this.projectionDelta.y)),$a(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!Z1(this.projectionDelta.x,this.prevProjectionDelta.x)||!Z1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Ia&&Fs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qi(),this.projectionDelta=qi(),this.projectionDeltaWithTransform=qi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=qi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ze(),g=l?l.source:void 0,E=this.layout?this.layout.source:void 0,w=g!==E,T=this.getStack(),y=!T||T.members.length<=1,x=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(q9));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const k=A/1e3;r_(h.x,o.x,k),r_(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wa(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H9(this.relativeTarget,this.relativeTargetOrigin,f,k),S&&P9(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ze()),mn(S,this.relativeTarget)),w&&(this.animationValues=d,T9(d,c,this.latestValues,k,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{cu.hasAnimatedSinceResize=!0,this.currentAnimation=y9(0,e_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Wb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ze();const h=hn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=hn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}mn(a,l),Gi(a,d),$a(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new R9),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Df("z",o,c,this.animationValues);for(let d=0;d<Nf.length;d++)Df(`rotate${Nf[d]}`,o,c,this.animationValues),Df(`skew${Nf[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N9;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=au(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=au(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=k9(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:g,y:E}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in td){if(f[w]===void 0)continue;const{correct:T,applyTo:y}=td[w],x=c.transform==="none"?f[w]:T(f[w],h);if(y){const S=y.length;for(let A=0;A<S;A++)c[y[A]]=x}else c[w]=x}return this.options.layoutId&&(c.pointerEvents=h===this?au(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(t_),this.root.sharedNodes.clear()}}}function M9(t){t.updateLayout()}function V9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?gn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=hn(f);f.min=r[h].min,f.max=f.min+g}):Wb(i,n.layoutBox,r)&&gn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=hn(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=qi();$a(a,r,n.layoutBox);const l=qi();o?$a(l,t.applyTransform(s,!0),n.measuredBox):$a(l,r,n.layoutBox);const c=!Bb(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const E=Ze();Wa(E,n.layoutBox,f.layoutBox);const w=Ze();Wa(w,r,g.layoutBox),Ub(E,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function j9(t){Ia&&Fs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function O9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function L9(t){t.clearSnapshot()}function t_(t){t.clearMeasurements()}function F9(t){t.isLayoutDirty=!1}function B9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U9(t){t.resolveTargetDelta()}function z9(t){t.calcProjection()}function $9(t){t.resetSkewAndRotation()}function W9(t){t.removeLeadSnapshot()}function r_(t,e,n){t.translate=$e(e.translate,0,n),t.scale=$e(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function s_(t,e,n,r){t.min=$e(e.min,n.min,r),t.max=$e(e.max,n.max,r)}function H9(t,e,n,r){s_(t.x,e.x,n.x,r),s_(t.y,e.y,n.y,r)}function q9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K9={duration:.45,ease:[.4,0,.1,1]},i_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o_=i_("applewebkit/")&&!i_("chrome/")?Math.round:cn;function a_(t){t.min=o_(t.min),t.max=o_(t.max)}function G9(t){a_(t.x),a_(t.y)}function Wb(t,e,n){return t==="position"||t==="preserve-aspect"&&!X3(J1(e),J1(n),.2)}function Q9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Y9=$b({attachResizeListener:(t,e)=>Tl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mf={current:void 0},Hb=$b({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mf.current){const t=new Y9({});t.mount(window),t.setOptions({layoutScroll:!0}),Mf.current=t}return Mf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),X9={pan:{Feature:f9},drag:{Feature:h9,ProjectionNode:Hb,MeasureLayout:Ob}};function l_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Be.postRender(()=>i(e,ql(e)))}class J9 extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=JL(e,n=>(l_(this.node,n,"Start"),r=>l_(this.node,r,"End"))))}unmount(){}}class Z9 extends bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hl(Tl(this.node.current,"focus",()=>this.onFocus()),Tl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c_(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Be.postRender(()=>i(e,ql(e)))}class e5 extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=nF(e,n=>(c_(this.node,n,"Start"),(r,{success:s})=>c_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rm=new WeakMap,Vf=new WeakMap,t5=t=>{const e=Rm.get(t.target);e&&e(t)},n5=t=>{t.forEach(t5)};function r5({root:t,...e}){const n=t||document;Vf.has(n)||Vf.set(n,{});const r=Vf.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(n5,{root:t,...e})),r[s]}function s5(t,e,n){const r=r5(e);return Rm.set(t,n),r.observe(t),()=>{Rm.delete(t),r.unobserve(t)}}const i5={some:0,all:1};class o5 extends bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:i5[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return s5(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(a5(e,n))&&this.startObserver()}unmount(){}}function a5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const l5={inView:{Feature:o5},tap:{Feature:e5},focus:{Feature:Z9},hover:{Feature:J9}},c5={layout:{ProjectionNode:Hb,MeasureLayout:Ob}},km={current:null},qb={current:!1};function u5(){if(qb.current=!0,!!jy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>km.current=t.matches;t.addListener(e),e()}else km.current=!1}const d5=[...yb,kt,vs],h5=t=>d5.find(gb(t)),u_=new WeakMap;function f5(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Vt(s))t.addValue(r,s);else if(Vt(i))t.addValue(r,_l(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,_l(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const d_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=tr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Be.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ih(n),this.isVariantNode=CI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const E=f[g];l[g]!==void 0&&Vt(E)&&E.set(l[g],!1)}}mount(e){this.current=e,u_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qb.current||u5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){u_.delete(this.current),this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wi.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in To){const n=To[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<d_.length;r++){const s=d_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=f5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_l(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(pb(s)||ib(s))?s=parseFloat(s):!h5(s)&&vs.test(n)&&(s=db(e,n)),this.setBaseTarget(e,Vt(s)?s.get():s)),Vt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=$y(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Vt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Kb extends p5{constructor(){super(...arguments),this.KeyframeResolver=vb}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function m5(t){return window.getComputedStyle(t)}class g5 extends Kb{constructor(){super(...arguments),this.type="html",this.renderInstance=MI}readValueFromInstance(e,n){if(wi.has(n)){const r=lv(n);return r&&r.default||0}else{const r=m5(e),s=(kI(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Vb(e,n)}build(e,n,r){qy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Yy(e,n,r)}}class y5 extends Kb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wi.has(n)){const r=lv(n);return r&&r.default||0}return n=VI.has(n)?n:By(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LI(e,n,r)}build(e,n,r){Ky(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){jI(e,n,r,s)}mount(e){this.isSVGTag=Qy(e.tagName),super.mount(e)}}const v5=(t,e)=>zy(t)?new y5(e):new g5(e,{allowProjection:t!==v.Fragment}),w5=HL({...z3,...l5,...X9,...c5},v5),ye=oL(w5),fv=m4,lh=v.forwardRef(({className:t,...e},n)=>p.jsx(uI,{ref:n,className:Re("inline-flex h-14 w-full items-center justify-center rounded-lg bg-white/10 p-1 text-white/70",t),...e}));lh.displayName=uI.displayName;const xn=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(dI,{ref:r,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white/20 data-[state=active]:text-white data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50 relative group flex-1",t),...n,children:[p.jsx("span",{className:"relative z-10",children:e}),p.jsx(ye.div,{className:"absolute inset-0 bg-white/10 rounded-md transform scale-x-0 group-data-[state=active]:scale-x-100 transition-transform",layoutId:"activeTab"})]}));xn.displayName=dI.displayName;const _n=v.forwardRef(({className:t,...e},n)=>p.jsx(hI,{ref:n,className:Re("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",t),...e}));_n.displayName=hI.displayName;/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,..._5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Gb("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(E5,{ref:i,iconNode:e,className:Gb(`lucide-${x5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=De("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=De("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=De("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=De("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=De("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=De("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=De("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=De("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),M5=1,V5=1e6;let jf=0;function j5(){return jf=(jf+1)%Number.MAX_SAFE_INTEGER,jf.toString()}const Of=new Map,h_=t=>{if(Of.has(t))return;const e=setTimeout(()=>{Of.delete(t),Ha({type:"REMOVE_TOAST",toastId:t})},V5);Of.set(t,e)},O5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,M5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?h_(n):t.toasts.forEach(r=>{h_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},uu=[];let du={toasts:[]};function Ha(t){du=O5(du,t),uu.forEach(e=>{e(du)})}function L5({...t}){const e=j5(),n=s=>Ha({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ha({type:"DISMISS_TOAST",toastId:e});return Ha({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Fo(){const[t,e]=v.useState(du);return v.useEffect(()=>(uu.push(e),()=>{const n=uu.indexOf(e);n>-1&&uu.splice(n,1)}),[t]),{...t,toast:L5,dismiss:n=>Ha({type:"DISMISS_TOAST",toastId:n})}}function rA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=rA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function F5(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=rA(t))&&(r&&(r+=" "),r+=e);return r}const f_=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,p_=F5,mv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return p_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=f_(d)||f_(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(E=>{let[w,T]=E;return Array.isArray(T)?T.includes({...i,...a}[w]):{...i,...a}[w]===T})?[...c,h,f]:c},[]);return p_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},B5=mv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Se=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ai:"button";return p.jsx(o,{className:Re(B5({variant:e,size:n,className:t})),ref:i,...s})});Se.displayName="Button";function U5({currentEmployee:t,onLogout:e}){return p.jsxs("header",{className:"p-4 flex justify-between items-center bg-black/10 backdrop-blur-md",children:[p.jsx(ye.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"text-2xl font-bold text-white",children:"Employee Panel"}),p.jsxs("div",{className:"flex items-center gap-4",children:[(t==null?void 0:t.isAdmin)&&p.jsx(ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex gap-2",children:p.jsx($p,{to:"/admin",children:p.jsxs(Se,{variant:"ghost",className:"text-white hover:bg-white/20",children:[p.jsx(k5,{className:"w-4 h-4 mr-2"}),"Admin"]})})}),p.jsxs(ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-white/90",children:["Welcome, ",t==null?void 0:t.name]}),p.jsxs(Se,{variant:"ghost",size:"sm",onClick:e,className:"text-white hover:bg-white/20",children:[p.jsx(Xb,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})}const Zt=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Zt.displayName="Card";const Bn=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",t),...e}));Bn.displayName="CardHeader";const Un=v.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));Un.displayName="CardTitle";const sA=v.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));sA.displayName="CardDescription";const en=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Re("p-6 pt-0",t),...e}));en.displayName="CardContent";const z5=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",t),...e}));z5.displayName="CardFooter";const $5=mv("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ld({className:t,variant:e,...n}){return p.jsx("div",{className:Re($5({variant:e}),t),...n})}function qt(t){const e=Math.floor(t/1e3%60),n=Math.floor(t/(1e3*60)%60);return[Math.floor(t/(1e3*60*60)),n,e].map(s=>s.toString().padStart(2,"0")).join(":")}const m_=t=>{const[e,n]=t.split(":"),r=new Date;return r.setHours(parseInt(e,10),parseInt(n,10)),r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})};function W5({employeeStatus:t,clockInTimer:e,breakTimer:n,accumulatedBreakMs:r,currentDepartment:s,isLate:i,lateMinutes:o,isOvertime:a,overtimeMinutes:l,onClockIn:c,onClockOut:d,onToggleBreak:h,onResumeWorking:f,onToggleStandby:g,getStatusColor:E,getBreakButtonState:w}){return p.jsxs(Zt,{className:`${E(t.status)} backdrop-blur-md text-white`,children:[p.jsx(Bn,{children:p.jsxs("div",{className:"flex flex-col space-y-3",children:[p.jsx(Un,{children:"Status & Controls"}),s&&p.jsx(sA,{className:"text-white/80",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 bg-white/5 rounded-lg p-4 border border-white/10",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Qb,{className:"w-4 h-4 text-white/70"}),p.jsx("span",{className:"font-medium",children:s.name})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-white/70",children:"Schedule:"}),p.jsxs("span",{className:"font-medium",children:[m_(s.schedule.clockIn)," - ",m_(s.schedule.clockOut)]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-white/70",children:"Grace Period:"}),p.jsxs("span",{children:[s.schedule.gracePeriod," minutes"]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-white/70",children:"Overtime After:"}),p.jsxs("span",{children:[s.schedule.overtimeThreshold," minutes"]})]})]})]})})]})}),p.jsx(en,{children:p.jsxs("div",{className:"grid gap-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs(ye.div,{whileHover:{scale:1.02},className:"bg-white/5 p-6 rounded-lg backdrop-blur-sm",children:[p.jsx("div",{className:"text-sm text-white/70 mb-2",children:"Current Status"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(ld,{variant:t.status==="Clocked Out"?"outline":t.status==="Working"?"default":(t.status==="Standby","secondary"),className:"text-lg py-2 px-4",children:t.status}),i&&t.status!=="Clocked Out"&&p.jsxs("div",{className:"flex items-center gap-2 mt-3 bg-yellow-500/10 text-yellow-300 p-2 rounded-lg border border-yellow-500/20",children:[p.jsx(tA,{className:"w-4 h-4"}),p.jsxs("span",{className:"text-sm font-medium",children:["Late by ",o," minutes"]})]}),a&&p.jsxs("div",{className:"flex items-center gap-2 mt-2 bg-orange-500/10 text-orange-300 p-2 rounded-lg border border-orange-500/20",children:[p.jsx(Dm,{className:"w-4 h-4"}),p.jsxs("span",{className:"text-sm font-medium",children:["Overtime: ",l," minutes"]})]})]})]}),p.jsxs(ye.div,{whileHover:{scale:1.02},className:"bg-white/5 p-6 rounded-lg backdrop-blur-sm",children:[p.jsx("div",{className:"text-sm text-white/70 mb-2",children:"Clock Timer"}),p.jsx("div",{className:"text-3xl font-mono",children:e})]}),p.jsxs(ye.div,{whileHover:{scale:1.02},className:"bg-white/5 p-6 rounded-lg backdrop-blur-sm",children:[p.jsx("div",{className:"text-sm text-white/70 mb-2",children:"Break Timer"}),p.jsx("div",{className:"text-3xl font-mono",children:n})]}),p.jsxs(ye.div,{whileHover:{scale:1.02},className:"bg-white/5 p-6 rounded-lg backdrop-blur-sm",children:[p.jsx("div",{className:"text-sm text-white/70 mb-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Dm,{className:"w-4 h-4"}),"Accumulated Break"]})}),p.jsx("div",{className:"text-3xl font-mono",children:qt(r)})]})]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:t.status==="Clocked Out"?p.jsx(Se,{onClick:c,className:"col-span-full h-14 text-lg bg-green-500 hover:bg-green-600",children:"Clock In"}):p.jsxs(p.Fragment,{children:[p.jsx(Se,{onClick:d,variant:"destructive",className:"col-span-full h-14 text-lg mb-3",children:"Clock Out"}),t.status==="Working"&&p.jsx(Se,{onClick:g,variant:"outline",className:"col-span-full h-12 text-white border-white/30 hover:bg-white/10 mb-3",children:"Go to Standby"}),t.status==="Standby"&&p.jsx(Se,{onClick:g,variant:"outline",className:"col-span-full h-12 bg-white/20 text-white hover:bg-white/30 mb-3",children:"Resume Working"}),["Lunch","Pee Break 1","Pee Break 2","Small Break"].map(T=>{const{visible:y,active:x,disabled:S}=w(T);return y?p.jsx(Se,{onClick:()=>h(T),variant:x?"default":"outline",disabled:S&&!x,className:`h-12 ${x?"bg-white/20 text-white":"text-white border-white/30"}`,children:x?`End ${T}`:T},T):null}),t.status==="Working Idle"&&p.jsx(Se,{onClick:f,className:"col-span-full h-12 bg-white/20 text-white hover:bg-white/30",children:"Resume Working"})]})})]})})]})}function H5({attendanceSummaries:t,isLoading:e,onRefresh:n}){return p.jsxs(Zt,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[p.jsxs(Bn,{className:"flex flex-row items-center justify-between",children:[p.jsx(Un,{children:"Attendance Summary"}),p.jsxs(Se,{variant:"ghost",size:"sm",onClick:n,disabled:e,className:"text-white hover:bg-white/20",children:[p.jsx(ad,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Refresh"]})]}),p.jsx(en,{children:t.length===0?p.jsxs("div",{className:"text-center text-white/70 py-8 flex flex-col items-center gap-4",children:[p.jsx("p",{children:"No summary records found"}),p.jsxs(Se,{variant:"outline",onClick:n,disabled:e,className:"border-white/20 text-white hover:bg-white/10",children:[p.jsx(ad,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Load Attendance Summary"]})]}):p.jsx(ye.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},children:t.map(r=>{var s,i;return p.jsx(ye.div,{whileHover:{scale:1.01},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:p.jsxs("div",{className:"grid gap-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Pr,{className:"w-4 h-4 text-white/70"}),p.jsx("span",{className:"font-medium",children:new Date(r.date.seconds*1e3).toLocaleDateString()})]}),p.jsx("span",{className:"text-sm text-white/70",children:new Date(r.date.seconds*1e3).toLocaleTimeString()})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Clock In"}),p.jsx("div",{children:(s=r.clockInTime)==null?void 0:s.toDate().toLocaleString()})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Clock Out"}),p.jsx("div",{children:(i=r.clockOutTime)==null?void 0:i.toDate().toLocaleString()})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Total Time"}),p.jsx("div",{className:"font-mono",children:qt(r.totalClockTime)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Break Time"}),p.jsx("div",{className:"font-mono",children:qt(r.accumulatedBreak)})]})]}),(r.isLate||r.isOvertime)&&p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.isLate&&p.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 text-yellow-300 p-2 rounded-lg border border-yellow-500/20",children:[p.jsx(tA,{className:"w-4 h-4"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm",children:"Late"}),p.jsxs("div",{children:[r.lateMinutes," minutes"]})]})]}),r.isOvertime&&p.jsxs("div",{className:"flex items-center gap-2 bg-blue-500/10 text-blue-400 p-2 rounded-lg border border-blue-500/20",children:[p.jsx(Dm,{className:"w-4 h-4"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm",children:"Overtime"}),p.jsxs("div",{children:[r.overtimeMinutes," minutes"]})]})]})]})]})},r.id)})})})]})}function q5({attendanceHistory:t,onRefresh:e}){return p.jsxs(Zt,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[p.jsxs(Bn,{className:"flex flex-row items-center justify-between",children:[p.jsx(Un,{children:"History"}),p.jsxs(Se,{variant:"ghost",onClick:e,className:"text-white hover:bg-white/20",children:[p.jsx(Yb,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),p.jsx(en,{children:t.length===0?p.jsx("p",{className:"text-center text-white/70 py-8",children:"No history found"}):p.jsx("div",{className:"space-y-4",children:t.map(n=>{var r,s;return p.jsx(ye.div,{whileHover:{scale:1.01},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:p.jsxs("div",{className:"grid gap-2",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"font-medium capitalize",children:n.eventType.replace(/_/g," ")}),p.jsx("span",{className:"text-sm text-white/70",children:n.timestamp.toDate().toLocaleString()})]}),n.eventType==="clockOut"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Clock In"}),p.jsx("div",{children:(r=n.clockInTime)==null?void 0:r.toDate().toLocaleString()})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Clock Out"}),p.jsx("div",{children:(s=n.clockOutTime)==null?void 0:s.toDate().toLocaleString()})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Total Time"}),p.jsx("div",{children:qt(n.totalClockTime||0)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Break Time"}),p.jsx("div",{children:qt(n.accumulatedBreak||0)})]})]}),(n.isLate||n.isOvertime)&&p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[n.isLate&&p.jsxs("div",{className:"text-yellow-400",children:[p.jsx("div",{className:"text-sm",children:"Late"}),p.jsxs("div",{children:[n.lateMinutes," minutes"]})]}),n.isOvertime&&p.jsxs("div",{className:"text-blue-400",children:[p.jsx("div",{className:"text-sm",children:"Overtime"}),p.jsxs("div",{children:[n.overtimeMinutes," minutes"]})]})]})]})]})},n.id)})})})]})}const K5=({employeeId:t,employeeName:e})=>{const[n,r]=v.useState([]),[s,i]=v.useState(""),[o,a]=v.useState(null);v.useEffect(()=>{l();const d=setInterval(l,1e4);return()=>clearInterval(d)},[t]);const l=async()=>{try{const d=ii(Oe(le,"messages"),oi("recipientId","in",[t,""])),h=await Tn(d),f=[];h.forEach(g=>{f.push({id:g.id,...g.data()})}),f.sort((g,E)=>{var w,T;return(((w=E.timestamp)==null?void 0:w.seconds)||0)-(((T=g.timestamp)==null?void 0:T.seconds)||0)}),r(f)}catch(d){console.error("Fetch messages error:",d)}},c=async d=>{if(s.trim())try{const h=at(le,"messages",d);await Vn(h,{reply:{sender:e,message:s,timestamp:de.now()}}),i(""),a(null),l()}catch(h){console.error("Error replying to message:",h)}};return p.jsxs(Zt,{className:"glassmorphism",children:[p.jsx(Bn,{children:p.jsxs(Un,{className:"text-white flex items-center gap-2",children:[p.jsx(Sl,{className:"w-6 h-6"}),"Messages"]})}),p.jsx(en,{children:p.jsx(ye.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},children:p.jsx(_I,{children:n.map((d,h)=>{var f;return p.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:h*.1},className:"border border-white/20 rounded-lg p-4 bg-white/5",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-medium text-white",children:d.sender}),p.jsx("span",{className:"text-sm text-white/50",children:(f=d.timestamp)==null?void 0:f.toDate().toLocaleString()})]}),p.jsx("p",{className:"mt-2 text-white/90",children:d.message}),d.reply?p.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 ml-4 p-3 bg-white/10 rounded-lg",children:[p.jsx("p",{className:"text-sm text-white/70",children:"Your reply:"}),p.jsx("p",{className:"mt-1 text-white",children:d.reply.message}),p.jsx("span",{className:"text-xs text-white/50",children:d.reply.timestamp.toDate().toLocaleString()})]}):p.jsx("div",{className:"mt-3",children:o===d.id?p.jsxs(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[p.jsx("textarea",{value:s,onChange:g=>i(g.target.value),placeholder:"Type your reply...",className:"w-full p-2 rounded-md bg-white/10 border-white/20 text-white placeholder:text-white/50",rows:3}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Se,{onClick:()=>c(d.id),className:"bg-white/20 hover:bg-white/30 text-white border-0",children:[p.jsx(Zb,{className:"w-4 h-4 mr-2"}),"Send Reply"]}),p.jsxs(Se,{variant:"outline",onClick:()=>{a(null),i("")},className:"border-white/20 text-white hover:bg-white/10",children:[p.jsx(D5,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):p.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>a(d.id),className:"border-white/20 text-white hover:bg-white/10",children:[p.jsx(R5,{className:"w-4 h-4 mr-2"}),"Reply"]})})]},d.id)})})})})]})};async function cd(){try{const t=await Tn(Oe(le,"departments")),e=[];t.forEach(s=>{e.push({id:s.id,...s.data()})});const n=new Date,r=`${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`;for(const s of e)if(r===s.schedule.clockIn){const i=ii(Oe(le,"employees"),oi("department","==",s.id));(await Tn(i)).forEach(async a=>{const l=a.data(),c=at(le,"status",l.employeeId);try{const d=de.now();await Vn(c,{status:"Working",stateStartTime:d,lastTimerUpdate:d})}catch(d){console.error(`Error updating status for employee ${l.employeeId}:`,d)}})}}catch(t){console.error("Error in schedule checker:",t)}}const G5=()=>{const t=localStorage.getItem("currentEmployee"),e=t?JSON.parse(t):null,[n,r]=v.useState({status:"Clocked Out",stateStartTime:null}),[s,i]=v.useState(null),[o,a]=v.useState("00:00:00"),[l,c]=v.useState("00:00:00"),[d,h]=v.useState(()=>{if(e!=null&&e.employeeId){const $=localStorage.getItem(`accumulatedBreak_${e.employeeId}`);return $?parseInt($,10):0}return 0}),[f,g]=v.useState(null),[E,w]=v.useState([]),[T,y]=v.useState([]),[x,S]=v.useState(!1),[A,k]=v.useState(null),[V,I]=v.useState(!1),[C,P]=v.useState(0),[R,D]=v.useState(!1),[M,N]=v.useState(0),Z=v.useRef(null),ue=v.useRef(null),J=v.useRef(),{toast:q}=Fo(),L=$g();v.useEffect(()=>{e!=null&&e.employeeId&&localStorage.setItem(`accumulatedBreak_${e.employeeId}`,d.toString())},[d,e==null?void 0:e.employeeId]),v.useEffect(()=>{if(e!=null&&e.employeeId){const $=localStorage.getItem(`lateStatus_${e.employeeId}`);if($){const W=JSON.parse($),K=new Date().toDateString();W.date===K?(I(W.isLate),P(W.lateMinutes)):localStorage.removeItem(`lateStatus_${e.employeeId}`)}}},[e==null?void 0:e.employeeId]);const z=v.useCallback(()=>{if(!A)return!0;const $=new Date,[W,K]=A.schedule.clockIn.split(":"),[re,fe]=A.schedule.clockOut.split(":"),dt=new Date;dt.setHours(parseInt(W),parseInt(K),0,0);const St=new Date;return St.setHours(parseInt(re),parseInt(fe),0,0),$>=dt&&$<=St},[A]),Y=v.useCallback(()=>{J.current&&J.current(),localStorage.removeItem("currentEmployee"),L("/")},[L]),ie=async()=>{if(!(e!=null&&e.employeeId))return;const $=de.now();i($.toDate());try{await yn(Oe(le,"attendance"),{employeeId:e.employeeId,eventType:"clockIn",timestamp:$});const K={status:z()?"Working":"Standby",stateStartTime:$,employeeId:e.employeeId,clockInTime:$};if(await RO(at(le,"status",e.employeeId),K),r(K),A){const[re,fe]=A.schedule.clockIn.split(":"),dt=new Date;dt.setHours(parseInt(re),parseInt(fe),0,0);const St=$.toDate().getTime(),ar=dt.getTime(),Dr=Math.floor((St-ar)/(1e3*60));if(Dr>A.schedule.gracePeriod){const lr={isLate:!0,lateMinutes:Dr,date:new Date().toDateString()};localStorage.setItem(`lateStatus_${e.employeeId}`,JSON.stringify(lr)),I(!0),P(Dr),q({title:"Late Clock In",description:`You are ${Dr} minutes late`,variant:"destructive"})}}}catch(W){console.error("Clock in error:",W),q({title:"Error",description:"Failed to clock in",variant:"destructive"})}},ge=async()=>{if(!(e!=null&&e.employeeId))return;const $=de.now();try{if(f&&n.status!=="Working"&&n.status!=="Clocked Out"){const K=Date.now()-f.getTime();h(re=>re+K)}const W={employeeId:e.employeeId,eventType:"clockOut",timestamp:$,clockInTime:s?de.fromDate(s):null,clockOutTime:$,totalClockTime:s?Date.now()-s.getTime():0,accumulatedBreak:d,isLate:V,lateMinutes:C,isOvertime:R,overtimeMinutes:M,department:e.department||null};await yn(Oe(le,"attendance"),W),await yn(Oe(le,"attendanceSummary"),{...W,date:$}),r({status:"Clocked Out",stateStartTime:null}),await Jd(at(le,"status",e.employeeId)),i(null),a("00:00:00"),c("00:00:00"),g(null),localStorage.removeItem(`accumulatedBreak_${e.employeeId}`),h(0),localStorage.removeItem(`lateStatus_${e.employeeId}`),I(!1),P(0),D(!1),N(0),q({title:"Success",description:"Successfully clocked out"})}catch(W){console.error("Clock out error:",W),q({title:"Error",description:"Failed to clock out",variant:"destructive"})}},Ie=async $=>{if(!(e!=null&&e.employeeId)||!s)return;const W=de.now();try{if(n.status==="Working"){c("00:00:00"),await yn(Oe(le,"attendance"),{employeeId:e.employeeId,eventType:"start_"+$.replace(/ /g,""),timestamp:W});const K={status:$,stateStartTime:W,employeeId:e.employeeId,clockInTime:de.fromDate(s)};await Vn(at(le,"status",e.employeeId),K),r(K),g(W.toDate())}else if(n.status===$){if(f){const re=Date.now()-f.getTime();h(fe=>fe+re)}await yn(Oe(le,"attendance"),{employeeId:e.employeeId,eventType:"end_"+$.replace(/ /g,""),timestamp:W});const K={status:z()?"Working":"Standby",stateStartTime:W,employeeId:e.employeeId,clockInTime:de.fromDate(s)};await Vn(at(le,"status",e.employeeId),K),r(K),g(null)}}catch(K){console.error("Toggle break error:",K),q({title:"Error",description:"Failed to toggle break status",variant:"destructive"})}},Ge=async()=>{if(!(e!=null&&e.employeeId)||!s)return;const $=de.now();try{if(n.status==="Working"){await yn(Oe(le,"attendance"),{employeeId:e.employeeId,eventType:"start_standby",timestamp:$});const W={status:"Standby",stateStartTime:$,employeeId:e.employeeId,clockInTime:de.fromDate(s)};await Vn(at(le,"status",e.employeeId),W),r(W)}else if(n.status==="Standby"){await yn(Oe(le,"attendance"),{employeeId:e.employeeId,eventType:"end_standby",timestamp:$});const W={status:"Working",stateStartTime:$,employeeId:e.employeeId,clockInTime:de.fromDate(s)};await Vn(at(le,"status",e.employeeId),W),r(W)}}catch(W){console.error("Toggle standby error:",W),q({title:"Error",description:"Failed to toggle standby status",variant:"destructive"})}},ut=async()=>{if(!(e!=null&&e.employeeId)||!s)return;const $=de.now();try{await yn(Oe(le,"attendance"),{employeeId:e.employeeId,eventType:"resumeWorking",timestamp:$});const W={status:z()?"Working":"Standby",stateStartTime:$,employeeId:e.employeeId,clockInTime:de.fromDate(s)};await Vn(at(le,"status",e.employeeId),W),r(W)}catch(W){console.error("Resume working error:",W),q({title:"Error",description:"Failed to resume working",variant:"destructive"})}},ot=$=>{switch($){case"Working":return"bg-green-500/10 border-green-500/30";case"Working Idle":return"bg-red-500/10 border-red-500/30";case"Standby":return"bg-purple-500/10 border-purple-500/30";case"Lunch":case"Small Break":return"bg-blue-500/10 border-blue-500/30";case"Pee Break 1":case"Pee Break 2":return"bg-red-500/10 border-red-500/30";default:return"bg-white/5 border-white/20"}},ee=$=>n.status==="Clocked Out"||n.status==="Standby"?{visible:!1,active:!1,disabled:!0}:n.status==="Working"?{visible:!0,active:!1,disabled:!1}:{visible:!0,active:n.status===$,disabled:n.status!==$},Ce=async()=>{if(e!=null&&e.employeeId){S(!0);try{const $=ii(Oe(le,"attendanceSummary"),oi("employeeId","==",e.employeeId)),W=await Tn($),K=[];W.forEach(re=>{K.push({id:re.id,...re.data()})}),K.sort((re,fe)=>fe.date.seconds-re.date.seconds),y(K),q({title:"Success",description:"Attendance summary refreshed",duration:2e3})}catch($){console.error("Error fetching attendance summaries:",$),q({title:"Error",description:"Failed to refresh attendance summary",variant:"destructive"})}finally{S(!1)}}},Je=v.useCallback(async()=>{if(e!=null&&e.employeeId)try{const $=ii(Oe(le,"attendance"),oi("employeeId","==",e.employeeId)),W=await Tn($),K=[];W.forEach(re=>{K.push({id:re.id,...re.data()})}),K.sort((re,fe)=>fe.timestamp.seconds-re.timestamp.seconds),w(K)}catch($){console.error("Fetch attendance history error:",$)}},[e==null?void 0:e.employeeId]);return v.useEffect(()=>{if(!(e!=null&&e.employeeId))return;(async()=>{var re;const K=await Kx(at(le,"status",e.employeeId));if(K.exists()){const fe=K.data();r({status:fe.status||"Clocked Out",stateStartTime:fe.stateStartTime||null,employeeId:fe.employeeId,clockInTime:fe.clockInTime}),fe.clockInTime&&i(fe.clockInTime.toDate()),fe.status!=="Working"&&fe.status!=="Clocked Out"&&g(((re=fe.stateStartTime)==null?void 0:re.toDate())||null)}})(),Je(),Ce();const W=WC(at(le,"status",e.employeeId),K=>{if(K.exists()){const re=K.data();re.shouldBuzz&&(Z.current&&Z.current.play().catch(console.error),Vn(K.ref,{shouldBuzz:!1}),q({title:"Admin Notification",description:"The admin has requested your attention",duration:5e3})),r({status:re.status||"Clocked Out",stateStartTime:re.stateStartTime||null,employeeId:re.employeeId,clockInTime:re.clockInTime}),re.clockInTime&&i(re.clockInTime.toDate())}});return J.current=W,()=>W()},[e==null?void 0:e.employeeId]),v.useEffect(()=>{const $=setInterval(()=>{const W=new Date;if(s){const K=W.getTime()-s.getTime();if(a(qt(K)),A&&n.status==="Working"){const[re,fe]=A.schedule.clockOut.split(":"),dt=new Date;dt.setHours(parseInt(re),parseInt(fe),0,0);const St=Math.floor((W.getTime()-dt.getTime())/(1e3*60));St>A.schedule.overtimeThreshold&&(D(!0),N(St))}}if(n.status!=="Working"&&n.status!=="Clocked Out"&&f){const K=W.getTime()-f.getTime();c(qt(K))}(n.status==="Working"&&!z()||n.status==="Standby"&&z())&&Ge()},1e3);return()=>clearInterval($)},[s,n,d,A,f]),v.useEffect(()=>{(async()=>{if(e!=null&&e.department)try{const W=await Kx(at(le,"departments",e.department));W.exists()&&k(W.data())}catch(W){console.error("Error fetching department info:",W),q({title:"Error",description:"Failed to fetch department schedule",variant:"destructive"})}})()},[e==null?void 0:e.department]),v.useEffect(()=>{const $=setInterval(()=>{cd()},6e4);return cd(),()=>clearInterval($)},[]),p.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600",children:[p.jsx("audio",{ref:Z,src:"/buzz.wav"}),p.jsx("audio",{ref:ue,src:"/buzz2.wav"}),p.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[p.jsx(U5,{currentEmployee:e,onLogout:Y}),p.jsx("main",{className:"flex-1 p-4",children:p.jsxs(fv,{defaultValue:"dashboard",className:"w-full",children:[p.jsxs(lh,{className:"w-full grid grid-cols-4 gap-1 bg-black/10 p-1 rounded-lg backdrop-blur-md",children:[p.jsxs(xn,{value:"dashboard",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(ch,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),p.jsxs(xn,{value:"attendance",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Attendance"]}),p.jsxs(xn,{value:"messages",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Messages"]}),p.jsxs(xn,{value:"history",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(Yb,{className:"w-4 h-4 mr-2"}),"History"]})]}),p.jsx(_n,{value:"dashboard",children:p.jsx(W5,{employeeStatus:n,clockInTimer:o,breakTimer:l,accumulatedBreakMs:d,currentDepartment:A,isLate:V,lateMinutes:C,isOvertime:R,overtimeMinutes:M,onClockIn:ie,onClockOut:ge,onToggleBreak:Ie,onResumeWorking:ut,onToggleStandby:Ge,getStatusColor:ot,getBreakButtonState:ee})}),p.jsx(_n,{value:"attendance",children:p.jsx(H5,{attendanceSummaries:T,isLoading:x,onRefresh:Ce})}),p.jsx(_n,{value:"messages",children:e&&p.jsx(K5,{employeeId:e.employeeId,employeeName:e.name})}),p.jsx(_n,{value:"history",children:p.jsx(q5,{attendanceHistory:E,onRefresh:Je})})]})})]})]})};function Kl(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Q5=["color"],Y5=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Kl(t,Q5);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),v.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),X5=["color"],iA=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Kl(t,X5);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),v.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),J5=["color"],Z5=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Kl(t,J5);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),v.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),e6=["color"],t6=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Kl(t,e6);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),v.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),n6=["color"],r6=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Kl(t,n6);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),v.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function g_(t,[e,n]){return Math.min(n,Math.max(e,t))}function s6(t,e=globalThis==null?void 0:globalThis.document){const n=sr(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var i6="DismissableLayer",Mm="dismissableLayer.update",o6="dismissableLayer.pointerDownOutside",a6="dismissableLayer.focusOutside",y_,oA=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gv=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(oA),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),E=Ke(e,I=>h(I)),w=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=w.indexOf(T),x=d?w.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=x>=y,k=u6(I=>{const C=I.target,P=[...c.branches].some(R=>R.contains(C));!A||P||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),V=d6(I=>{const C=I.target;[...c.branches].some(R=>R.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return s6(I=>{x===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(y_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),v_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=y_)}},[d,f,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),v_())},[d,c]),v.useEffect(()=>{const I=()=>g({});return document.addEventListener(Mm,I),()=>document.removeEventListener(Mm,I)},[]),p.jsx(we.div,{...l,ref:E,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,k.onPointerDownCapture)})});gv.displayName=i6;var l6="DismissableLayerBranch",c6=v.forwardRef((t,e)=>{const n=v.useContext(oA),r=v.useRef(null),s=Ke(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(we.div,{...t,ref:s})});c6.displayName=l6;function u6(t,e=globalThis==null?void 0:globalThis.document){const n=sr(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){aA(o6,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function d6(t,e=globalThis==null?void 0:globalThis.document){const n=sr(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&aA(a6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function v_(){const t=new CustomEvent(Mm);document.dispatchEvent(t)}function aA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?QO(s,i):s.dispatchEvent(i)}var Lf=0;function lA(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??w_()),document.body.insertAdjacentElement("beforeend",t[1]??w_()),Lf++,()=>{Lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lf--}},[])}function w_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ff="focusScope.autoFocusOnMount",Bf="focusScope.autoFocusOnUnmount",x_={bubbles:!1,cancelable:!0},h6="FocusScope",yv=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=sr(s),d=sr(i),h=v.useRef(null),f=Ke(e,w=>l(w)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(S){if(g.paused||!a)return;const A=S.target;a.contains(A)?h.current=A:$r(h.current,{select:!0})},T=function(S){if(g.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||$r(h.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&$r(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",T);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",T),x.disconnect()}}},[r,a,g.paused]),v.useEffect(()=>{if(a){E_.add(g);const w=document.activeElement;if(!a.contains(w)){const y=new CustomEvent(Ff,x_);a.addEventListener(Ff,c),a.dispatchEvent(y),y.defaultPrevented||(f6(v6(cA(a)),{select:!0}),document.activeElement===w&&$r(a))}return()=>{a.removeEventListener(Ff,c),setTimeout(()=>{const y=new CustomEvent(Bf,x_);a.addEventListener(Bf,d),a.dispatchEvent(y),y.defaultPrevented||$r(w??document.body,{select:!0}),a.removeEventListener(Bf,d),E_.remove(g)},0)}}},[a,c,d,g]);const E=v.useCallback(w=>{if(!n&&!r||g.paused)return;const T=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,y=document.activeElement;if(T&&y){const x=w.currentTarget,[S,A]=p6(x);S&&A?!w.shiftKey&&y===A?(w.preventDefault(),n&&$r(S,{select:!0})):w.shiftKey&&y===S&&(w.preventDefault(),n&&$r(A,{select:!0})):y===x&&w.preventDefault()}},[n,r,g.paused]);return p.jsx(we.div,{tabIndex:-1,...o,ref:f,onKeyDown:E})});yv.displayName=h6;function f6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($r(r,{select:e}),document.activeElement!==n)return}function p6(t){const e=cA(t),n=__(e,t),r=__(e.reverse(),t);return[n,r]}function cA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function __(t,e){for(const n of t)if(!m6(n,{upTo:e}))return n}function m6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function g6(t){return t instanceof HTMLInputElement&&"select"in t}function $r(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&g6(t)&&e&&t.select()}}var E_=y6();function y6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=T_(t,e),t.unshift(e)},remove(e){var n;t=T_(t,e),(n=t[0])==null||n.resume()}}}function T_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function v6(t){return t.filter(e=>e.tagName!=="A")}const w6=["top","right","bottom","left"],ws=Math.min,rn=Math.max,ud=Math.round,Lc=Math.floor,xs=t=>({x:t,y:t}),x6={left:"right",right:"left",bottom:"top",top:"bottom"},_6={start:"end",end:"start"};function Vm(t,e,n){return rn(t,ws(e,n))}function Rr(t,e){return typeof t=="function"?t(e):t}function kr(t){return t.split("-")[0]}function Bo(t){return t.split("-")[1]}function vv(t){return t==="x"?"y":"x"}function wv(t){return t==="y"?"height":"width"}function _s(t){return["top","bottom"].includes(kr(t))?"y":"x"}function xv(t){return vv(_s(t))}function E6(t,e,n){n===void 0&&(n=!1);const r=Bo(t),s=xv(t),i=wv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=dd(o)),[o,dd(o)]}function T6(t){const e=dd(t);return[jm(t),e,jm(e)]}function jm(t){return t.replace(/start|end/g,e=>_6[e])}function S6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function C6(t,e,n,r){const s=Bo(t);let i=S6(kr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(jm)))),i}function dd(t){return t.replace(/left|right|bottom|top/g,e=>x6[e])}function I6(t){return{top:0,right:0,bottom:0,left:0,...t}}function uA(t){return typeof t!="number"?I6(t):{top:t,right:t,bottom:t,left:t}}function hd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function S_(t,e,n){let{reference:r,floating:s}=t;const i=_s(e),o=xv(e),a=wv(o),l=kr(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Bo(e)){case"start":g[o]-=f*(n&&c?-1:1);break;case"end":g[o]+=f*(n&&c?-1:1);break}return g}const b6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=S_(c,r,l),f=r,g={},E=0;for(let w=0;w<a.length;w++){const{name:T,fn:y}=a[w],{x,y:S,data:A,reset:k}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=S??h,g={...g,[T]:{...g[T],...A}},k&&E<=50&&(E++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:h}=S_(c,f,l)),w=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:g}};async function Cl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=Rr(e,t),E=uA(g),T=a[f?h==="floating"?"reference":"floating":h],y=hd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},k=hd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:S,strategy:l}):x);return{top:(y.top-k.top+E.top)/A.y,bottom:(k.bottom-y.bottom+E.bottom)/A.y,left:(y.left-k.left+E.left)/A.x,right:(k.right-y.right+E.right)/A.x}}const A6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Rr(t,e)||{};if(c==null)return{};const h=uA(d),f={x:n,y:r},g=xv(s),E=wv(g),w=await o.getDimensions(c),T=g==="y",y=T?"top":"left",x=T?"bottom":"right",S=T?"clientHeight":"clientWidth",A=i.reference[E]+i.reference[g]-f[g]-i.floating[E],k=f[g]-i.reference[g],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=V?V[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(V)))&&(I=a.floating[S]||i.floating[E]);const C=A/2-k/2,P=I/2-w[E]/2-1,R=ws(h[y],P),D=ws(h[x],P),M=R,N=I-w[E]-D,Z=I/2-w[E]/2+C,ue=Vm(M,Z,N),J=!l.arrow&&Bo(s)!=null&&Z!==ue&&i.reference[E]/2-(Z<M?R:D)-w[E]/2<0,q=J?Z<M?Z-M:Z-N:0;return{[g]:f[g]+q,data:{[g]:ue,centerOffset:Z-ue-q,...J&&{alignmentOffset:q}},reset:J}}}),P6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...T}=Rr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=kr(s),x=_s(a),S=kr(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(S||!w?[dd(a)]:T6(a)),V=E!=="none";!f&&V&&k.push(...C6(a,w,E,A));const I=[a,...k],C=await Cl(e,T),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(C[y]),h){const Z=E6(s,o,A);P.push(C[Z[0]],C[Z[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(Z=>Z<=0)){var D,M;const Z=(((D=i.flip)==null?void 0:D.index)||0)+1,ue=I[Z];if(ue)return{data:{index:Z,overflows:R},reset:{placement:ue}};let J=(M=R.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:M.placement;if(!J)switch(g){case"bestFit":{var N;const q=(N=R.filter(L=>{if(V){const z=_s(L.placement);return z===x||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:N[0];q&&(J=q);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function C_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function I_(t){return w6.some(e=>t[e]>=0)}const R6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Rr(t,e);switch(r){case"referenceHidden":{const i=await Cl(e,{...s,elementContext:"reference"}),o=C_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:I_(o)}}}case"escaped":{const i=await Cl(e,{...s,altBoundary:!0}),o=C_(i,n.floating);return{data:{escapedOffsets:o,escaped:I_(o)}}}default:return{}}}}};async function k6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=kr(n),a=Bo(n),l=_s(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Rr(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:E}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof E=="number"&&(g=a==="end"?E*-1:E),l?{x:g*d,y:f*c}:{x:f*c,y:g*d}}const N6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await k6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},D6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:y,y:x}=T;return{x:y,y:x}}},...l}=Rr(t,e),c={x:n,y:r},d=await Cl(e,l),h=_s(kr(s)),f=vv(h);let g=c[f],E=c[h];if(i){const T=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=g+d[T],S=g-d[y];g=Vm(x,g,S)}if(o){const T=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=E+d[T],S=E-d[y];E=Vm(x,E,S)}const w=a.fn({...e,[f]:g,[h]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[f]:i,[h]:o}}}}}},M6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Rr(t,e),d={x:n,y:r},h=_s(s),f=vv(h);let g=d[f],E=d[h];const w=Rr(a,e),T=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const S=f==="y"?"height":"width",A=i.reference[f]-i.floating[S]+T.mainAxis,k=i.reference[f]+i.reference[S]-T.mainAxis;g<A?g=A:g>k&&(g=k)}if(c){var y,x;const S=f==="y"?"width":"height",A=["top","left"].includes(kr(s)),k=i.reference[h]-i.floating[S]+(A&&((y=o.offset)==null?void 0:y[h])||0)+(A?0:T.crossAxis),V=i.reference[h]+i.reference[S]+(A?0:((x=o.offset)==null?void 0:x[h])||0)-(A?T.crossAxis:0);E<k?E=k:E>V&&(E=V)}return{[f]:g,[h]:E}}}},V6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Rr(t,e),d=await Cl(e,c),h=kr(s),f=Bo(s),g=_s(s)==="y",{width:E,height:w}=i.floating;let T,y;h==="top"||h==="bottom"?(T=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,T=f==="end"?"top":"bottom");const x=w-d.top-d.bottom,S=E-d.left-d.right,A=ws(w-d[T],x),k=ws(E-d[y],S),V=!e.middlewareData.shift;let I=A,C=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=x),V&&!f){const R=rn(d.left,0),D=rn(d.right,0),M=rn(d.top,0),N=rn(d.bottom,0);g?C=E-2*(R!==0||D!==0?R+D:rn(d.left,d.right)):I=w-2*(M!==0||N!==0?M+N:rn(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:I});const P=await o.getDimensions(a.floating);return E!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function uh(){return typeof window<"u"}function Uo(t){return dA(t)?(t.nodeName||"").toLowerCase():"#document"}function un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function or(t){var e;return(e=(dA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dA(t){return uh()?t instanceof Node||t instanceof un(t).Node:!1}function zn(t){return uh()?t instanceof Element||t instanceof un(t).Element:!1}function ir(t){return uh()?t instanceof HTMLElement||t instanceof un(t).HTMLElement:!1}function b_(t){return!uh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof un(t).ShadowRoot}function Gl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function j6(t){return["table","td","th"].includes(Uo(t))}function dh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function _v(t){const e=Ev(),n=zn(t)?$n(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function O6(t){let e=Es(t);for(;ir(e)&&!Co(e);){if(_v(e))return e;if(dh(e))return null;e=Es(e)}return null}function Ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Co(t){return["html","body","#document"].includes(Uo(t))}function $n(t){return un(t).getComputedStyle(t)}function hh(t){return zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Es(t){if(Uo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||b_(t)&&t.host||or(t);return b_(e)?e.host:e}function hA(t){const e=Es(t);return Co(e)?t.ownerDocument?t.ownerDocument.body:t.body:ir(e)&&Gl(e)?e:hA(e)}function Il(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=hA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=un(s);if(i){const a=Om(o);return e.concat(o,o.visualViewport||[],Gl(s)?s:[],a&&n?Il(a):[])}return e.concat(s,Il(s,[],n))}function Om(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fA(t){const e=$n(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ud(n)!==i||ud(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Tv(t){return zn(t)?t:t.contextElement}function so(t){const e=Tv(t);if(!ir(e))return xs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=fA(e);let o=(i?ud(n.width):n.width)/r,a=(i?ud(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const L6=xs(0);function pA(t){const e=un(t);return!Ev()||!e.visualViewport?L6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function F6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==un(t)?!1:e}function li(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Tv(t);let o=xs(1);e&&(r?zn(r)&&(o=so(r)):o=so(t));const a=F6(i,n,r)?pA(i):xs(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=un(i),g=r&&zn(r)?un(r):r;let E=f,w=Om(E);for(;w&&r&&g!==E;){const T=so(w),y=w.getBoundingClientRect(),x=$n(w),S=y.left+(w.clientLeft+parseFloat(x.paddingLeft))*T.x,A=y.top+(w.clientTop+parseFloat(x.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,h*=T.y,l+=S,c+=A,E=un(w),w=Om(E)}}return hd({width:d,height:h,x:l,y:c})}function B6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=or(r),a=e?dh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=xs(1);const d=xs(0),h=ir(r);if((h||!h&&!i)&&((Uo(r)!=="body"||Gl(o))&&(l=hh(r)),ir(r))){const f=li(r);c=so(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function U6(t){return Array.from(t.getClientRects())}function Lm(t,e){const n=hh(t).scrollLeft;return e?e.left+n:li(or(t)).left+n}function z6(t){const e=or(t),n=hh(t),r=t.ownerDocument.body,s=rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lm(t);const a=-n.scrollTop;return $n(r).direction==="rtl"&&(o+=rn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function $6(t,e){const n=un(t),r=or(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Ev();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function W6(t,e){const n=li(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ir(t)?so(t):xs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function A_(t,e,n){let r;if(e==="viewport")r=$6(t,n);else if(e==="document")r=z6(or(t));else if(zn(e))r=W6(e,n);else{const s=pA(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return hd(r)}function mA(t,e){const n=Es(t);return n===e||!zn(n)||Co(n)?!1:$n(n).position==="fixed"||mA(n,e)}function H6(t,e){const n=e.get(t);if(n)return n;let r=Il(t,[],!1).filter(a=>zn(a)&&Uo(a)!=="body"),s=null;const i=$n(t).position==="fixed";let o=i?Es(t):t;for(;zn(o)&&!Co(o);){const a=$n(o),l=_v(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gl(o)&&!l&&mA(t,o))?r=r.filter(d=>d!==o):s=a,o=Es(o)}return e.set(t,r),r}function q6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?dh(e)?[]:H6(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=A_(e,d,s);return c.top=rn(h.top,c.top),c.right=ws(h.right,c.right),c.bottom=ws(h.bottom,c.bottom),c.left=rn(h.left,c.left),c},A_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function K6(t){const{width:e,height:n}=fA(t);return{width:e,height:n}}function G6(t,e,n){const r=ir(e),s=or(e),i=n==="fixed",o=li(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=xs(0);if(r||!r&&!i)if((Uo(e)!=="body"||Gl(s))&&(a=hh(e)),r){const g=li(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Lm(s));let c=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-Lm(s,g)}const h=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Uf(t){return $n(t).position==="static"}function P_(t,e){if(!ir(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return or(t)===n&&(n=n.ownerDocument.body),n}function gA(t,e){const n=un(t);if(dh(t))return n;if(!ir(t)){let s=Es(t);for(;s&&!Co(s);){if(zn(s)&&!Uf(s))return s;s=Es(s)}return n}let r=P_(t,e);for(;r&&j6(r)&&Uf(r);)r=P_(r,e);return r&&Co(r)&&Uf(r)&&!_v(r)?n:r||O6(t)||n}const Q6=async function(t){const e=this.getOffsetParent||gA,n=this.getDimensions,r=await n(t.floating);return{reference:G6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y6(t){return $n(t).direction==="rtl"}const X6={convertOffsetParentRelativeRectToViewportRelativeRect:B6,getDocumentElement:or,getClippingRect:q6,getOffsetParent:gA,getElementRects:Q6,getClientRects:U6,getDimensions:K6,getScale:so,isElement:zn,isRTL:Y6};function J6(t,e){let n=null,r;const s=or(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const g=Lc(d),E=Lc(s.clientWidth-(c+h)),w=Lc(s.clientHeight-(d+f)),T=Lc(c),x={rootMargin:-g+"px "+-E+"px "+-w+"px "+-T+"px",threshold:rn(0,ws(1,l))||1};let S=!0;function A(k){const V=k[0].intersectionRatio;if(V!==l){if(!S)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(A,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(t)}return o(!0),i}function Z6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Tv(t),d=s||i?[...c?Il(c):[],...Il(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=c&&a?J6(c,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let E,w=l?li(t):null;l&&T();function T(){const y=li(t);w&&(y.x!==w.x||y.y!==w.y||y.width!==w.width||y.height!==w.height)&&n(),w=y,E=requestAnimationFrame(T)}return n(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,l&&cancelAnimationFrame(E)}}const eB=N6,tB=D6,nB=P6,rB=V6,sB=R6,R_=A6,iB=M6,oB=(t,e,n)=>{const r=new Map,s={platform:X6,...n},i={...s.platform,_c:r};return b6(t,e,{...s,platform:i})};var hu=typeof document<"u"?v.useLayoutEffect:v.useEffect;function fd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!fd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function k_(t,e){const n=yA(t);return Math.round(e*n)/n}function zf(t){const e=v.useRef(t);return hu(()=>{e.current=t}),e}function aB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=v.useState(r);fd(f,r)||g(r);const[E,w]=v.useState(null),[T,y]=v.useState(null),x=v.useCallback(L=>{L!==V.current&&(V.current=L,w(L))},[]),S=v.useCallback(L=>{L!==I.current&&(I.current=L,y(L))},[]),A=i||E,k=o||T,V=v.useRef(null),I=v.useRef(null),C=v.useRef(d),P=l!=null,R=zf(l),D=zf(s),M=zf(c),N=v.useCallback(()=>{if(!V.current||!I.current)return;const L={placement:e,strategy:n,middleware:f};D.current&&(L.platform=D.current),oB(V.current,I.current,L).then(z=>{const Y={...z,isPositioned:M.current!==!1};Z.current&&!fd(C.current,Y)&&(C.current=Y,Po.flushSync(()=>{h(Y)}))})},[f,e,n,D,M]);hu(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[c]);const Z=v.useRef(!1);hu(()=>(Z.current=!0,()=>{Z.current=!1}),[]),hu(()=>{if(A&&(V.current=A),k&&(I.current=k),A&&k){if(R.current)return R.current(A,k,N);N()}},[A,k,N,R,P]);const ue=v.useMemo(()=>({reference:V,floating:I,setReference:x,setFloating:S}),[x,S]),J=v.useMemo(()=>({reference:A,floating:k}),[A,k]),q=v.useMemo(()=>{const L={position:n,left:0,top:0};if(!J.floating)return L;const z=k_(J.floating,d.x),Y=k_(J.floating,d.y);return a?{...L,transform:"translate("+z+"px, "+Y+"px)",...yA(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Y}},[n,a,J.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:N,refs:ue,elements:J,floatingStyles:q}),[d,N,ue,J,q])}const lB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?R_({element:r.current,padding:s}).fn(n):{}:r?R_({element:r,padding:s}).fn(n):{}}}},cB=(t,e)=>({...eB(t),options:[t,e]}),uB=(t,e)=>({...tB(t),options:[t,e]}),dB=(t,e)=>({...iB(t),options:[t,e]}),hB=(t,e)=>({...nB(t),options:[t,e]}),fB=(t,e)=>({...rB(t),options:[t,e]}),pB=(t,e)=>({...sB(t),options:[t,e]}),mB=(t,e)=>({...lB(t),options:[t,e]});var gB="Arrow",vA=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(we.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});vA.displayName=gB;var yB=vA;function vB(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:g,...E}=h,w=(f==null?void 0:f[t][l])||a,T=v.useMemo(()=>E,Object.values(E));return p.jsx(w.Provider,{value:T,children:g})}function d(h,f){const g=(f==null?void 0:f[t][l])||a,E=v.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wB(s,...e)]}function wB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function wA(t){const[e,n]=v.useState(void 0);return zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Sv="Popper",[xA,_A]=vB(Sv),[xB,EA]=xA(Sv),TA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return p.jsx(xB,{scope:e,anchor:r,onAnchorChange:s,children:n})};TA.displayName=Sv;var SA="PopperAnchor",CA=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=EA(SA,n),o=v.useRef(null),a=Ke(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(we.div,{...s,ref:a})});CA.displayName=SA;var Cv="PopperContent",[_B,EB]=xA(Cv),IA=v.forwardRef((t,e)=>{var ee,Ce,Je,$,W,K;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:E,...w}=t,T=EA(Cv,n),[y,x]=v.useState(null),S=Ke(e,re=>x(re)),[A,k]=v.useState(null),V=wA(A),I=(V==null?void 0:V.width)??0,C=(V==null?void 0:V.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,N={padding:R,boundary:D.filter(SB),altBoundary:M},{refs:Z,floatingStyles:ue,placement:J,isPositioned:q,middlewareData:L}=aB({strategy:"fixed",placement:P,whileElementsMounted:(...re)=>Z6(...re,{animationFrame:g==="always"}),elements:{reference:T.anchor},middleware:[cB({mainAxis:s+C,alignmentAxis:o}),l&&uB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?dB():void 0,...N}),l&&hB({...N}),fB({...N,apply:({elements:re,rects:fe,availableWidth:dt,availableHeight:St})=>{const{width:ar,height:Dr}=fe.reference,lr=re.floating.style;lr.setProperty("--radix-popper-available-width",`${dt}px`),lr.setProperty("--radix-popper-available-height",`${St}px`),lr.setProperty("--radix-popper-anchor-width",`${ar}px`),lr.setProperty("--radix-popper-anchor-height",`${Dr}px`)}}),A&&mB({element:A,padding:a}),CB({arrowWidth:I,arrowHeight:C}),f&&pB({strategy:"referenceHidden",...N})]}),[z,Y]=PA(J),ie=sr(E);zt(()=>{q&&(ie==null||ie())},[q,ie]);const ge=(ee=L.arrow)==null?void 0:ee.x,Ie=(Ce=L.arrow)==null?void 0:Ce.y,Ge=((Je=L.arrow)==null?void 0:Je.centerOffset)!==0,[ut,ot]=v.useState();return zt(()=>{y&&ot(window.getComputedStyle(y).zIndex)},[y]),p.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:q?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[($=L.transformOrigin)==null?void 0:$.x,(W=L.transformOrigin)==null?void 0:W.y].join(" "),...((K=L.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(_B,{scope:n,placedSide:z,onArrowChange:k,arrowX:ge,arrowY:Ie,shouldHideArrow:Ge,children:p.jsx(we.div,{"data-side":z,"data-align":Y,...w,ref:S,style:{...w.style,animation:q?void 0:"none"}})})})});IA.displayName=Cv;var bA="PopperArrow",TB={top:"bottom",right:"left",bottom:"top",left:"right"},AA=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=EB(bA,r),o=TB[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(yB,{...s,ref:n,style:{...s.style,display:"block"}})})});AA.displayName=bA;function SB(t){return t!==null}var CB=t=>({name:"transformOrigin",options:t,fn(e){var T,y,x;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=PA(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let E="",w="";return c==="bottom"?(E=o?h:`${f}px`,w=`${-l}px`):c==="top"?(E=o?h:`${f}px`,w=`${r.floating.height+l}px`):c==="right"?(E=`${-l}px`,w=o?h:`${g}px`):c==="left"&&(E=`${r.floating.width+l}px`,w=o?h:`${g}px`),{data:{x:E,y:w}}}});function PA(t){const[e,n="center"]=t.split("-");return[e,n]}var IB=TA,bB=CA,AB=IA,PB=AA,RB="Portal",Iv=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);zt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?rN.createPortal(p.jsx(we.div,{...r,ref:e}),o):null});Iv.displayName=RB;function RA(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var kB="VisuallyHidden",kA=v.forwardRef((t,e)=>p.jsx(we.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kA.displayName=kB;var NB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ci=new WeakMap,Fc=new WeakMap,Bc={},$f=0,NA=function(t){return t&&(t.host||NA(t.parentNode))},DB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MB=function(t,e,n,r){var s=DB(e,Array.isArray(t)?t:[t]);Bc[n]||(Bc[n]=new WeakMap);var i=Bc[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var g=f.getAttribute(r),E=g!==null&&g!=="false",w=(Ci.get(f)||0)+1,T=(i.get(f)||0)+1;Ci.set(f,w),i.set(f,T),o.push(f),w===1&&E&&Fc.set(f,!0),T===1&&f.setAttribute(n,"true"),E||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(e),a.clear(),$f++,function(){o.forEach(function(h){var f=Ci.get(h)-1,g=i.get(h)-1;Ci.set(h,f),i.set(h,g),f||(Fc.has(h)||h.removeAttribute(r),Fc.delete(h)),g||h.removeAttribute(n)}),$f--,$f||(Ci=new WeakMap,Ci=new WeakMap,Fc=new WeakMap,Bc={})}},DA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=NB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),MB(r,s,n,"aria-hidden")):function(){return null}},Qn=function(){return Qn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qn.apply(this,arguments)};function MA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var fu="right-scroll-bar-position",pu="width-before-scroll-bar",jB="with-scroll-bars-hidden",OB="--removed-body-scroll-bar-size";function Wf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function LB(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var FB=typeof window<"u"?v.useLayoutEffect:v.useEffect,N_=new WeakMap;function BB(t,e){var n=LB(null,function(r){return t.forEach(function(s){return Wf(s,r)})});return FB(function(){var r=N_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Wf(a,null)}),i.forEach(function(a){s.has(a)||Wf(a,o)})}N_.set(n,t)},[t]),n}function UB(t){return t}function zB(t,e){e===void 0&&(e=UB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function $B(t){t===void 0&&(t={});var e=zB(null);return e.options=Qn({async:!0,ssr:!1},t),e}var VA=function(t){var e=t.sideCar,n=MA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Qn({},n))};VA.isSideCarExport=!0;function WB(t,e){return t.useMedium(e),VA}var jA=$B(),Hf=function(){},fh=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Hf,onWheelCapture:Hf,onTouchMoveCapture:Hf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,E=t.inert,w=t.allowPinchZoom,T=t.as,y=T===void 0?"div":T,x=t.gapMode,S=MA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,k=BB([n,e]),V=Qn(Qn({},S),s);return v.createElement(v.Fragment,null,d&&v.createElement(A,{sideCar:jA,removeScrollBar:c,shards:h,noIsolation:g,inert:E,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:x}),o?v.cloneElement(v.Children.only(a),Qn(Qn({},V),{ref:k})):v.createElement(y,Qn({},V,{className:l,ref:k}),a))});fh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fh.classNames={fullWidth:pu,zeroRight:fu};var HB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=HB();return e&&t.setAttribute("nonce",e),t}function KB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function GB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var QB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=qB())&&(KB(e,n),GB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},YB=function(){var t=QB();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},OA=function(){var t=YB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},XB={left:0,top:0,right:0,gap:0},qf=function(t){return parseInt(t||"",10)||0},JB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[qf(n),qf(r),qf(s)]},ZB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return XB;var e=JB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},eU=OA(),io="data-scroll-locked",tU=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(io,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fu," .").concat(fu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pu," .").concat(pu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(io,`] {
    `).concat(OB,": ").concat(a,`px;
  }
`)},D_=function(){var t=parseInt(document.body.getAttribute(io)||"0",10);return isFinite(t)?t:0},nU=function(){v.useEffect(function(){return document.body.setAttribute(io,(D_()+1).toString()),function(){var t=D_()-1;t<=0?document.body.removeAttribute(io):document.body.setAttribute(io,t.toString())}},[])},rU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;nU();var i=v.useMemo(function(){return ZB(s)},[s]);return v.createElement(eU,{styles:tU(i,!e,s,n?"":"!important")})},Fm=!1;if(typeof window<"u")try{var Uc=Object.defineProperty({},"passive",{get:function(){return Fm=!0,!0}});window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{Fm=!1}var Ii=Fm?{passive:!1}:!1,sU=function(t){return t.tagName==="TEXTAREA"},LA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sU(t)&&n[e]==="visible")},iU=function(t){return LA(t,"overflowY")},oU=function(t){return LA(t,"overflowX")},M_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=FA(t,r);if(s){var i=BA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},aU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},lU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FA=function(t,e){return t==="v"?iU(e):oU(e)},BA=function(t,e){return t==="v"?aU(e):lU(e)},cU=function(t,e){return t==="h"&&e==="rtl"?-1:1},uU=function(t,e,n,r,s){var i=cU(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{var g=BA(t,a),E=g[0],w=g[1],T=g[2],y=w-T-i*E;(E||y)&&FA(t,a)&&(h+=y,f+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},zc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},V_=function(t){return[t.deltaX,t.deltaY]},j_=function(t){return t&&"current"in t?t.current:t},dU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fU=0,bi=[];function pU(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(fU++)[0],i=v.useState(OA)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=VB([t.lockRef.current],(t.shards||[]).map(j_),!0).filter(Boolean);return w.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(w,T){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var y=zc(w),x=n.current,S="deltaX"in w?w.deltaX:x[0]-y[0],A="deltaY"in w?w.deltaY:x[1]-y[1],k,V=w.target,I=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in w&&I==="h"&&V.type==="range")return!1;var C=M_(I,V);if(!C)return!0;if(C?k=I:(k=I==="v"?"h":"v",C=M_(I,V)),!C)return!1;if(!r.current&&"changedTouches"in w&&(S||A)&&(r.current=k),!k)return!0;var P=r.current||k;return uU(P,T,w,P==="h"?S:A,!0)},[]),l=v.useCallback(function(w){var T=w;if(!(!bi.length||bi[bi.length-1]!==i)){var y="deltaY"in T?V_(T):zc(T),x=e.current.filter(function(k){return k.name===T.type&&(k.target===T.target||T.target===k.shadowParent)&&dU(k.delta,y)})[0];if(x&&x.should){T.cancelable&&T.preventDefault();return}if(!x){var S=(o.current.shards||[]).map(j_).filter(Boolean).filter(function(k){return k.contains(T.target)}),A=S.length>0?a(T,S[0]):!o.current.noIsolation;A&&T.cancelable&&T.preventDefault()}}},[]),c=v.useCallback(function(w,T,y,x){var S={name:w,delta:T,target:y,should:x,shadowParent:mU(y)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),d=v.useCallback(function(w){n.current=zc(w),r.current=void 0},[]),h=v.useCallback(function(w){c(w.type,V_(w),w.target,a(w,t.lockRef.current))},[]),f=v.useCallback(function(w){c(w.type,zc(w),w.target,a(w,t.lockRef.current))},[]);v.useEffect(function(){return bi.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ii),document.addEventListener("touchmove",l,Ii),document.addEventListener("touchstart",d,Ii),function(){bi=bi.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,Ii),document.removeEventListener("touchmove",l,Ii),document.removeEventListener("touchstart",d,Ii)}},[]);var g=t.removeScrollBar,E=t.inert;return v.createElement(v.Fragment,null,E?v.createElement(i,{styles:hU(s)}):null,g?v.createElement(rU,{gapMode:t.gapMode}):null)}function mU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const gU=WB(jA,pU);var bv=v.forwardRef(function(t,e){return v.createElement(fh,Qn({},t,{ref:e,sideCar:gU}))});bv.classNames=fh.classNames;var yU=[" ","Enter","ArrowUp","ArrowDown"],vU=[" ","Enter"],Ql="Select",[ph,mh,wU]=KC(Ql),[zo,V$]=eh(Ql,[wU,_A]),gh=_A(),[xU,As]=zo(Ql),[_U,EU]=zo(Ql),UA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:g,form:E}=t,w=gh(e),[T,y]=v.useState(null),[x,S]=v.useState(null),[A,k]=v.useState(!1),V=Py(c),[I=!1,C]=_o({prop:r,defaultProp:s,onChange:i}),[P,R]=_o({prop:o,defaultProp:a,onChange:l}),D=v.useRef(null),M=T?E||!!T.closest("form"):!0,[N,Z]=v.useState(new Set),ue=Array.from(N).map(J=>J.props.value).join(";");return p.jsx(IB,{...w,children:p.jsxs(xU,{required:g,scope:e,trigger:T,onTriggerChange:y,valueNode:x,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:us(),value:P,onValueChange:R,open:I,onOpenChange:C,dir:V,triggerPointerDownPosRef:D,disabled:f,children:[p.jsx(ph.Provider,{scope:e,children:p.jsx(_U,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(J=>{Z(q=>new Set(q).add(J))},[]),onNativeOptionRemove:v.useCallback(J=>{Z(q=>{const L=new Set(q);return L.delete(J),L})},[]),children:n})}),M?p.jsxs(hP,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:J=>R(J.target.value),disabled:f,form:E,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(N)]},ue):null]})})};UA.displayName=Ql;var zA="SelectTrigger",$A=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=gh(n),o=As(zA,n),a=o.disabled||r,l=Ke(e,o.onTriggerChange),c=mh(n),d=v.useRef("touch"),[h,f,g]=fP(w=>{const T=c().filter(S=>!S.disabled),y=T.find(S=>S.value===o.value),x=pP(T,w,y);x!==void 0&&o.onValueChange(x.value)}),E=w=>{a||(o.onOpenChange(!0),g()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return p.jsx(bB,{asChild:!0,...i,children:p.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":dP(o.value)?"":void 0,...s,ref:l,onClick:pe(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&E(w)}),onPointerDown:pe(s.onPointerDown,w=>{d.current=w.pointerType;const T=w.target;T.hasPointerCapture(w.pointerId)&&T.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:pe(s.onKeyDown,w=>{const T=h.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&f(w.key),!(T&&w.key===" ")&&yU.includes(w.key)&&(E(),w.preventDefault())})})})});$A.displayName=zA;var WA="SelectValue",HA=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=As(WA,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Ke(e,l.onValueNodeChange);return zt(()=>{c(d)},[c,d]),p.jsx(we.span,{...a,ref:h,style:{pointerEvents:"none"},children:dP(l.value)?p.jsx(p.Fragment,{children:o}):i})});HA.displayName=WA;var TU="SelectIcon",qA=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return p.jsx(we.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});qA.displayName=TU;var SU="SelectPortal",KA=t=>p.jsx(Iv,{asChild:!0,...t});KA.displayName=SU;var ci="SelectContent",GA=v.forwardRef((t,e)=>{const n=As(ci,t.__scopeSelect),[r,s]=v.useState();if(zt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Po.createPortal(p.jsx(QA,{scope:t.__scopeSelect,children:p.jsx(ph.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),i):null}return p.jsx(YA,{...t,ref:e})});GA.displayName=ci;var kn=10,[QA,Ps]=zo(ci),CU="SelectContentImpl",YA=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:E,hideWhenDetached:w,avoidCollisions:T,...y}=t,x=As(ci,n),[S,A]=v.useState(null),[k,V]=v.useState(null),I=Ke(e,ee=>A(ee)),[C,P]=v.useState(null),[R,D]=v.useState(null),M=mh(n),[N,Z]=v.useState(!1),ue=v.useRef(!1);v.useEffect(()=>{if(S)return DA(S)},[S]),lA();const J=v.useCallback(ee=>{const[Ce,...Je]=M().map(K=>K.ref.current),[$]=Je.slice(-1),W=document.activeElement;for(const K of ee)if(K===W||(K==null||K.scrollIntoView({block:"nearest"}),K===Ce&&k&&(k.scrollTop=0),K===$&&k&&(k.scrollTop=k.scrollHeight),K==null||K.focus(),document.activeElement!==W))return},[M,k]),q=v.useCallback(()=>J([C,S]),[J,C,S]);v.useEffect(()=>{N&&q()},[N,q]);const{onOpenChange:L,triggerPointerDownPosRef:z}=x;v.useEffect(()=>{if(S){let ee={x:0,y:0};const Ce=$=>{var W,K;ee={x:Math.abs(Math.round($.pageX)-(((W=z.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round($.pageY)-(((K=z.current)==null?void 0:K.y)??0))}},Je=$=>{ee.x<=10&&ee.y<=10?$.preventDefault():S.contains($.target)||L(!1),document.removeEventListener("pointermove",Ce),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Je,{capture:!0})}}},[S,L,z]),v.useEffect(()=>{const ee=()=>L(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[L]);const[Y,ie]=fP(ee=>{const Ce=M().filter(W=>!W.disabled),Je=Ce.find(W=>W.ref.current===document.activeElement),$=pP(Ce,ee,Je);$&&setTimeout(()=>$.ref.current.focus())}),ge=v.useCallback((ee,Ce,Je)=>{const $=!ue.current&&!Je;(x.value!==void 0&&x.value===Ce||$)&&(P(ee),$&&(ue.current=!0))},[x.value]),Ie=v.useCallback(()=>S==null?void 0:S.focus(),[S]),Ge=v.useCallback((ee,Ce,Je)=>{const $=!ue.current&&!Je;(x.value!==void 0&&x.value===Ce||$)&&D(ee)},[x.value]),ut=r==="popper"?Bm:XA,ot=ut===Bm?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:E,hideWhenDetached:w,avoidCollisions:T}:{};return p.jsx(QA,{scope:n,content:S,viewport:k,onViewportChange:V,itemRefCallback:ge,selectedItem:C,onItemLeave:Ie,itemTextRefCallback:Ge,focusSelectedItem:q,selectedItemText:R,position:r,isPositioned:N,searchRef:Y,children:p.jsx(bv,{as:ai,allowPinchZoom:!0,children:p.jsx(yv,{asChild:!0,trapped:x.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:pe(s,ee=>{var Ce;(Ce=x.trigger)==null||Ce.focus({preventScroll:!0}),ee.preventDefault()}),children:p.jsx(gv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:p.jsx(ut,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ee=>ee.preventDefault(),...y,...ot,onPlaced:()=>Z(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:pe(y.onKeyDown,ee=>{const Ce=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!Ce&&ee.key.length===1&&ie(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let $=M().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(ee.key)&&($=$.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const W=ee.target,K=$.indexOf(W);$=$.slice(K+1)}setTimeout(()=>J($)),ee.preventDefault()}})})})})})})});YA.displayName=CU;var IU="SelectItemAlignedPosition",XA=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=As(ci,n),o=Ps(ci,n),[a,l]=v.useState(null),[c,d]=v.useState(null),h=Ke(e,I=>d(I)),f=mh(n),g=v.useRef(!1),E=v.useRef(!0),{viewport:w,selectedItem:T,selectedItemText:y,focusSelectedItem:x}=o,S=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&w&&T&&y){const I=i.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(i.dir!=="rtl"){const W=R.left-C.left,K=P.left-W,re=I.left-K,fe=I.width+re,dt=Math.max(fe,C.width),St=window.innerWidth-kn,ar=g_(K,[kn,Math.max(kn,St-dt)]);a.style.minWidth=fe+"px",a.style.left=ar+"px"}else{const W=C.right-R.right,K=window.innerWidth-P.right-W,re=window.innerWidth-I.right-K,fe=I.width+re,dt=Math.max(fe,C.width),St=window.innerWidth-kn,ar=g_(K,[kn,Math.max(kn,St-dt)]);a.style.minWidth=fe+"px",a.style.right=ar+"px"}const D=f(),M=window.innerHeight-kn*2,N=w.scrollHeight,Z=window.getComputedStyle(c),ue=parseInt(Z.borderTopWidth,10),J=parseInt(Z.paddingTop,10),q=parseInt(Z.borderBottomWidth,10),L=parseInt(Z.paddingBottom,10),z=ue+J+N+L+q,Y=Math.min(T.offsetHeight*5,z),ie=window.getComputedStyle(w),ge=parseInt(ie.paddingTop,10),Ie=parseInt(ie.paddingBottom,10),Ge=I.top+I.height/2-kn,ut=M-Ge,ot=T.offsetHeight/2,ee=T.offsetTop+ot,Ce=ue+J+ee,Je=z-Ce;if(Ce<=Ge){const W=D.length>0&&T===D[D.length-1].ref.current;a.style.bottom="0px";const K=c.clientHeight-w.offsetTop-w.offsetHeight,re=Math.max(ut,ot+(W?Ie:0)+K+q),fe=Ce+re;a.style.height=fe+"px"}else{const W=D.length>0&&T===D[0].ref.current;a.style.top="0px";const re=Math.max(Ge,ue+w.offsetTop+(W?ge:0)+ot)+Je;a.style.height=re+"px",w.scrollTop=Ce-Ge+w.offsetTop}a.style.margin=`${kn}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[f,i.trigger,i.valueNode,a,c,w,T,y,i.dir,r]);zt(()=>S(),[S]);const[A,k]=v.useState();zt(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const V=v.useCallback(I=>{I&&E.current===!0&&(S(),x==null||x(),E.current=!1)},[S,x]);return p.jsx(AU,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:V,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:p.jsx(we.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});XA.displayName=IU;var bU="SelectPopperPosition",Bm=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=kn,...i}=t,o=gh(n);return p.jsx(AB,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bm.displayName=bU;var[AU,Av]=zo(ci,{}),Um="SelectViewport",JA=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ps(Um,n),o=Av(Um,n),a=Ke(e,i.onViewportChange),l=v.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(ph.Slot,{scope:n,children:p.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(l.current-d.scrollTop);if(g>0){const E=window.innerHeight-kn*2,w=parseFloat(h.style.minHeight),T=parseFloat(h.style.height),y=Math.max(w,T);if(y<E){const x=y+g,S=Math.min(E,x),A=x-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});JA.displayName=Um;var ZA="SelectGroup",[PU,RU]=zo(ZA),kU=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=us();return p.jsx(PU,{scope:n,id:s,children:p.jsx(we.div,{role:"group","aria-labelledby":s,...r,ref:e})})});kU.displayName=ZA;var eP="SelectLabel",tP=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=RU(eP,n);return p.jsx(we.div,{id:s.id,...r,ref:e})});tP.displayName=eP;var pd="SelectItem",[NU,nP]=zo(pd),rP=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=As(pd,n),l=Ps(pd,n),c=a.value===r,[d,h]=v.useState(i??""),[f,g]=v.useState(!1),E=Ke(e,x=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,x,r,s)}),w=us(),T=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(NU,{scope:n,value:r,disabled:s,textId:w,isSelected:c,onItemTextChange:v.useCallback(x=>{h(S=>S||((x==null?void 0:x.textContent)??"").trim())},[]),children:p.jsx(ph.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:p.jsx(we.div,{role:"option","aria-labelledby":w,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:pe(o.onFocus,()=>g(!0)),onBlur:pe(o.onBlur,()=>g(!1)),onClick:pe(o.onClick,()=>{T.current!=="mouse"&&y()}),onPointerUp:pe(o.onPointerUp,()=>{T.current==="mouse"&&y()}),onPointerDown:pe(o.onPointerDown,x=>{T.current=x.pointerType}),onPointerMove:pe(o.onPointerMove,x=>{var S;T.current=x.pointerType,s?(S=l.onItemLeave)==null||S.call(l):T.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,x=>{var S;x.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:pe(o.onKeyDown,x=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&x.key===" "||(vU.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});rP.displayName=pd;var ba="SelectItemText",sP=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=As(ba,n),a=Ps(ba,n),l=nP(ba,n),c=EU(ba,n),[d,h]=v.useState(null),f=Ke(e,y=>h(y),l.onItemTextChange,y=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,y,l.value,l.disabled)}),g=d==null?void 0:d.textContent,E=v.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:T}=c;return zt(()=>(w(E),()=>T(E)),[w,T,E]),p.jsxs(p.Fragment,{children:[p.jsx(we.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Po.createPortal(i.children,o.valueNode):null]})});sP.displayName=ba;var iP="SelectItemIndicator",oP=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return nP(iP,n).isSelected?p.jsx(we.span,{"aria-hidden":!0,...r,ref:e}):null});oP.displayName=iP;var zm="SelectScrollUpButton",aP=v.forwardRef((t,e)=>{const n=Ps(zm,t.__scopeSelect),r=Av(zm,t.__scopeSelect),[s,i]=v.useState(!1),o=Ke(e,r.onScrollButtonChange);return zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(cP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});aP.displayName=zm;var $m="SelectScrollDownButton",lP=v.forwardRef((t,e)=>{const n=Ps($m,t.__scopeSelect),r=Av($m,t.__scopeSelect),[s,i]=v.useState(!1),o=Ke(e,r.onScrollButtonChange);return zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(cP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});lP.displayName=$m;var cP=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ps("SelectScrollButton",n),o=v.useRef(null),a=mh(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),zt(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),p.jsx(we.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{l()})})}),DU="SelectSeparator",uP=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(we.div,{"aria-hidden":!0,...r,ref:e})});uP.displayName=DU;var Wm="SelectArrow",MU=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gh(n),i=As(Wm,n),o=Ps(Wm,n);return i.open&&o.position==="popper"?p.jsx(PB,{...s,...r,ref:e}):null});MU.displayName=Wm;function dP(t){return t===""||t===void 0}var hP=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=Ke(e,s),o=RA(n);return v.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),p.jsx(kA,{asChild:!0,children:p.jsx("select",{...r,ref:i,defaultValue:n})})});hP.displayName="BubbleSelect";function fP(t){const e=sr(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function pP(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=VU(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function VU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var jU=UA,mP=$A,OU=HA,LU=qA,FU=KA,gP=GA,BU=JA,yP=tP,vP=rP,UU=sP,zU=oP,wP=aP,xP=lP,_P=uP;const Pv=jU,Rv=OU,yh=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(mP,{ref:r,className:Re("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(LU,{asChild:!0,children:p.jsx(Y5,{className:"h-4 w-4 opacity-50"})})]}));yh.displayName=mP.displayName;const EP=v.forwardRef(({className:t,...e},n)=>p.jsx(wP,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(t6,{})}));EP.displayName=wP.displayName;const TP=v.forwardRef(({className:t,...e},n)=>p.jsx(xP,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(Z5,{})}));TP.displayName=xP.displayName;const vh=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>p.jsx(FU,{children:p.jsxs(gP,{ref:s,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(EP,{}),p.jsx(BU,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(TP,{})]})}));vh.displayName=gP.displayName;const $U=v.forwardRef(({className:t,...e},n)=>p.jsx(yP,{ref:n,className:Re("px-2 py-1.5 text-sm font-semibold",t),...e}));$U.displayName=yP.displayName;const bl=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(vP,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(zU,{children:p.jsx(iA,{className:"h-4 w-4"})})}),p.jsx(UU,{children:e})]}));bl.displayName=vP.displayName;const WU=v.forwardRef(({className:t,...e},n)=>p.jsx(_P,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));WU.displayName=_P.displayName;const HU=({messages:t,employees:e,onMessageSent:n})=>{const[r,s]=v.useState({sender:"Admin",message:"",recipientId:"all_employees",timestamp:de.now()}),i=l=>{const{name:c,value:d}=l.target;s(h=>({...h,[c]:d}))},o=l=>{s(c=>({...c,recipientId:l}))},a=async l=>{l.preventDefault();try{await yn(Oe(le,"messages"),{...r,recipientId:r.recipientId==="all"?"all_employees":r.recipientId,timestamp:de.now()}),s({sender:"Admin",message:"",recipientId:"all_employees",timestamp:de.now()}),n()}catch(c){console.error("Error creating message:",c)}};return p.jsxs(Zt,{className:"glassmorphism",children:[p.jsx(Bn,{children:p.jsxs(Un,{className:"text-white flex items-center gap-2",children:[p.jsx(Sl,{className:"w-6 h-6"}),"Manage Messages"]})}),p.jsxs(en,{children:[p.jsxs("form",{onSubmit:a,className:"grid gap-4",children:[p.jsxs(Pv,{value:r.recipientId,onValueChange:o,children:[p.jsx(yh,{className:"bg-white/10 border-white/20 text-white",children:p.jsx(Rv,{placeholder:"Select recipient"})}),p.jsxs(vh,{children:[p.jsx(bl,{value:"all_employees",children:"All Employees"}),e.map(l=>p.jsx(bl,{value:l.employeeId,children:l.name},l.employeeId))]})]}),p.jsx("textarea",{name:"message",placeholder:"Message",value:r.message,onChange:i,className:"flex h-20 w-full rounded-md border bg-white/10 border-white/20 px-3 py-2 text-base text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/30 md:text-sm"}),p.jsxs(Se,{type:"submit",className:"bg-white/20 hover:bg-white/30 text-white border-0",children:[p.jsx(Zb,{className:"w-4 h-4 mr-2"}),"Send Message"]})]}),p.jsx(ye.div,{className:"mt-8 divide-y divide-white/10",initial:{opacity:0},animate:{opacity:1},children:p.jsx(_I,{children:t.map((l,c)=>{var d,h;return p.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:c*.1},className:"py-4",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:p.jsx(Sl,{className:"w-4 h-4 text-white/70"})}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-white",children:l.sender}),l.recipientId&&p.jsxs("span",{className:"text-sm text-white/70 ml-2",children:["to: ",l.recipientId==="all_employees"?"All Employees":((d=e.find(f=>f.employeeId===l.recipientId))==null?void 0:d.name)||l.recipientId]})]})]}),p.jsx("span",{className:"text-sm text-white/50",children:(h=l.timestamp)==null?void 0:h.toDate().toLocaleString()})]}),p.jsx("p",{className:"mt-2 text-white/90",children:l.message}),l.reply&&p.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 ml-4 p-3 bg-white/10 rounded-lg",children:[p.jsxs("p",{className:"text-sm text-white/70",children:["Reply from ",l.reply.sender,":"]}),p.jsx("p",{className:"mt-1 text-white",children:l.reply.message}),p.jsx("span",{className:"text-xs text-white/50",children:l.reply.timestamp.toDate().toLocaleString()})]})]},l.id)})})})]})]})},sn=v.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Re("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));sn.displayName="Input";const qU=({employees:t,departments:e,onUpdate:n})=>{const[r,s]=v.useState({name:"",employeeId:"",password:"",department:"",isAdmin:!1,disabled:!1}),[i,o]=v.useState(null),[a,l]=v.useState(!1),{toast:c}=Fo(),d=T=>{const{name:y,type:x,checked:S,value:A}=T.target;s(k=>({...k,[y]:x==="checkbox"?S:A}))},h=T=>{const{name:y,type:x,checked:S,value:A}=T.target;i&&o(k=>({...k,[y]:x==="checkbox"?S:A}))},f=T=>{a&&i?o(y=>({...y,department:T})):s(y=>({...y,department:T}))},g=async T=>{T.preventDefault();try{await yn(Oe(le,"employees"),{...r,isAdmin:r.isAdmin||!1,disabled:r.disabled||!1,createdAt:de.now()}),s({name:"",employeeId:"",password:"",department:"",isAdmin:!1,disabled:!1}),n(),c({title:"Success",description:"Employee created successfully"})}catch(y){console.error("Error creating employee:",y),c({title:"Error",description:"Failed to create employee",variant:"destructive"})}},E=async T=>{if(T.preventDefault(),!!i)try{const y=at(le,"employees",i.id),x={name:i.name,employeeId:i.employeeId,password:i.password,department:i.department,isAdmin:i.isAdmin||!1,disabled:i.disabled||!1};await Vn(y,x),l(!1),o(null),n(),c({title:"Success",description:"Employee updated successfully"})}catch(y){console.error("Error updating employee:",y),c({title:"Error",description:"Failed to update employee",variant:"destructive"})}},w=async T=>{if(confirm("Are you sure you want to delete this employee?"))try{await Jd(at(le,"employees",T)),n(),c({title:"Success",description:"Employee deleted successfully"})}catch(y){console.error("Error deleting employee:",y),c({title:"Error",description:"Failed to delete employee",variant:"destructive"})}};return p.jsxs(Zt,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[p.jsx(Bn,{children:p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(nA,{className:"w-6 h-6"}),"Manage Employees"]})}),p.jsx(en,{children:p.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid gap-6",children:[p.jsxs("form",{onSubmit:a?E:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(sn,{type:"text",name:"name",placeholder:"Name",value:a?i==null?void 0:i.name:r.name,onChange:a?h:d,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0}),p.jsx(sn,{type:"text",name:"employeeId",placeholder:"Employee ID",value:a?i==null?void 0:i.employeeId:r.employeeId,onChange:a?h:d,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0}),p.jsx(sn,{type:"password",name:"password",placeholder:"Password",value:a?i==null?void 0:i.password:r.password,onChange:a?h:d,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0}),p.jsxs(Pv,{value:a?i==null?void 0:i.department:r.department,onValueChange:f,children:[p.jsx(yh,{className:"bg-white/10 border-white/20 text-white",children:p.jsx(Rv,{placeholder:"Select department"})}),p.jsx(vh,{children:e.map(T=>p.jsx(bl,{value:T.id,children:T.name},T.id))})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx(sn,{type:"checkbox",name:"isAdmin",checked:a?(i==null?void 0:i.isAdmin)||!1:r.isAdmin,onChange:a?h:d,className:"w-4 h-4"}),p.jsx("span",{children:"Is Admin"})]}),p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx(sn,{type:"checkbox",name:"disabled",checked:a?(i==null?void 0:i.disabled)||!1:r.disabled,onChange:a?h:d,className:"w-4 h-4"}),p.jsx("span",{children:"Disabled"})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Se,{type:"submit",className:"flex-1 bg-white/20 hover:bg-white/30 text-white",children:a?p.jsxs(p.Fragment,{children:[p.jsx(I5,{className:"w-4 h-4 mr-2"}),"Update"]}):p.jsxs(p.Fragment,{children:[p.jsx(Jb,{className:"w-4 h-4 mr-2"}),"Create Employee"]})}),a&&p.jsxs(Se,{type:"button",variant:"ghost",onClick:()=>{l(!1),o(null)},className:"flex-1 text-white hover:bg-white/20",children:[p.jsx(A5,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),p.jsx(ye.div,{className:"grid gap-3",initial:{opacity:0},animate:{opacity:1},children:t.map(T=>{var y;return p.jsxs(ye.div,{whileHover:{scale:1.01},className:"p-4 bg-white/5 rounded-lg flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:T.name}),p.jsxs("div",{className:"text-sm text-white/70",children:[T.employeeId,T.department&&p.jsxs("span",{className:"ml-2",children:["• ",(y=e.find(x=>x.id===T.department))==null?void 0:y.name]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{o(T),l(!0)},className:"text-white hover:bg-white/20",children:p.jsx(Nm,{className:"w-4 h-4"})}),p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>w(T.id),className:"text-red-400 hover:bg-red-500/20",children:p.jsx(eA,{className:"w-4 h-4"})})]})]},T.id)})})]})})]})};function Wn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ui(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const SP=6048e5,KU=864e5;let GU={};function wh(){return GU}function Al(t,e){var a,l,c,d;const n=wh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Wn(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function md(t){return Al(t,{weekStartsOn:1})}function CP(t){const e=Wn(t),n=e.getFullYear(),r=ui(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=md(r),i=ui(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=md(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function O_(t){const e=Wn(t);return e.setHours(0,0,0,0),e}function L_(t){const e=Wn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function QU(t,e){const n=O_(t),r=O_(e),s=+n-L_(n),i=+r-L_(r);return Math.round((s-i)/KU)}function YU(t){const e=CP(t),n=ui(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),md(n)}function XU(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function JU(t){if(!XU(t)&&typeof t!="number")return!1;const e=Wn(t);return!isNaN(Number(e))}function ZU(t){const e=Wn(t),n=ui(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ez={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tz=(t,e,n)=>{let r;const s=ez[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Kf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const nz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iz={date:Kf({formats:nz,defaultWidth:"full"}),time:Kf({formats:rz,defaultWidth:"full"}),dateTime:Kf({formats:sz,defaultWidth:"full"})},oz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},az=(t,e,n,r)=>oz[t];function pa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const lz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mz={ordinalNumber:pz,era:pa({values:lz,defaultWidth:"wide"}),quarter:pa({values:cz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:pa({values:uz,defaultWidth:"wide"}),day:pa({values:dz,defaultWidth:"wide"}),dayPeriod:pa({values:hz,defaultWidth:"wide",formattingValues:fz,defaultFormattingWidth:"wide"})};function ma(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?yz(a,h=>h.test(o)):gz(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function gz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function yz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vz(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const wz=/^(\d+)(th|st|nd|rd)?/i,xz=/\d+/i,_z={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ez={any:[/^b/i,/^(a|c)/i]},Tz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sz={any:[/1/i,/2/i,/3/i,/4/i]},Cz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Iz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Az={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kz={ordinalNumber:vz({matchPattern:wz,parsePattern:xz,valueCallback:t=>parseInt(t,10)}),era:ma({matchPatterns:_z,defaultMatchWidth:"wide",parsePatterns:Ez,defaultParseWidth:"any"}),quarter:ma({matchPatterns:Tz,defaultMatchWidth:"wide",parsePatterns:Sz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ma({matchPatterns:Cz,defaultMatchWidth:"wide",parsePatterns:Iz,defaultParseWidth:"any"}),day:ma({matchPatterns:bz,defaultMatchWidth:"wide",parsePatterns:Az,defaultParseWidth:"any"}),dayPeriod:ma({matchPatterns:Pz,defaultMatchWidth:"any",parsePatterns:Rz,defaultParseWidth:"any"})},Nz={code:"en-US",formatDistance:tz,formatLong:iz,formatRelative:az,localize:mz,match:kz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dz(t){const e=Wn(t);return QU(e,ZU(e))+1}function Mz(t){const e=Wn(t),n=+md(e)-+YU(e);return Math.round(n/SP)+1}function IP(t,e){var d,h,f,g;const n=Wn(t),r=n.getFullYear(),s=wh(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=ui(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Al(o,e),l=ui(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Al(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Vz(t,e){var a,l,c,d;const n=wh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=IP(t,e),i=ui(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Al(i,e)}function jz(t,e){const n=Wn(t),r=+Al(n,e)-+Vz(n,e);return Math.round(r/SP)+1}function be(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Br={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return be(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):be(n+1,2)},d(t,e){return be(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return be(t.getHours()%12||12,e.length)},H(t,e){return be(t.getHours(),e.length)},m(t,e){return be(t.getMinutes(),e.length)},s(t,e){return be(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return be(s,e.length)}},Ai={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Br.y(t,e)},Y:function(t,e,n,r){const s=IP(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return be(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):be(i,e.length)},R:function(t,e){const n=CP(t);return be(n,e.length)},u:function(t,e){const n=t.getFullYear();return be(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return be(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return be(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Br.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return be(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=jz(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):be(s,e.length)},I:function(t,e,n){const r=Mz(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):be(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Br.d(t,e)},D:function(t,e,n){const r=Dz(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):be(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return be(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return be(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return be(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ai.noon:r===0?s=Ai.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ai.evening:r>=12?s=Ai.afternoon:r>=4?s=Ai.morning:s=Ai.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Br.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Br.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):be(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):be(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Br.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Br.s(t,e)},S:function(t,e){return Br.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return U_(r);case"XXXX":case"XX":return Bs(r);case"XXXXX":case"XXX":default:return Bs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return U_(r);case"xxxx":case"xx":return Bs(r);case"xxxxx":case"xxx":default:return Bs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+B_(r,":");case"OOOO":default:return"GMT"+Bs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+B_(r,":");case"zzzz":default:return"GMT"+Bs(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return be(r,e.length)},T:function(t,e,n){const r=t.getTime();return be(r,e.length)}};function B_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+be(i,2)}function U_(t,e){return t%60===0?(t>0?"-":"+")+be(Math.abs(t)/60,2):Bs(t,e)}function Bs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=be(Math.trunc(r/60),2),i=be(r%60,2);return n+s+e+i}const z_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Oz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return z_(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",z_(r,e)).replace("{{time}}",bP(s,e))},Lz={p:bP,P:Oz},Fz=/^D+$/,Bz=/^Y+$/,Uz=["D","DD","YY","YYYY"];function zz(t){return Fz.test(t)}function $z(t){return Bz.test(t)}function Wz(t,e,n){const r=Hz(t,e,n);if(console.warn(r),Uz.includes(t))throw new RangeError(r)}function Hz(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gz=/^'([^]*?)'?$/,Qz=/''/g,Yz=/[a-zA-Z]/;function qs(t,e,n){var d,h,f,g;const r=wh(),s=r.locale??Nz,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,a=Wn(t);if(!JU(a))throw new RangeError("Invalid time value");let l=e.match(Kz).map(E=>{const w=E[0];if(w==="p"||w==="P"){const T=Lz[w];return T(E,s.formatLong)}return E}).join("").match(qz).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const w=E[0];if(w==="'")return{isToken:!1,value:Xz(E)};if(F_[w])return{isToken:!0,value:E};if(w.match(Yz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:E}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(E=>{if(!E.isToken)return E.value;const w=E.value;($z(w)||zz(w))&&Wz(w,e,String(t));const T=F_[w[0]];return T(a,w,s.localize,c)}).join("")}function Xz(t){const e=t.match(Gz);return e?e[1].replace(Qz,"'"):t}const Jz=({activeEmployees:t,employees:e,departments:n,onRefresh:r})=>{const[s,i]=v.useState(new Date),{toast:o}=Fo();v.useEffect(()=>{const g=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(g)},[]);const a=g=>{switch(g){case"Working":return"bg-green-500/10 border-green-500/30";case"Working Idle":return"bg-red-500/10 border-red-500/30";case"Standby":return"bg-purple-500/10 border-purple-500/30";case"Lunch":case"Small Break":return"bg-blue-500/10 border-blue-500/30";case"Pee Break 1":case"Pee Break 2":return"bg-red-500/10 border-red-500/30";default:return"bg-white/5 border-white/20"}},l=g=>{switch(g){case"Working":return"text-green-400";case"Working Idle":return"text-red-400";case"Standby":return"text-purple-400";case"Lunch":case"Small Break":return"text-blue-400";case"Pee Break 1":case"Pee Break 2":return"text-red-400";default:return"text-white"}},c=g=>{if(!g)return"Unknown";const E=e.find(w=>w.employeeId===g);return E?E.name:g},d=g=>{if(!g.clockInTime)return"00:00:00";const E=new Date,w=g.clockInTime.toDate();return qt(E.getTime()-w.getTime())},h=async g=>{try{await yn(Oe(le,"attendance"),{employeeId:g,eventType:"force_clockOut",timestamp:de.now()}),await Jd(at(le,"status",g)),o({title:"Force Clock Out",description:`${c(g)} has been forcefully clocked out`,duration:3e3}),r()}catch(E){console.error("Error force clocking out:",E),o({title:"Error",description:"Failed to force clock out employee",variant:"destructive"})}},f=async g=>{try{const E=at(le,"status",g);await Vn(E,{shouldBuzz:!0,lastBuzzTime:de.now()}),o({title:"Buzz Sent",description:`Notification sent to ${c(g)}`,duration:3e3})}catch(E){console.error("Error sending buzz:",E),o({title:"Error",description:"Failed to send buzz notification",variant:"destructive"})}};return p.jsxs(Zt,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[p.jsxs(Bn,{className:"flex flex-row items-center justify-between",children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(ch,{className:"w-6 h-6"}),"Active Employees"]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20",children:[p.jsx(ad,{className:"w-4 h-4 mr-2"}),"Refresh"]}),p.jsxs("div",{className:"text-sm text-white/70",children:["Current Time: ",qs(s,"h:mm:ss a")]})]})]}),p.jsx(en,{children:t.length===0?p.jsx("p",{className:"text-center text-white/50 py-8",children:"No active employees"}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((g,E)=>{const w=e.find(y=>y.employeeId===g.employeeId),T=w!=null&&w.department?n.find(y=>y.id===w.department):null;return p.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},children:p.jsxs(Zt,{className:`border ${a(g.status)}`,children:[p.jsx(Bn,{className:"p-4 pb-2",children:p.jsxs(Un,{className:"text-base flex items-center gap-2",children:[p.jsx(pv,{className:"w-4 h-4"}),p.jsx("span",{className:l(g.status),children:c(g.employeeId)})]})}),p.jsx(en,{className:"p-4 pt-2",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx(ld,{variant:g.status==="Working"?"default":g.status==="Working Idle"?"destructive":(g.status==="Standby","secondary"),className:`capitalize ${l(g.status)}`,children:g.status}),p.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/70",children:[p.jsx(Pr,{className:"w-3 h-3"}),d(g)]})]}),p.jsxs("div",{className:"text-xs text-white/50",children:[p.jsxs("div",{children:["Status since: ",g.stateStartTime?qs(g.stateStartTime.toDate(),"h:mm:ss a"):"N/A"]}),p.jsxs("div",{children:["Clocked in: ",g.clockInTime?qs(g.clockInTime.toDate(),"h:mm a, MMM dd"):"N/A"]}),T&&p.jsxs("div",{children:["Department: ",T.name]})]}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsxs(Se,{size:"sm",variant:"destructive",onClick:()=>h(g.employeeId),className:"flex-1",children:[p.jsx(T5,{className:"w-4 h-4 mr-2"}),"Force Clock Out"]}),p.jsxs(Se,{size:"sm",variant:"outline",onClick:()=>f(g.employeeId),className:"flex-1 border-white/20 text-white hover:bg-white/10",children:[p.jsx(N5,{className:"w-4 h-4 mr-2"}),"Buzz"]})]})]})})]})},g.id||E)})})})]})},Zz=({employees:t,departments:e,onViewAttendance:n,onRefresh:r})=>{const[s,i]=v.useState("all"),o=s==="all"?t:t.filter(l=>l.department===s),a=l=>{n(l)};return p.jsxs(Zt,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[p.jsxs(Bn,{className:"flex flex-row items-center justify-between",children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(Pr,{className:"w-6 h-6"}),"Attendance Records"]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("select",{value:s,onChange:l=>i(l.target.value),className:"bg-white/10 border-white/20 text-white rounded-md px-3 py-1",children:[p.jsx("option",{value:"all",children:"All Departments"}),e.map(l=>p.jsx("option",{value:l.id,children:l.name},l.id))]}),p.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20",children:[p.jsx(ad,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),p.jsx(en,{children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(l=>{var c;return p.jsx(ye.button,{whileHover:{scale:1.01},onClick:()=>a(l),className:"bg-white/5 p-4 rounded-lg cursor-pointer text-left w-full transition-colors hover:bg-white/10",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(pv,{className:"w-5 h-5 text-white/70"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:l.name}),p.jsxs("div",{className:"text-sm text-white/70",children:[l.employeeId,l.department&&p.jsxs("span",{className:"ml-2",children:["• ",(c=e.find(d=>d.id===l.department))==null?void 0:c.name]})]})]})]})},l.id)})})})]})},e$=({onUpdate:t})=>{const[e,n]=v.useState([]),[r,s]=v.useState({id:"",name:"",timezone:"UTC",schedule:{clockIn:"09:00",clockOut:"18:00",gracePeriod:15,overtimeThreshold:30}}),[i,o]=v.useState(!1),[a,l]=v.useState(null),{toast:c}=Fo(),d=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Asia/Tokyo","Asia/Shanghai","Europe/London","Europe/Paris","Australia/Sydney"];v.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await Tn(Oe(le,"departments")),x=[];y.forEach(S=>{x.push({id:S.id,...S.data()})}),n(x)}catch(y){console.error("Error fetching departments:",y),c({title:"Error",description:"Failed to fetch departments",variant:"destructive"})}},f=(y,x,S)=>{const A=y.target.type==="number"?parseInt(y.target.value):y.target.value;i&&a?l(k=>k&&(x==="schedule"&&S?{...k,schedule:{...k.schedule,[S]:A}}:{...k,[x]:A})):s(k=>x==="schedule"&&S?{...k,schedule:{...k.schedule,[S]:A}}:{...k,[x]:A})},g=y=>{i&&a?l(x=>({...x,timezone:y})):s(x=>({...x,timezone:y}))},E=async y=>{y.preventDefault();try{const{id:x,...S}=r;await yn(Oe(le,"departments"),S),s({id:"",name:"",timezone:"UTC",schedule:{clockIn:"09:00",clockOut:"18:00",gracePeriod:15,overtimeThreshold:30}}),h(),t(),c({title:"Success",description:"Department created successfully"})}catch(x){console.error("Error creating department:",x),c({title:"Error",description:"Failed to create department",variant:"destructive"})}},w=async y=>{if(y.preventDefault(),!!a)try{const x=at(le,"departments",a.id),{id:S,...A}=a;await Vn(x,A),o(!1),h(),t(),c({title:"Success",description:"Department updated successfully"})}catch(x){console.error("Error updating department:",x),c({title:"Error",description:"Failed to update department",variant:"destructive"})}},T=async y=>{if(confirm("Are you sure you want to delete this department?"))try{await Jd(at(le,"departments",y)),h(),t(),c({title:"Success",description:"Department deleted successfully"})}catch(x){console.error("Error deleting department:",x),c({title:"Error",description:"Failed to delete department",variant:"destructive"})}};return p.jsxs(Zt,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[p.jsx(Bn,{children:p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(Pr,{className:"w-6 h-6"}),"Department Schedules"]})}),p.jsx(en,{children:p.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid gap-6",children:[p.jsxs("form",{onSubmit:i?w:E,className:"grid gap-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(sn,{type:"text",placeholder:"Department Name",value:i?a==null?void 0:a.name:r.name,onChange:y=>f(y,"name"),className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0}),p.jsxs(Pv,{value:i?a==null?void 0:a.timezone:r.timezone,onValueChange:g,children:[p.jsx(yh,{className:"bg-white/10 border-white/20 text-white",children:p.jsx(Rv,{placeholder:"Select timezone"})}),p.jsx(vh,{children:d.map(y=>p.jsx(bl,{value:y,children:y},y))})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm text-white/70",children:"Clock In Time"}),p.jsx(sn,{type:"time",value:i?a==null?void 0:a.schedule.clockIn:r.schedule.clockIn,onChange:y=>f(y,"schedule","clockIn"),className:"bg-white/10 border-white/20 text-white",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm text-white/70",children:"Clock Out Time"}),p.jsx(sn,{type:"time",value:i?a==null?void 0:a.schedule.clockOut:r.schedule.clockOut,onChange:y=>f(y,"schedule","clockOut"),className:"bg-white/10 border-white/20 text-white",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm text-white/70",children:"Grace Period (minutes)"}),p.jsx(sn,{type:"number",min:"0",value:i?a==null?void 0:a.schedule.gracePeriod:r.schedule.gracePeriod,onChange:y=>f(y,"schedule","gracePeriod"),className:"bg-white/10 border-white/20 text-white",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm text-white/70",children:"Overtime Threshold (minutes)"}),p.jsx(sn,{type:"number",min:"0",value:i?a==null?void 0:a.schedule.overtimeThreshold:r.schedule.overtimeThreshold,onChange:y=>f(y,"schedule","overtimeThreshold"),className:"bg-white/10 border-white/20 text-white",required:!0})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Se,{type:"submit",className:"bg-white/20 hover:bg-white/30 text-white",children:i?p.jsxs(p.Fragment,{children:[p.jsx(Nm,{className:"w-4 h-4 mr-2"}),"Update Department"]}):p.jsxs(p.Fragment,{children:[p.jsx(Jb,{className:"w-4 h-4 mr-2"}),"Create Department"]})}),i&&p.jsx(Se,{type:"button",variant:"outline",onClick:()=>{o(!1),l(null)},className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"})]})]}),p.jsx(ye.div,{className:"grid gap-3",initial:{opacity:0},animate:{opacity:1},children:e.map(y=>p.jsx(ye.div,{whileHover:{scale:1.01},className:"p-4 bg-white/5 rounded-lg",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-lg",children:y.name}),p.jsxs("div",{className:"text-sm text-white/70 flex items-center gap-2 mt-1",children:[p.jsx(Qb,{className:"w-4 h-4"}),y.timezone]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Schedule"}),p.jsxs("div",{className:"text-white",children:[y.schedule.clockIn," - ",y.schedule.clockOut]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-white/70",children:"Grace Period"}),p.jsxs("div",{className:"text-white",children:[y.schedule.gracePeriod," minutes"]})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{l(y),o(!0)},className:"text-white hover:bg-white/20",children:p.jsx(Nm,{className:"w-4 h-4"})}),p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>T(y.id),className:"text-red-400 hover:bg-red-500/20",children:p.jsx(eA,{className:"w-4 h-4"})})]})]})},y.id))})]})})]})};var kv="Dialog",[AP,j$]=eh(kv),[t$,Hn]=AP(kv),PP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[c=!1,d]=_o({prop:r,defaultProp:s,onChange:i});return p.jsx(t$,{scope:e,triggerRef:a,contentRef:l,contentId:us(),titleId:us(),descriptionId:us(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};PP.displayName=kv;var RP="DialogTrigger",n$=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hn(RP,n),i=Ke(e,s.triggerRef);return p.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mv(s.open),...r,ref:i,onClick:pe(t.onClick,s.onOpenToggle)})});n$.displayName=RP;var Nv="DialogPortal",[r$,kP]=AP(Nv,{forceMount:void 0}),NP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Hn(Nv,e);return p.jsx(r$,{scope:e,forceMount:n,children:v.Children.map(r,o=>p.jsx(Vo,{present:n||i.open,children:p.jsx(Iv,{asChild:!0,container:s,children:o})}))})};NP.displayName=Nv;var gd="DialogOverlay",DP=v.forwardRef((t,e)=>{const n=kP(gd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hn(gd,t.__scopeDialog);return i.modal?p.jsx(Vo,{present:r||i.open,children:p.jsx(s$,{...s,ref:e})}):null});DP.displayName=gd;var s$=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hn(gd,n);return p.jsx(bv,{as:ai,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(we.div,{"data-state":Mv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),di="DialogContent",MP=v.forwardRef((t,e)=>{const n=kP(di,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hn(di,t.__scopeDialog);return p.jsx(Vo,{present:r||i.open,children:i.modal?p.jsx(i$,{...s,ref:e}):p.jsx(o$,{...s,ref:e})})});MP.displayName=di;var i$=v.forwardRef((t,e)=>{const n=Hn(di,t.__scopeDialog),r=v.useRef(null),s=Ke(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return DA(i)},[]),p.jsx(VP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())})}),o$=v.forwardRef((t,e)=>{const n=Hn(di,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return p.jsx(VP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),VP=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Hn(di,n),l=v.useRef(null),c=Ke(e,l);return lA(),p.jsxs(p.Fragment,{children:[p.jsx(yv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(gv,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Mv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(a$,{titleId:a.titleId}),p.jsx(c$,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dv="DialogTitle",jP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hn(Dv,n);return p.jsx(we.h2,{id:s.titleId,...r,ref:e})});jP.displayName=Dv;var OP="DialogDescription",LP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hn(OP,n);return p.jsx(we.p,{id:s.descriptionId,...r,ref:e})});LP.displayName=OP;var FP="DialogClose",BP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hn(FP,n);return p.jsx(we.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});BP.displayName=FP;function Mv(t){return t?"open":"closed"}var UP="DialogTitleWarning",[O$,zP]=VO(UP,{contentName:di,titleName:Dv,docsSlug:"dialog"}),a$=({titleId:t})=>{const e=zP(UP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},l$="DialogDescriptionWarning",c$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zP(l$).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},u$=PP,d$=NP,$P=DP,WP=MP,HP=jP,qP=LP,h$=BP;const f$=u$,p$=d$,KP=v.forwardRef(({className:t,...e},n)=>p.jsx($P,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));KP.displayName=$P.displayName;const GP=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(p$,{children:[p.jsx(KP,{}),p.jsxs(WP,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(h$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(r6,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));GP.displayName=WP.displayName;const QP=({className:t,...e})=>p.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});QP.displayName="DialogHeader";const YP=v.forwardRef(({className:t,...e},n)=>p.jsx(HP,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));YP.displayName=HP.displayName;const m$=v.forwardRef(({className:t,...e},n)=>p.jsx(qP,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));m$.displayName=qP.displayName;var Vv="Checkbox",[g$,L$]=eh(Vv),[y$,v$]=g$(Vv),XP=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...h}=t,[f,g]=v.useState(null),E=Ke(e,A=>g(A)),w=v.useRef(!1),T=f?d||!!f.closest("form"):!0,[y=!1,x]=_o({prop:s,defaultProp:i,onChange:c}),S=v.useRef(y);return v.useEffect(()=>{const A=f==null?void 0:f.form;if(A){const k=()=>x(S.current);return A.addEventListener("reset",k),()=>A.removeEventListener("reset",k)}},[f,x]),p.jsxs(y$,{scope:n,state:y,disabled:a,children:[p.jsx(we.button,{type:"button",role:"checkbox","aria-checked":ds(y)?"mixed":y,"aria-required":o,"data-state":eR(y),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:E,onKeyDown:pe(t.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:pe(t.onClick,A=>{x(k=>ds(k)?!0:!k),T&&(w.current=A.isPropagationStopped(),w.current||A.stopPropagation())})}),T&&p.jsx(w$,{control:f,bubbles:!w.current,name:r,value:l,checked:y,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ds(i)?!1:i})]})});XP.displayName=Vv;var JP="CheckboxIndicator",ZP=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=v$(JP,n);return p.jsx(Vo,{present:r||ds(i.state)||i.state===!0,children:p.jsx(we.span,{"data-state":eR(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});ZP.displayName=JP;var w$=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=v.useRef(null),a=RA(n),l=wA(e);v.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&g){const E=new Event("click",{bubbles:r});d.indeterminate=ds(n),g.call(d,ds(n)?!1:n),d.dispatchEvent(E)}},[a,n,r]);const c=v.useRef(ds(n)?!1:n);return p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ds(t){return t==="indeterminate"}function eR(t){return ds(t)?"indeterminate":t?"checked":"unchecked"}var tR=XP,x$=ZP;const Hm=v.forwardRef(({className:t,...e},n)=>p.jsx(tR,{ref:n,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(x$,{className:Re("flex items-center justify-center text-current"),children:p.jsx(iA,{className:"h-4 w-4"})})}));Hm.displayName=tR.displayName;const _$=({isOpen:t,onClose:e,employee:n,recentActivity:r})=>{const[s,i]=v.useState(new Set);if(!n)return null;const o=r.filter(h=>h.eventType==="clockOut"),a=o.reduce((h,f)=>(h.totalClockTime+=f.totalClockTime||0,h.totalBreakTime+=f.accumulatedBreak||0,f.isLate&&(h.totalLateTime+=(f.lateMinutes||0)*60*1e3,h.lateInstances++),f.isOvertime&&(h.totalOvertime+=(f.overtimeMinutes||0)*60*1e3,h.overtimeInstances++),h),{totalClockTime:0,totalBreakTime:0,totalLateTime:0,totalOvertime:0,lateInstances:0,overtimeInstances:0}),l=v.useMemo(()=>o.reduce((h,f)=>(s.has(f.id)&&(h.totalClockTime+=f.totalClockTime||0,h.totalBreakTime+=f.accumulatedBreak||0,f.isLate&&(h.totalLateTime+=(f.lateMinutes||0)*60*1e3,h.lateInstances++),f.isOvertime&&(h.totalOvertime+=(f.overtimeMinutes||0)*60*1e3,h.overtimeInstances++)),h),{totalClockTime:0,totalBreakTime:0,totalLateTime:0,totalOvertime:0,lateInstances:0,overtimeInstances:0}),[s,o]),c=h=>{const f=new Set(s);f.has(h)?f.delete(h):f.add(h),i(f)},d=()=>{s.size===o.length?i(new Set):i(new Set(o.map(h=>h.id)))};return p.jsx(f$,{open:t,onOpenChange:e,children:p.jsxs(GP,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[p.jsx(QP,{children:p.jsxs(YP,{className:"text-xl flex items-center gap-2",children:[p.jsx(ch,{className:"h-5 w-5"}),n.name," - Attendance Details"]})}),p.jsxs(fv,{defaultValue:"summary",className:"mt-4",children:[p.jsxs(lh,{className:"grid w-full grid-cols-2",children:[p.jsx(xn,{value:"summary",children:"Attendance Summary"}),p.jsx(xn,{value:"activity",children:"Recent Activity"})]}),p.jsx(_n,{value:"summary",children:p.jsx(Zt,{children:p.jsxs(en,{className:"pt-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[p.jsxs("div",{className:"bg-blue-500/10 p-4 rounded-lg border border-blue-500/20",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Pr,{className:"w-5 h-5 text-blue-400"}),p.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Overall Summary"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-zinc-400",children:"Total Clock Time:"}),p.jsx("span",{className:"font-semibold",children:qt(a.totalClockTime)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-zinc-400",children:"Total Break Time:"}),p.jsx("span",{className:"font-semibold",children:qt(a.totalBreakTime)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-zinc-400",children:"Late Instances:"}),p.jsx("span",{className:"font-semibold",children:a.lateInstances})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-zinc-400",children:"Overtime Instances:"}),p.jsx("span",{className:"font-semibold",children:a.overtimeInstances})]})]})]}),s.size>0&&p.jsxs("div",{className:"bg-green-500/10 p-4 rounded-lg border border-green-500/20",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(S5,{className:"w-5 h-5 text-green-400"}),p.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"Selected Records"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-zinc-400",children:"Clock Time:"}),p.jsx("span",{className:"font-semibold",children:qt(l.totalClockTime)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-zinc-400",children:"Break Time:"}),p.jsx("span",{className:"font-semibold",children:qt(l.totalBreakTime)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-zinc-400",children:"Late Instances:"}),p.jsx("span",{className:"font-semibold",children:l.lateInstances})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-zinc-400",children:"Overtime Instances:"}),p.jsx("span",{className:"font-semibold",children:l.overtimeInstances})]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(Hm,{checked:s.size===o.length&&o.length>0,onCheckedChange:d,className:"border-white/20"}),p.jsxs("span",{className:"text-sm text-white/70",children:["Select All Records (",o.length,")"]})]}),p.jsx("div",{className:"space-y-3",children:o.map(h=>{var f,g;return p.jsxs("div",{className:"bg-zinc-900 rounded-lg p-4 text-white",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(Hm,{checked:s.has(h.id),onCheckedChange:()=>c(h.id),className:"border-white/20"}),p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("div",{className:"text-lg font-medium",children:qs(h.timestamp.toDate(),"MMM dd, yyyy")}),p.jsxs("div",{className:"flex gap-2",children:[h.isLate&&p.jsxs(ld,{variant:"destructive",className:"text-xs",children:["Late (",h.lateMinutes," mins)"]}),h.isOvertime&&p.jsxs(ld,{variant:"secondary",className:"text-xs",children:["Overtime (",h.overtimeMinutes," mins)"]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-zinc-400",children:"Clock In"}),p.jsx("div",{children:qs(((f=h.clockInTime)==null?void 0:f.toDate())||h.timestamp.toDate(),"h:mm:ss a")})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-zinc-400",children:"Clock Out"}),p.jsx("div",{children:qs(((g=h.clockOutTime)==null?void 0:g.toDate())||h.timestamp.toDate(),"h:mm:ss a")})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-zinc-400",children:"Total Time"}),p.jsx("div",{className:"font-mono",children:qt(h.totalClockTime||0)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-zinc-400",children:"Break Time"}),p.jsx("div",{className:"font-mono",children:qt(h.accumulatedBreak||0)})]})]})]},h.id)})})]})})}),p.jsx(_n,{value:"activity",children:p.jsx(Zt,{children:p.jsx(en,{className:"pt-6",children:p.jsx("div",{className:"space-y-4",children:r.map(h=>p.jsx("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Pr,{className:"h-4 w-4 text-white/70"}),p.jsxs("div",{children:[p.jsxs("div",{className:"font-medium capitalize",children:[h.eventType.replace(/_/g," "),h.isLate&&p.jsxs("span",{className:"ml-2 text-red-400 text-sm",children:["(Late: ",h.lateMinutes," mins)"]}),h.isOvertime&&p.jsxs("span",{className:"ml-2 text-blue-400 text-sm",children:["(Overtime: ",h.overtimeMinutes," mins)"]})]}),p.jsx("div",{className:"text-sm text-white/50",children:qs(h.timestamp.toDate(),"PPpp")})]})]})},h.id))})})})})]})]})})},E$=()=>{const[t,e]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState(null),[l,c]=v.useState(null),[d,h]=v.useState(!1),f=v.useRef(null),{toast:g}=Fo();v.useEffect(()=>{E(),w(),T();const A=WC(Oe(le,"status"),k=>{const V=[];k.forEach(I=>{const C=I.data();C.employeeId&&C.status&&V.push({id:I.id,employeeId:C.employeeId,status:C.status,stateStartTime:C.stateStartTime||null,clockInTime:C.clockInTime||null})}),r(V),V.forEach(I=>{I.status!=="Working"&&I.status!=="Clocked Out"&&g({title:"Employee Status Alert",description:`${S(I.employeeId)} is on ${I.status}`,duration:5e3})})});return()=>A()},[]),v.useEffect(()=>{const A=setInterval(()=>{cd()},6e4);return cd(),()=>clearInterval(A)},[]);const E=async()=>{try{const A=await Tn(Oe(le,"employees")),k=[];A.forEach(V=>{k.push({id:V.id,...V.data()})}),e(k)}catch(A){console.error("Error fetching employees:",A)}},w=async()=>{try{const A=await Tn(Oe(le,"status")),k=[];A.forEach(V=>{const I=V.data();I.employeeId&&I.status&&k.push({id:V.id,employeeId:I.employeeId,status:I.status,stateStartTime:I.stateStartTime||null,clockInTime:I.clockInTime||null})}),r(k)}catch(A){console.error("Error fetching active employees:",A)}},T=async()=>{try{const A=await Tn(Oe(le,"departments")),k=[];A.forEach(V=>{k.push({id:V.id,...V.data()})}),i(k)}catch(A){console.error("Error fetching departments:",A)}},y=async A=>{try{const k=ii(Oe(le,"attendance"),oi("employeeId","==",A.employeeId)),V=await Tn(k),I=[];V.forEach(C=>{I.push({id:C.id,...C.data()})}),I.sort((C,P)=>P.timestamp.seconds-C.timestamp.seconds),a(A),c({recentActivity:I}),h(!0)}catch(k){console.error("Error fetching employee attendance:",k),g({title:"Error",description:"Failed to fetch employee attendance records",variant:"destructive"})}},x=()=>{h(!1),a(null),c(null)},S=A=>{if(!A)return"Unknown";const k=t.find(V=>V.employeeId===A);return k?k.name:A};return p.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600",children:[p.jsx("audio",{ref:f,src:"/buzz.wav"}),p.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[p.jsxs("header",{className:"p-4 flex justify-between items-center bg-black/10 backdrop-blur-md",children:[p.jsx(ye.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"text-2xl font-bold text-white",children:"Admin Panel"}),p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs(ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex gap-2",children:[p.jsx($p,{to:"/employee",children:p.jsxs(Se,{variant:"ghost",className:"text-white hover:bg-white/20",children:[p.jsx(pv,{className:"w-4 h-4 mr-2"}),"Employee Panel"]})}),p.jsx($p,{to:"/",children:p.jsxs(Se,{variant:"ghost",className:"text-white hover:bg-white/20",children:[p.jsx(Xb,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})})]}),p.jsx("main",{className:"flex-1 p-4",children:p.jsxs(fv,{defaultValue:"employees",className:"w-full",children:[p.jsxs(lh,{className:"w-full grid grid-cols-5 gap-1 bg-black/10 p-1 rounded-lg backdrop-blur-md",children:[p.jsxs(xn,{value:"employees",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(nA,{className:"w-4 h-4 mr-2"}),"Employees"]}),p.jsxs(xn,{value:"active",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(ch,{className:"w-4 h-4 mr-2"}),"Active"]}),p.jsxs(xn,{value:"attendance",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Attendance"]}),p.jsxs(xn,{value:"messages",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Messages"]}),p.jsxs(xn,{value:"schedule",className:"data-[state=active]:bg-white/20 text-white",children:[p.jsx(C5,{className:"w-4 h-4 mr-2"}),"Schedule"]})]}),p.jsx(_n,{value:"employees",children:p.jsx(qU,{employees:t,departments:s,onUpdate:E})}),p.jsx(_n,{value:"active",children:p.jsx(Jz,{activeEmployees:n,employees:t,departments:s,onRefresh:w})}),p.jsx(_n,{value:"attendance",children:p.jsx(Zz,{employees:t,departments:s,onViewAttendance:y,onRefresh:E})}),p.jsx(_n,{value:"messages",children:p.jsx(HU,{messages:[],employees:t,onMessageSent:E})}),p.jsx(_n,{value:"schedule",children:p.jsx(e$,{onUpdate:T})})]})}),o&&l&&p.jsx(_$,{isOpen:d,onClose:x,employee:o,recentActivity:l.recentActivity})]})]})};var T$="Label",nR=v.forwardRef((t,e)=>p.jsx(we.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nR.displayName=T$;var rR=nR;const S$=mv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qm=v.forwardRef(({className:t,...e},n)=>p.jsx(rR,{ref:n,className:Re(S$(),t),...e}));qm.displayName=rR.displayName;const C$=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(!1),l=$g(),{toast:c}=Fo();v.useEffect(()=>{const f=localStorage.getItem("currentEmployee");if(f){const g=JSON.parse(f);d(g)}},[]);const d=async f=>{try{const g=ii(Oe(le,"employees"),oi("employeeId","==",f.employeeId));(await Tn(g)).empty?(localStorage.removeItem("currentEmployee"),c({title:"Session Expired",description:"Please log in again",variant:"destructive"})):l("/employee")}catch(g){console.error("Error verifying stored employee:",g),localStorage.removeItem("currentEmployee")}},h=async f=>{f.preventDefault(),i(""),a(!0);try{const g=ii(Oe(le,"employees"),oi("employeeId","==",t)),E=await Tn(g);if(E.empty){i("Employee ID not found. Please check your credentials.");return}const T=E.docs[0].data();if(T.password!==n){i("Invalid password. Please try again.");return}if(T.disabled){i("This account has been disabled. Please contact your administrator.");return}const y={employeeId:T.employeeId,name:T.name,isAdmin:T.isAdmin,department:T.department};localStorage.setItem("currentEmployee",JSON.stringify(y)),sessionStorage.setItem("sessionActive","true"),c({title:"Welcome back!",description:`Logged in as ${T.name}`}),l("/employee")}catch(g){console.error("Login error:",g),i("An error occurred during login. Please try again.")}finally{a(!1)}};return p.jsxs("div",{className:"fixed inset-0 w-full h-full bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 overflow-hidden",children:p.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1497215728101-856f4ea42174')] bg-cover bg-center opacity-10"})}),p.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center justify-center p-4",children:[p.jsxs(ye.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-lg mx-auto text-center mb-8",children:[p.jsx("div",{className:"flex items-center justify-center mb-6",children:p.jsxs(ye.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full blur-xl"}),p.jsx("div",{className:"relative w-24 h-24 bg-white/10 rounded-full flex items-center justify-center border border-white/30 shadow-2xl",children:p.jsx(Pr,{className:"w-12 h-12 text-white"})})]})}),p.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Employee Portal"}),p.jsx("p",{className:"text-white/80",children:"Sign in to access your dashboard"})]}),p.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-md",children:p.jsx(Zt,{className:"bg-white/10 backdrop-blur-xl border-white/20 shadow-2xl",children:p.jsx(en,{className:"pt-6",children:p.jsxs("form",{onSubmit:h,className:"space-y-6",children:[p.jsxs(ye.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},className:"space-y-2",children:[p.jsx(qm,{htmlFor:"employeeId",className:"text-white",children:"Employee ID"}),p.jsxs("div",{className:"relative",children:[p.jsx(b5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50 w-5 h-5"}),p.jsx(sn,{id:"employeeId",type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your employee ID",className:"pl-10 h-12 bg-black/20 border-white/20 text-white placeholder:text-white/40 focus:border-white/40 focus: ring-white/20",required:!0,disabled:o})]})]}),p.jsxs(ye.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},className:"space-y-2",children:[p.jsx(qm,{htmlFor:"password",className:"text-white",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(P5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50 w-5 h-5"}),p.jsx(sn,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Enter your password",className:"pl-10 h-12 bg-black/20 border-white/20 text-white placeholder:text-white/40 focus:border-white/40 focus:ring-white/20",required:!0,disabled:o})]})]}),s&&p.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-500/10 border border-red-500/20 text-red-400 text-sm rounded-lg p-3 text-center",children:s}),p.jsx(ye.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:p.jsx(Se,{type:"submit",className:"w-full h-12 text-lg font-medium bg-white/10 hover:bg-white/20 text-white border border-white/20 transition-all duration-300 ease-in-out hover:scale-[1.02] focus:ring-white/20",disabled:o,children:o?"Signing in...":"Sign In"})})]})})})})]})]})};function I$(){return p.jsx(ZN,{children:p.jsxs(qN,{children:[p.jsx(tu,{path:"/",element:p.jsx(C$,{})}),p.jsx(tu,{path:"/employee",element:p.jsx(G5,{})}),p.jsx(tu,{path:"/admin",element:p.jsx(E$,{})})]})})}rS(document.getElementById("root")).render(p.jsx(v.StrictMode,{children:p.jsx(I$,{})}));
